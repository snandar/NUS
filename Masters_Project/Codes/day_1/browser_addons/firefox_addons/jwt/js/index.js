!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=111)}([function(e,t,r){"use strict";r.d(t,"h",function(){return n}),r.d(t,"e",function(){return i}),r.d(t,"g",function(){return o}),r.d(t,"d",function(){return a}),r.d(t,"f",function(){return s}),r.d(t,"c",function(){return u}),r.d(t,"i",function(){return l}),r.d(t,"l",function(){return c}),r.d(t,"s",function(){return f}),r.d(t,"b",function(){return h}),r.d(t,"a",function(){return p}),r.d(t,"k",function(){return d}),r.d(t,"o",function(){return g}),r.d(t,"q",function(){return y}),r.d(t,"j",function(){return v}),r.d(t,"n",function(){return m}),r.d(t,"m",function(){return b}),r.d(t,"r",function(){return w}),r.d(t,"p",function(){return C});var n=document.querySelector('.tab-link a[href="#encoded-jwt"]'),i=document.querySelector('.tab-link a[href="#decoded-jwt"]'),o=document.getElementById("encoded-jwt"),a=document.getElementById("decoded-jwt"),s=document.querySelector("#encoded-jwt .input"),u=document.querySelector("#decoded-jwt .output"),l=document.querySelector(".js-header"),c=document.querySelector(".js-payload"),f=document.querySelector(".validation-status.js-signature"),h=document.getElementById("algorithm-select"),p=h.querySelector('option[value="ES512"]'),d=document.querySelector(".jwt-signature pre.RS256"),g=document.getElementById("rsasha-text"),y=document.querySelector(".jwt-signature pre.HS256"),v=document.getElementById("hmacsha-text"),m=document.querySelector('.jwt-signature textarea[name="public-key"]'),b=document.querySelector('.jwt-signature textarea[name="private-key"]'),w=document.querySelector('.jwt-signature input[name="secret"]'),C=document.getElementById("is-base64-encoded")},function(e,t,r){"use strict";(function(e){var n=r(182),i=r(181),o=r(108);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return l(this,e,t,r)}function l(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=h(e,t),e}(e,t,r,n):"string"==typeof t?function(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(t,r),i=(e=s(e,n)).write(t,r);return i!==n&&(e=e.slice(0,i)),e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|p(t.length);return 0===(e=s(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):h(e,t);if("Buffer"===t.type&&o(t.data))return h(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(c(t),e=s(e,t<0?0:0|p(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function h(e,t){var r=t.length<0?0:0|p(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function d(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return H(e).length;default:if(n)return j(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){var o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=r;o<s;o++)if(l(e,o)===l(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var f=!0,h=0;h<u;h++)if(l(e,o+h)!==l(t,h)){f=!1;break}if(f)return o}return-1}function m(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function b(e,t,r,n){return K(j(t,e.length-r),e,r,n)}function w(e,t,r,n){return K(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function C(e,t,r,n){return w(e,t,r,n)}function E(e,t,r,n){return K(H(t),e,r,n)}function S(e,t,r,n){return K(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function T(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function A(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,u,l=e[i],c=null,f=l>239?4:l>223?3:l>191?2:1;if(i+f<=r)switch(f){case 1:l<128&&(c=l);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&l)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,f=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=f}return function(e){var t=e.length;if(t<=_)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=_));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return l(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return c(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,r);case"utf8":case"utf-8":return A(this,t,r);case"ascii":return k(this,t,r);case"latin1":case"binary":return I(this,t,r);case"base64":return T(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,a=r-t,s=Math.min(o,a),l=this.slice(n,i),c=e.slice(t,r),f=0;f<s;++f)if(l[f]!==c[f]){o=l[f],a=c[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return m(this,e,t,r);case"utf8":case"utf-8":return b(this,e,t,r);case"ascii":return w(this,e,t,r);case"latin1":case"binary":return C(this,e,t,r);case"base64":return E(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var _=4096;function k(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function I(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function x(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=M(e[o]);return i}function B(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function N(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,r,n,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function R(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function O(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function P(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function D(e,t,r,n,o){return o||P(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function F(e,t,r,n,o){return o||P(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||N(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||N(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||N(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||N(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){e=+e,t|=0,r|=0,n||L(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){e=+e,t|=0,r|=0,n||L(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):O(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):O(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);L(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);L(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):O(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):O(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return D(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return D(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return F(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return F(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=u.isBuffer(e)?e:j(new u(e,n).toString()),s=a.length;for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function M(e){return e<16?"0"+e.toString(16):e.toString(16)}function j(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function H(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function K(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(6))},function(e,t){e.exports={options:{usePureJavaScript:!1}}},function(e,t,r){(function(t,n,i,o){var a=r(2),s=r(176),u=e.exports=a.util=a.util||{};function l(e){if(8!==e&&16!==e&&24!==e&&32!==e)throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}function c(e){if(this.data="",this.read=0,"string"==typeof e)this.data=e;else if(u.isArrayBuffer(e)||u.isArrayBufferView(e))if(void 0!==i&&e instanceof i)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(e){for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof c||"object"==typeof e&&"string"==typeof e.data&&"number"==typeof e.read)&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}!function(){if(void 0!==t&&t.nextTick)return u.nextTick=t.nextTick,void(u.setImmediate="function"==typeof n?n:u.nextTick);if("function"==typeof n)return u.setImmediate=function(){return n.apply(void 0,arguments)},void(u.nextTick=function(e){return n(e)});if(u.setImmediate=function(e){setTimeout(e,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage){var e="forge.setImmediate",r=[];u.setImmediate=function(t){r.push(t),1===r.length&&window.postMessage(e,"*")},window.addEventListener("message",function(t){if(t.source===window&&t.data===e){t.stopPropagation();var n=r.slice();r.length=0,n.forEach(function(e){e()})}},!0)}if("undefined"!=typeof MutationObserver){var i=Date.now(),o=!0,a=document.createElement("div");r=[],new MutationObserver(function(){var e=r.slice();r.length=0,e.forEach(function(e){e()})}).observe(a,{attributes:!0});var s=u.setImmediate;u.setImmediate=function(e){Date.now()-i>15?(i=Date.now(),s(e)):(r.push(e),1===r.length&&a.setAttribute("a",o=!o))}}u.nextTick=u.setImmediate}(),u.isNodejs=void 0!==t&&t.versions&&t.versions.node,u.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},u.isArrayBuffer=function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer},u.isArrayBufferView=function(e){return e&&u.isArrayBuffer(e.buffer)&&void 0!==e.byteLength},u.ByteBuffer=c,u.ByteStringBuffer=c,u.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},u.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},u.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},u.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))},u.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this},u.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this},u.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(u.encodeUtf8(e))},u.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},u.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},u.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},u.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255))},u.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))},u.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))},u.ByteStringBuffer.prototype.putInt=function(e,t){l(t);var r="";do{t-=8,r+=String.fromCharCode(e>>t&255)}while(t>0);return this.putBytes(r)},u.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},u.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())},u.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},u.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},u.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},u.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},u.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},u.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},u.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},u.ByteStringBuffer.prototype.getInt=function(e){l(e);var t=0;do{t=(t<<8)+this.data.charCodeAt(this.read++),e-=8}while(e>0);return t},u.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},u.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},u.ByteStringBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},u.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},u.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},u.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},u.ByteStringBuffer.prototype.copy=function(){var e=u.createBuffer(this.data);return e.read=this.read,e},u.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},u.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},u.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this},u.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e},u.ByteStringBuffer.prototype.toString=function(){return u.decodeUtf8(this.bytes())},u.DataBuffer=function(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=u.isArrayBuffer(e),n=u.isArrayBufferView(e);if(r||n)return this.data=r?new DataView(e):new DataView(e.buffer,e.byteOffset,e.byteLength),void(this.write="writeOffset"in t?t.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!==e&&void 0!==e&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)},u.DataBuffer.prototype.length=function(){return this.write-this.read},u.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},u.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this},u.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this},u.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this},u.DataBuffer.prototype.putBytes=function(e,t){if(u.isArrayBufferView(e)){var r=(n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)).byteLength-n.byteOffset;return this.accommodate(r),new Uint8Array(this.data.buffer,this.write).set(n),this.write+=r,this}if(u.isArrayBuffer(e)){var n=new Uint8Array(e);return this.accommodate(n.byteLength),new Uint8Array(this.data.buffer).set(n,this.write),this.write+=n.byteLength,this}if(e instanceof u.DataBuffer||"object"==typeof e&&"number"==typeof e.read&&"number"==typeof e.write&&u.isArrayBufferView(e.data))return n=new Uint8Array(e.data.byteLength,e.read,e.length()),this.accommodate(n.byteLength),new Uint8Array(e.data.byteLength,this.write).set(n),this.write+=n.byteLength,this;if(e instanceof u.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary","string"==typeof e){var i;if("hex"===t)return this.accommodate(Math.ceil(e.length/2)),i=new Uint8Array(this.data.buffer,this.write),this.write+=u.binary.hex.decode(e,i,this.write),this;if("base64"===t)return this.accommodate(3*Math.ceil(e.length/4)),i=new Uint8Array(this.data.buffer,this.write),this.write+=u.binary.base64.decode(e,i,this.write),this;if("utf8"===t&&(e=u.encodeUtf8(e),t="binary"),"binary"===t||"raw"===t)return this.accommodate(e.length),i=new Uint8Array(this.data.buffer,this.write),this.write+=u.binary.raw.decode(i),this;if("utf16"===t)return this.accommodate(2*e.length),i=new Uint16Array(this.data.buffer,this.write),this.write+=u.text.utf16.encode(i),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)},u.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this},u.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")},u.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this},u.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this},u.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this},u.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this},u.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this},u.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this},u.DataBuffer.prototype.putInt=function(e,t){l(t),this.accommodate(t/8);do{t-=8,this.data.setInt8(this.write++,e>>t&255)}while(t>0);return this},u.DataBuffer.prototype.putSignedInt=function(e,t){return l(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)},u.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},u.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e},u.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e},u.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e},u.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e},u.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e},u.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e},u.DataBuffer.prototype.getInt=function(e){l(e);var t=0;do{t=(t<<8)+this.data.getInt8(this.read++),e-=8}while(e>0);return t},u.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},u.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},u.DataBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},u.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)},u.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this},u.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},u.DataBuffer.prototype.copy=function(){return new u.DataBuffer(this)},u.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this},u.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},u.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this},u.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e},u.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if("binary"===(e=e||"utf8")||"raw"===e)return u.binary.raw.encode(t);if("hex"===e)return u.binary.hex.encode(t);if("base64"===e)return u.binary.base64.encode(t);if("utf8"===e)return u.text.utf8.decode(t);if("utf16"===e)return u.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)},u.createBuffer=function(e,t){return t=t||"raw",void 0!==e&&"utf8"===t&&(e=u.encodeUtf8(e)),new u.ByteBuffer(e)},u.fillString=function(e,t){for(var r="";t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return r},u.xorBytes=function(e,t,r){for(var n="",i="",o="",a=0,s=0;r>0;--r,++a)i=e.charCodeAt(a)^t.charCodeAt(a),s>=10&&(n+=o,o="",s=0),o+=String.fromCharCode(i),++s;return n+o},u.hexToBytes=function(e){var t="",r=0;for(!0&e.length&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t},u.bytesToHex=function(e){return u.createBuffer(e).toHex()},u.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],p="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";u.encode64=function(e,t){for(var r,n,i,o="",a="",s=0;s<e.length;)r=e.charCodeAt(s++),n=e.charCodeAt(s++),i=e.charCodeAt(s++),o+=f.charAt(r>>2),o+=f.charAt((3&r)<<4|n>>4),isNaN(n)?o+="==":(o+=f.charAt((15&n)<<2|i>>6),o+=isNaN(i)?"=":f.charAt(63&i)),t&&o.length>t&&(a+=o.substr(0,t)+"\r\n",o=o.substr(t));return a+o},u.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t,r,n,i,o="",a=0;a<e.length;)t=h[e.charCodeAt(a++)-43],r=h[e.charCodeAt(a++)-43],n=h[e.charCodeAt(a++)-43],i=h[e.charCodeAt(a++)-43],o+=String.fromCharCode(t<<2|r>>4),64!==n&&(o+=String.fromCharCode((15&r)<<4|n>>2),64!==i&&(o+=String.fromCharCode((3&n)<<6|i)));return o},u.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},u.decodeUtf8=function(e){return decodeURIComponent(escape(e))},u.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:s.encode,decode:s.decode}},u.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)},u.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length));for(var i=r=r||0,o=0;o<e.length;++o)n[i++]=e.charCodeAt(o);return t?i-r:n},u.binary.hex.encode=u.bytesToHex,u.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2)));var i=0,o=r=r||0;for(1&e.length&&(i=1,n[o++]=parseInt(e[0],16));i<e.length;i+=2)n[o++]=parseInt(e.substr(i,2),16);return t?o-r:n},u.binary.base64.encode=function(e,t){for(var r,n,i,o="",a="",s=0;s<e.byteLength;)r=e[s++],n=e[s++],i=e[s++],o+=f.charAt(r>>2),o+=f.charAt((3&r)<<4|n>>4),isNaN(n)?o+="==":(o+=f.charAt((15&n)<<2|i>>6),o+=isNaN(i)?"=":f.charAt(63&i)),t&&o.length>t&&(a+=o.substr(0,t)+"\r\n",o=o.substr(t));return a+o},u.binary.base64.decode=function(e,t,r){var n,i,o,a,s=t;s||(s=new Uint8Array(3*Math.ceil(e.length/4))),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var u=0,l=r=r||0;u<e.length;)n=h[e.charCodeAt(u++)-43],i=h[e.charCodeAt(u++)-43],o=h[e.charCodeAt(u++)-43],a=h[e.charCodeAt(u++)-43],s[l++]=n<<2|i>>4,64!==o&&(s[l++]=(15&i)<<4|o>>2,64!==a&&(s[l++]=(3&o)<<6|a));return t?l-r:s.subarray(0,l)},u.binary.base58.encode=function(e,t){return u.binary.baseN.encode(e,p,t)},u.binary.base58.decode=function(e,t){return u.binary.baseN.decode(e,p,t)},u.text={utf8:{},utf16:{}},u.text.utf8.encode=function(e,t,r){e=u.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length));for(var i=r=r||0,o=0;o<e.length;++o)n[i++]=e.charCodeAt(o);return t?i-r:n},u.text.utf8.decode=function(e){return u.decodeUtf8(String.fromCharCode.apply(null,e))},u.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(2*e.length));for(var i=new Uint16Array(n.buffer),o=r=r||0,a=r,s=0;s<e.length;++s)i[a++]=e.charCodeAt(s),o+=2;return t?o-r:n},u.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))},u.deflate=function(e,t,r){if(t=u.decode64(e.deflate(u.encode64(t)).rval),r){var n=2;32&t.charCodeAt(1)&&(n=6),t=t.substring(n,t.length-4)}return t},u.inflate=function(e,t,r){var n=e.inflate(u.encode64(t)).rval;return null===n?null:u.decode64(n)};var d=function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(null===r?n=e.removeItem(t):(r=u.encode64(JSON.stringify(r)),n=e.setItem(t,r)),void 0!==n&&!0!==n.rval){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},g=function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(null===r.rval){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return null!==r&&(r=JSON.parse(u.decode64(r))),r},y=function(e,t,r,n){var i=g(e,t);null===i&&(i={}),i[r]=n,d(e,t,i)},v=function(e,t,r){var n=g(e,t);return null!==n&&(n=r in n?n[r]:null),n},m=function(e,t,r){var n=g(e,t);if(null!==n&&r in n){delete n[r];var i=!0;for(var o in n){i=!1;break}i&&(n=null),d(e,t,n)}},b=function(e,t){d(e,t,null)},w=function(e,t,r){var n,i=null;void 0===r&&(r=["web","flash"]);var o=!1,a=null;for(var s in r){n=r[s];try{if("flash"===n||"both"===n){if(null===t[0])throw new Error("Flash local storage not available.");i=e.apply(this,t),o="flash"===n}"web"!==n&&"both"!==n||(t[0]=localStorage,i=e.apply(this,t),o=!0)}catch(e){a=e}if(o)break}if(!o)throw a;return i};u.setItem=function(e,t,r,n,i){w(y,arguments,i)},u.getItem=function(e,t,r,n){return w(v,arguments,n)},u.removeItem=function(e,t,r,n){w(m,arguments,n)},u.clearItems=function(e,t,r){w(b,arguments,r)},u.parseUrl=function(e){var t=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;t.lastIndex=0;var r=t.exec(e),n=null===r?null:{full:e,scheme:r[1],host:r[2],port:r[3],path:r[4]};return n&&(n.fullHost=n.host,n.port?80!==n.port&&"http"===n.scheme?n.fullHost+=":"+n.port:443!==n.port&&"https"===n.scheme&&(n.fullHost+=":"+n.port):"http"===n.scheme?n.port=80:"https"===n.scheme&&(n.port=443),n.full=n.scheme+"://"+n.fullHost),n};var C=null;u.getQueryVariables=function(e){var t,r=function(e){for(var t={},r=e.split("&"),n=0;n<r.length;n++){var i,o,a=r[n].indexOf("=");a>0?(i=r[n].substring(0,a),o=r[n].substring(a+1)):(i=r[n],o=null),i in t||(t[i]=[]),i in Object.prototype||null===o||t[i].push(unescape(o))}return t};return void 0===e?(null===C&&(C="undefined"!=typeof window&&window.location&&window.location.search?r(window.location.search.substring(1)):{}),t=C):t=r(e),t},u.parseFragment=function(e){var t=e,r="",n=e.indexOf("?");n>0&&(t=e.substring(0,n),r=e.substring(n+1));var i=t.split("/");return i.length>0&&""===i[0]&&i.shift(),{pathString:t,queryString:r,path:i,query:""===r?{}:u.getQueryVariables(r)}},u.makeRequest=function(e){var t=u.parseFragment(e),r={path:t.pathString,query:t.queryString,getPath:function(e){return void 0===e?t.path:t.path[e]},getQuery:function(e,r){var n;return void 0===e?n=t.query:(n=t.query[e])&&void 0!==r&&(n=n[r]),n},getQueryLast:function(e,t){var n=r.getQuery(e);return n?n[n.length-1]:t}};return r},u.makeLink=function(e,t,r){e=o.isArray(e)?e.join("/"):e;var n=o.param(t||{});return r=r||"",e+(n.length>0?"?"+n:"")+(r.length>0?"#"+r:"")},u.setPath=function(e,t,r){if("object"==typeof e&&null!==e)for(var n=0,i=t.length;n<i;){var o=t[n++];if(n==i)e[o]=r;else{var a=o in e;(!a||a&&"object"!=typeof e[o]||a&&null===e[o])&&(e[o]={}),e=e[o]}}},u.getPath=function(e,t,r){for(var n=0,i=t.length,o=!0;o&&n<i&&"object"==typeof e&&null!==e;){var a=t[n++];(o=a in e)&&(e=e[a])}return o?e:r},u.deletePath=function(e,t){if("object"==typeof e&&null!==e)for(var r=0,n=t.length;r<n;){var i=t[r++];if(r==n)delete e[i];else{if(!(i in e)||"object"!=typeof e[i]||null===e[i])break;e=e[i]}}},u.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},u.format=function(e){for(var t,r,n=/%./g,i=0,o=[],a=0;t=n.exec(e);){(r=e.substring(a,n.lastIndex-2)).length>0&&o.push(r),a=n.lastIndex;var s=t[0][1];switch(s){case"s":case"o":i<arguments.length?o.push(arguments[1+i++]):o.push("<?>");break;case"%":o.push("%");break;default:o.push("<%"+s+"?>")}}return o.push(e.substring(a)),o.join("")},u.formatNumber=function(e,t,r,n){var i=e,o=isNaN(t=Math.abs(t))?2:t,a=void 0===r?",":r,s=void 0===n?".":n,u=i<0?"-":"",l=parseInt(i=Math.abs(+i||0).toFixed(o),10)+"",c=l.length>3?l.length%3:0;return u+(c?l.substr(0,c)+s:"")+l.substr(c).replace(/(\d{3})(?=\d)/g,"$1"+s)+(o?a+Math.abs(i-l).toFixed(o).slice(2):"")},u.formatSize=function(e){return e>=1073741824?u.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?u.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?u.formatNumber(e/1024,0)+" KiB":u.formatNumber(e,0)+" bytes"},u.bytesFromIP=function(e){return-1!==e.indexOf(".")?u.bytesFromIPv4(e):-1!==e.indexOf(":")?u.bytesFromIPv6(e):null},u.bytesFromIPv4=function(e){if(4!==(e=e.split(".")).length)return null;for(var t=u.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()},u.bytesFromIPv6=function(e){for(var t=0,r=2*(8-(e=e.split(":").filter(function(e){return 0===e.length&&++t,!0})).length+t),n=u.createBuffer(),i=0;i<8;++i)if(e[i]&&0!==e[i].length){var o=u.hexToBytes(e[i]);o.length<2&&n.putByte(0),n.putBytes(o)}else n.fillWithByte(0,r),r=0;return n.getBytes()},u.bytesToIP=function(e){return 4===e.length?u.bytesToIPv4(e):16===e.length?u.bytesToIPv6(e):null},u.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")},u.bytesToIPv6=function(e){if(16!==e.length)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var o=u.bytesToHex(e[i]+e[i+1]);"0"===o[0]&&"0"!==o;)o=o.substr(1);if("0"===o){var a=r[r.length-1],s=t.length;a&&s===a.end+1?(a.end=s,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1)):r.push({start:s,end:s})}t.push(o)}if(r.length>0){var l=r[n];l.end-l.start>0&&(t.splice(l.start,l.end-l.start+1,""),0===l.start&&t.unshift(""),7===l.end&&t.push(""))}return t.join(":")},u.estimateCores=function(e,t){if("function"==typeof e&&(t=e,e={}),e=e||{},"cores"in u&&!e.update)return t(null,u.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return u.cores=navigator.hardwareConcurrency,t(null,u.cores);if("undefined"==typeof Worker)return u.cores=1,t(null,u.cores);if("undefined"==typeof Blob)return u.cores=2,t(null,u.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(e){for(var t=Date.now(),r=t+4;Date.now()<r;);self.postMessage({st:t,et:r})})}.toString(),")()"],{type:"application/javascript"}));!function e(n,i,o){if(0===i){var a=Math.floor(n.reduce(function(e,t){return e+t},0)/n.length);return u.cores=Math.max(1,a),URL.revokeObjectURL(r),t(null,u.cores)}!function(e,t){for(var n=[],i=[],o=0;o<e;++o){var a=new Worker(r);a.addEventListener("message",function(r){if(i.push(r.data),i.length===e){for(var o=0;o<e;++o)n[o].terminate();t(null,i)}}),n.push(a)}for(o=0;o<e;++o)n[o].postMessage(o)}(o,function(t,r){n.push(function(e,t){for(var r=[],n=0;n<e;++n)for(var i=t[n],o=r[n]=[],a=0;a<e;++a)if(n!==a){var s=t[a];(i.st>s.st&&i.st<s.et||s.st>i.st&&s.st<i.et)&&o.push(a)}return r.reduce(function(e,t){return Math.max(e,t.length)},0)}(o,r)),e(n,i-1,o)})}([],5,16)}}).call(this,r(14),r(67).setImmediate,r(1).Buffer,r(104))},function(e,t,r){"use strict";r.d(t,"d",function(){return o}),r.d(t,"b",function(){return a}),r.d(t,"e",function(){return u}),r.d(t,"c",function(){return l}),r.d(t,"a",function(){return c});var n=r(8),i=r(0);function o(e){var t=e.getValue();return t?t.replace(/\s/g,""):""}function a(){Object(n.d)()&&(i.f.style.height="".concat(i.c.offsetHeight,"px"))}var s=2;function u(e){return JSON.stringify(e,null,s)}function l(){return i.b.options[i.b.selectedIndex].value}function c(){/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&(i.a.disabled=!0)}},function(e,t,r){"use strict";(function(t){var n,i,o=r(2);function a(e){e=e||{},this.name="",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._blocks=this.blockSize/4,this._inBlock=new Array(this._blocks),this._outBlock=new Array(this._blocks)}r(18),r(13),r(46),r(27),r(66),r(45),r(21),r(65),r(101),r(60),r(61),r(63),r(43),r(9),r(26),r(64),r(59),r(3),a.prototype.start=function(){},a.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;var n;for(n=0;n<this._blocks;++n)this._inBlock[n]=e.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),n=0;n<this._blocks;++n)t.putInt32(this._outBlock[n])},a.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;var n;for(n=0;n<this._blocks;++n)this._inBlock[n]=e.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),n=0;n<this._blocks;++n)t.putInt32(this._outBlock[n])},i=a,n=function(){return new o.aes.Algorithm("AES",i)},o.cipher.registerAlgorithm("AES",n),"function"==typeof t&&(o.util.setImmediate=o.util.nextTick=function(e){t(e)}),e.exports=o}).call(this,r(67).setImmediate)},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";(function(t){var n,i=r(5);n={base64url:r(40),utf8:r(172),asBuffer:function(e,r){return t.isBuffer(e)?e:"string"==typeof e?"base64url"===(r=r||"binary")?n.base64url.decode(e):t.from(e,r):(i.util.isArrayBufferView(e)?e=e instanceof Uint8Array?e:new Uint8Array(e.buffer,e.byteOffset,e.byteOffset+e.byteLength):i.util.isArrayBuffer(e)&&(e=new Uint8Array(e)),t.from(e))},randomBytes:function(e){return t.from(i.random.getBytes(e),"binary")}},e.exports=n}).call(this,r(1).Buffer)},function(e,t,r){"use strict";r.d(t,"c",function(){return s}),r.d(t,"b",function(){return u}),r.d(t,"a",function(){return l}),r.d(t,"d",function(){return c}),r.d(t,"e",function(){return f});var n=r(11),i=r.n(n),o=r(110),a=r.n(o);function s(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise(function(r,n){var i=new XMLHttpRequest;i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&(200===i.status?r(i.responseText):n({status:i.status,response:i.responseText}))},i.open("GET",e),t||i.setRequestHeader("Cache-Control","no-cache"),i.send()})}function u(e){setTimeout(e,1)}function l(e,t){var r="https://jwt.io/#debugger-io?token=".concat(encodeURIComponent(e));return t&&(r+="&publicKey=".concat(encodeURIComponent(t))),a.a.writeText(r),r}function c(){return window.matchMedia("(min-width: 768px)").matches}function f(e,t){try{localStorage.setItem(e,t)}catch(e){i.a.info("Cannot save token to Local Storage (private browsing enabled?), ignoring...",e)}}},function(e,t,r){(function(t){var n=r(2);r(18),r(64),r(63),r(3),n.random&&n.random.getBytes?e.exports=n.random:function(t){var r={},i=new Array(4),o=n.util.createBuffer();function a(){var e=n.prng.create(r);return e.getBytes=function(t,r){return e.generate(t,r)},e.getBytesSync=function(t){return e.generate(t)},e}r.formatKey=function(e){var t=n.util.createBuffer(e);return(e=new Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),n.aes._expandKey(e,!1)},r.formatSeed=function(e){var t=n.util.createBuffer(e);return(e=new Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),e},r.cipher=function(e,t){return n.aes._updateBlock(e,t,i,!1),o.putInt32(i[0]),o.putInt32(i[1]),o.putInt32(i[2]),o.putInt32(i[3]),o.getBytes()},r.increment=function(e){return++e[3],e},r.md=n.md.sha256;var s=a(),u=null;if("undefined"!=typeof window){var l=window.crypto||window.msCrypto;l&&l.getRandomValues&&(u=function(e){return l.getRandomValues(e)})}if(n.options.usePureJavaScript||!n.util.isNodejs&&!u){if("undefined"==typeof window||window.document,s.collectInt(+new Date,32),"undefined"!=typeof navigator){var c="";for(var f in navigator)try{"string"==typeof navigator[f]&&(c+=navigator[f])}catch(e){}s.collect(c),c=null}t&&(t().mousemove(function(e){s.collectInt(e.clientX,16),s.collectInt(e.clientY,16)}),t().keypress(function(e){s.collectInt(e.charCode,8)}))}if(n.random)for(var f in s)n.random[f]=s[f];else n.random=s;n.random.createInstance=a,e.exports=n.random}(void 0!==t?t:null)}).call(this,r(104))},function(e,t,r){"use strict";(function(e){"undefined"==typeof Promise&&r(107).polyfill(),t.int32ToBuffer=function(t,r){return(r=r||e.alloc(4))[0]=t>>>24&255,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r};var n=Math.pow(2,32);t.int64ToBuffer=function(r,i){i=i||e.alloc(8);var o=Math.floor(r/n),a=r%n;return o=t.int32ToBuffer(o),a=t.int32ToBuffer(a),e.concat([o,a])};var i={};Object.defineProperty(t,"subtleCrypto",{get:function(){return"subtleCrypto"in i?i.subtleCrypto:i.subtleCrypto=function(){if("undefined"!=typeof crypto&&void 0!==crypto.subtle)return crypto.subtle}()},enumerable:!0}),Object.defineProperty(t,"nodeCrypto",{get:function(){return"nodeCrypto"in i?i.nodeCrypto:i.nodeCrypto=function(){var e;try{e=r(165)}catch(e){return}if(Object.keys(e).length)return e}()},enumerable:!0}),t.setupFallback=function(e,r,n){return e&&t.nodeCrypto?function(){var t,r=arguments;try{t=Promise.resolve(e.apply(null,r))}catch(e){t=function(e){return 0===e.message.indexOf("unsupported algorithm:")?n.apply(null,r):Promise.reject(e)}(e)}return t}:r&&t.subtleCrypto?function(){var e,t=arguments;function i(e){return e.code!==DOMException.NOT_SUPPORTED_ERR&&"Only ArrayBuffer and ArrayBufferView objects can be passed as CryptoOperationData"!==e.message&&e instanceof Error?Promise.reject(e):n.apply(null,t)}try{e=(e=r.apply(null,t)).catch(i)}catch(t){e=i(t)}return e}:n}}).call(this,r(1).Buffer)},function(e,t,r){var n,i;!function(o,a){"use strict";void 0===(i="function"==typeof(n=function(){var e=function(){},t="undefined",r=["trace","debug","info","warn","error"];function n(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function i(t,n){for(var i=0;i<r.length;i++){var o=r[i];this[o]=i<t?e:this.methodFactory(o,t,n)}this.log=this.debug}function o(r,o,a){return function(r){return"debug"===r&&(r="log"),typeof console!==t&&(void 0!==console[r]?n(console,r):void 0!==console.log?n(console,"log"):e)}(r)||function(e,r,n){return function(){typeof console!==t&&(i.call(this,r,n),this[e].apply(this,arguments))}}.apply(this,arguments)}function a(e,n,a){var s,u=this,l="loglevel";function c(){var e;if(typeof window!==t){try{e=window.localStorage[l]}catch(e){}if(typeof e===t)try{var r=window.document.cookie,n=r.indexOf(encodeURIComponent(l)+"=");-1!==n&&(e=/^([^;]+)/.exec(r.slice(n))[1])}catch(e){}return void 0===u.levels[e]&&(e=void 0),e}}e&&(l+=":"+e),u.name=e,u.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},u.methodFactory=a||o,u.getLevel=function(){return s},u.setLevel=function(n,o){if("string"==typeof n&&void 0!==u.levels[n.toUpperCase()]&&(n=u.levels[n.toUpperCase()]),!("number"==typeof n&&n>=0&&n<=u.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(s=n,!1!==o&&function(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t){try{return void(window.localStorage[l]=n)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"="+n+";"}catch(e){}}}(n),i.call(u,n,e),typeof console===t&&n<u.levels.SILENT)return"No console available for logging"},u.setDefaultLevel=function(e){c()||u.setLevel(e,!1)},u.enableAll=function(e){u.setLevel(u.levels.TRACE,e)},u.disableAll=function(e){u.setLevel(u.levels.SILENT,e)};var f=c();null==f&&(f=null==n?"WARN":n),u.setLevel(f,!1)}var s=new a,u={};s.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=u[e];return t||(t=u[e]=new a(e,s.getLevel(),s.methodFactory)),t};var l=typeof window!==t?window.log:void 0;return s.noConflict=function(){return typeof window!==t&&window.log===s&&(window.log=l),s},s.getLoggers=function(){return u},s})?n.call(t,r,t,e):n)||(e.exports=i)}()},function(e,t,r){"use strict";(function(e){r.d(t,"c",function(){return p}),r.d(t,"d",function(){return d}),r.d(t,"a",function(){return g}),r.d(t,"b",function(){return y});var n=r(31),i=r.n(n),o=r(23),a=r.n(o),s=r(109),u=r.n(s),l=r(70),c=r(11),f=r.n(c);function h(t,r,n){return 0===t.alg.indexOf("HS")?i.a.JWK.asKey({kty:"oct",use:"sig",alg:t.alg,k:function(t,r,n){var i=-1!==r.indexOf("256")?64:128,o=n?e.from(t,"base64"):e.from(t);if(o.length<i){var s=o;(o=e.alloc(i)).set(s)}return a.a.encode(o)}(r,t.alg,n)}):(0===t.alg.indexOf("RS")&&(r=function(e){try{var t=e.indexOf("-----BEGIN RSA PUBLIC KEY-----"),r=e.indexOf("-----END RSA PUBLIC KEY-----");return-1!==t&&-1!==r?l.pki.publicKeyToPem(l.pki.publicKeyFromPem(e)):e}catch(t){return e}}(r)),u()(["pem","json"].map(function(e){try{return i.a.JWK.asKey(r,e)}catch(e){return Promise.reject(e)}})))}function p(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e.alg?h(e,r,n).then(function(r){return"string"==typeof t||t instanceof String||(t=JSON.stringify(t)),i.a.JWS.createSign({fields:e,format:"compact"},{key:r,reference:!1}).update(t,"utf8").final()}):Promise.reject(new Error('Missing "alg" claim in header'))}function d(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!y(e))return Promise.resolve(!1);var n=g(e);return n.header.alg?h(n.header,t,r).then(function(t){return i.a.JWS.createVerify(t).verify(e).then(function(){return!0},function(){return!1})},function(e){return f.a.warn("Could not verify token, probably due to bad data in it or the keys: ",e),!1}):Promise.resolve(!1)}function g(e){var t={header:{},payload:{},errors:!1};if(!e)return t.errors=!0,t;var r=e.split(".");try{t.header=JSON.parse(a.a.decode(r[0]))}catch(e){t.header={},t.errors=!0}try{t.payload=JSON.parse(a.a.decode(r[1]))}catch(e){t.payload={},t.errors=!0}return t}function y(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=g(e);if(r.errors)return!1;if(t&&"JWT"!==r.header.typ)return!1;var n=!0;return e.split(".").forEach(function(e){return n=n&&function(e,t){try{for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",n=!1,i=0;i<e.length;++i)if(n|="="===e.charAt(i),-1===r.indexOf(e.charAt(i)))return!1;if(n){for(var o=e.indexOf("=");o<e.length;++o)if("="!==e.charAt(o))return!1;return e.length%4==0}return!0}catch(e){return!1}}(e)}),n}}).call(this,r(1).Buffer)},function(e,t,r){var n=r(2);r(3),r(22);var i=e.exports=n.asn1=n.asn1||{};function o(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}i.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},i.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},i.create=function(e,t,r,o,a){if(n.util.isArray(o)){for(var s=[],u=0;u<o.length;++u)void 0!==o[u]&&s.push(o[u]);o=s}var l={tagClass:e,type:t,constructed:r,composed:r||n.util.isArray(o),value:o};return a&&"bitStringContents"in a&&(l.bitStringContents=a.bitStringContents,l.original=i.copy(l)),l},i.copy=function(e,t){var r;if(n.util.isArray(e)){r=[];for(var o=0;o<e.length;++o)r.push(i.copy(e[o],t));return r}return"string"==typeof e?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:i.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)},i.equals=function(e,t,r){if(n.util.isArray(e)){if(!n.util.isArray(t))return!1;if(e.length!==t.length)return!1;for(var o=0;o<e.length;++o)if(!i.equals(e[o],t[o]))return!1;return!0}if(typeof e!=typeof t)return!1;if("string"==typeof e)return e===t;var a=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&i.equals(e.value,t.value);return r&&r.includeBitStringContents&&(a=a&&e.bitStringContents===t.bitStringContents),a},i.getBerValueLength=function(e){var t=e.getByte();if(128!==t)return 128&t?e.getInt((127&t)<<3):t};i.fromDer=function(e,t){return void 0===t&&(t={strict:!0,decodeBitStrings:!0}),"boolean"==typeof t&&(t={strict:t,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),"string"==typeof e&&(e=n.util.createBuffer(e)),function e(t,r,n,a){var s;o(t,r,2);var u=t.getByte();r--;var l=192&u,c=31&u;s=t.length();var f,h,p=function(e,t){var r=e.getByte();if(t--,128!==r){var n;if(128&r){var i=127&r;o(e,t,i),n=e.getInt(i<<3)}else n=r;if(n<0)throw new Error("Negative length: "+n);return n}}(t,r);if(r-=s-t.length(),void 0!==p&&p>r){if(a.strict){var d=new Error("Too few bytes to read ASN.1 value.");throw d.available=t.length(),d.remaining=r,d.requested=p,d}p=r}var g=32==(32&u);if(g)if(f=[],void 0===p)for(;;){if(o(t,r,2),t.bytes(2)===String.fromCharCode(0,0)){t.getBytes(2),r-=2;break}s=t.length(),f.push(e(t,r,n+1,a)),r-=s-t.length()}else for(;p>0;)s=t.length(),f.push(e(t,p,n+1,a)),r-=s-t.length(),p-=s-t.length();if(void 0===f&&l===i.Class.UNIVERSAL&&c===i.Type.BITSTRING&&(h=t.bytes(p)),void 0===f&&a.decodeBitStrings&&l===i.Class.UNIVERSAL&&c===i.Type.BITSTRING&&p>1){var y=t.read,v=r,m=0;if(c===i.Type.BITSTRING&&(o(t,r,1),m=t.getByte(),r--),0===m)try{s=t.length();var b=e(t,r,n+1,{verbose:a.verbose,strict:!0,decodeBitStrings:!0}),w=s-t.length();r-=w,c==i.Type.BITSTRING&&w++;var C=b.tagClass;w!==p||C!==i.Class.UNIVERSAL&&C!==i.Class.CONTEXT_SPECIFIC||(f=[b])}catch(e){}void 0===f&&(t.read=y,r=v)}if(void 0===f){if(void 0===p){if(a.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");p=r}if(c===i.Type.BMPSTRING)for(f="";p>0;p-=2)o(t,r,2),f+=String.fromCharCode(t.getInt16()),r-=2;else f=t.getBytes(p)}var E=void 0===h?null:{bitStringContents:h};return i.create(l,c,g,f,E)}(e,e.length(),0,t)},i.toDer=function(e){var t=n.util.createBuffer(),r=e.tagClass|e.type,o=n.util.createBuffer(),a=!1;if("bitStringContents"in e&&(a=!0,e.original&&(a=i.equals(e,e.original))),a)o.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:o.putByte(0);for(var s=0;s<e.value.length;++s)void 0!==e.value[s]&&o.putBuffer(i.toDer(e.value[s]))}else if(e.type===i.Type.BMPSTRING)for(s=0;s<e.value.length;++s)o.putInt16(e.value.charCodeAt(s));else e.type===i.Type.INTEGER&&e.value.length>1&&(0===e.value.charCodeAt(0)&&0==(128&e.value.charCodeAt(1))||255===e.value.charCodeAt(0)&&128==(128&e.value.charCodeAt(1)))?o.putBytes(e.value.substr(1)):o.putBytes(e.value);if(t.putByte(r),o.length()<=127)t.putByte(127&o.length());else{var u=o.length(),l="";do{l+=String.fromCharCode(255&u),u>>>=8}while(u>0);for(t.putByte(128|l.length),s=l.length-1;s>=0;--s)t.putByte(l.charCodeAt(s))}return t.putBuffer(o),t},i.oidToDer=function(e){var t,r,i,o,a=e.split("."),s=n.util.createBuffer();s.putByte(40*parseInt(a[0],10)+parseInt(a[1],10));for(var u=2;u<a.length;++u){t=!0,r=[],i=parseInt(a[u],10);do{o=127&i,i>>>=7,t||(o|=128),r.push(o),t=!1}while(i>0);for(var l=r.length-1;l>=0;--l)s.putByte(r[l])}return s},i.derToOid=function(e){var t;"string"==typeof e&&(e=n.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var i=0;e.length()>0;)i<<=7,128&(r=e.getByte())?i+=127&r:(t+="."+(i+r),i=0);return t},i.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),o=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),s=0;if(e.length>11){var u=e.charAt(10),l=10;"+"!==u&&"-"!==u&&(s=parseInt(e.substr(10,2),10),l+=2)}if(t.setUTCFullYear(r,n,i),t.setUTCHours(o,a,s,0),l&&("+"===(u=e.charAt(l))||"-"===u)){var c=60*parseInt(e.substr(l+1,2),10)+parseInt(e.substr(l+4,2),10);c*=6e4,"+"===u?t.setTime(+t-c):t.setTime(+t+c)}return t},i.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),o=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),s=parseInt(e.substr(12,2),10),u=0,l=0,c=!1;"Z"===e.charAt(e.length-1)&&(c=!0);var f=e.length-5,h=e.charAt(f);return"+"!==h&&"-"!==h||(l=60*parseInt(e.substr(f+1,2),10)+parseInt(e.substr(f+4,2),10),l*=6e4,"+"===h&&(l*=-1),c=!0),"."===e.charAt(14)&&(u=1e3*parseFloat(e.substr(14),10)),c?(t.setUTCFullYear(r,n,i),t.setUTCHours(o,a,s,u),t.setTime(+t+l)):(t.setFullYear(r,n,i),t.setHours(o,a,s,u)),t},i.dateToUtcTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+"Z"},i.dateToGeneralizedTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+"Z"},i.integerToDer=function(e){var t=n.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r},i.derToInteger=function(e){"string"==typeof e&&(e=n.util.createBuffer(e));var t=8*e.length();if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)},i.validate=function(e,t,r,o){var a=!1;if(e.tagClass!==t.tagClass&&void 0!==t.tagClass||e.type!==t.type&&void 0!==t.type)o&&(e.tagClass!==t.tagClass&&o.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&o.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));else if(e.constructed===t.constructed||void 0===t.constructed){if(a=!0,t.value&&n.util.isArray(t.value))for(var s=0,u=0;a&&u<t.value.length;++u)a=t.value[u].optional||!1,e.value[s]&&((a=i.validate(e.value[s],t.value[u],r,o))?++s:t.value[u].optional&&(a=!0)),!a&&o&&o.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(a&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e))if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{if(0!==e.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}else o&&o.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');return a};var a=/[^\\u0000-\\u00ff]/;i.prettyPrint=function(e,t,r){var o="";t=t||0,r=r||2,t>0&&(o+="\n");for(var s="",u=0;u<t*r;++u)s+=" ";switch(o+=s+"Tag: ",e.tagClass){case i.Class.UNIVERSAL:o+="Universal:";break;case i.Class.APPLICATION:o+="Application:";break;case i.Class.CONTEXT_SPECIFIC:o+="Context-Specific:";break;case i.Class.PRIVATE:o+="Private:"}if(e.tagClass===i.Class.UNIVERSAL)switch(o+=e.type,e.type){case i.Type.NONE:o+=" (None)";break;case i.Type.BOOLEAN:o+=" (Boolean)";break;case i.Type.INTEGER:o+=" (Integer)";break;case i.Type.BITSTRING:o+=" (Bit string)";break;case i.Type.OCTETSTRING:o+=" (Octet string)";break;case i.Type.NULL:o+=" (Null)";break;case i.Type.OID:o+=" (Object Identifier)";break;case i.Type.ODESC:o+=" (Object Descriptor)";break;case i.Type.EXTERNAL:o+=" (External or Instance of)";break;case i.Type.REAL:o+=" (Real)";break;case i.Type.ENUMERATED:o+=" (Enumerated)";break;case i.Type.EMBEDDED:o+=" (Embedded PDV)";break;case i.Type.UTF8:o+=" (UTF8)";break;case i.Type.ROID:o+=" (Relative Object Identifier)";break;case i.Type.SEQUENCE:o+=" (Sequence)";break;case i.Type.SET:o+=" (Set)";break;case i.Type.PRINTABLESTRING:o+=" (Printable String)";break;case i.Type.IA5String:o+=" (IA5String (ASCII))";break;case i.Type.UTCTIME:o+=" (UTC time)";break;case i.Type.GENERALIZEDTIME:o+=" (Generalized time)";break;case i.Type.BMPSTRING:o+=" (BMP String)"}else o+=e.type;if(o+="\n",o+=s+"Constructed: "+e.constructed+"\n",e.composed){var l=0,c="";for(u=0;u<e.value.length;++u)void 0!==e.value[u]&&(l+=1,c+=i.prettyPrint(e.value[u],t+1,r),u+1<e.value.length&&(c+=","));o+=s+"Sub values: "+l+c}else{if(o+=s+"Value: ",e.type===i.Type.OID){var f=i.derToOid(e.value);o+=f,n.pki&&n.pki.oids&&f in n.pki.oids&&(o+=" ("+n.pki.oids[f]+") ")}if(e.type===i.Type.INTEGER)try{o+=i.derToInteger(e.value)}catch(t){o+="0x"+n.util.bytesToHex(e.value)}else if(e.type===i.Type.BITSTRING){if(e.value.length>1?o+="0x"+n.util.bytesToHex(e.value.slice(1)):o+="(none)",e.value.length>0){var h=e.value.charCodeAt(0);1==h?o+=" (1 unused bit shown)":h>1&&(o+=" ("+h+" unused bits shown)")}}else e.type===i.Type.OCTETSTRING?(a.test(e.value)||(o+="("+e.value+") "),o+="0x"+n.util.bytesToHex(e.value)):e.type===i.Type.UTF8?o+=n.util.decodeUtf8(e.value):e.type===i.Type.PRINTABLESTRING||e.type===i.Type.IA5String?o+=e.value:a.test(e.value)?o+="0x"+n.util.bytesToHex(e.value):0===e.value.length?o+="[null]":o+=e.value}return o}},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,l=[],c=!1,f=-1;function h(){c&&u&&(c=!1,u.length?l=u.concat(l):f=-1,l.length&&p())}function p(){if(!c){var e=s(h);c=!0;for(var t=l.length;t;){for(u=l,l=[];++f<t;)u&&u[f].run();f=-1,t=l.length}u=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new d(e,t)),1!==l.length||c||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";e.exports={CHUNK_SIZE:1024,HASHLENGTH:{"SHA-1":160,"SHA-256":256,"SHA-384":384,"SHA-512":512},ENCLENGTH:{"AES-128-CBC":128,"AES-192-CBC":192,"AES-256-CBC":256,"AES-128-KW":128,"AES-192-KW":192,"AES-256-KW":256},KEYLENGTH:{"A128CBC-HS256":256,"A192CBC-HS384":384,"A256CBC-HS512":512,"A128CBC+HS256":256,"A192CBC+HS384":384,"A256CBC+HS512":512,A128GCM:128,A192GCM:192,A256GCM:256,A128KW:128,A192KW:192,A256KW:256,"ECDH-ES+A128KW":128,"ECDH-ES+A192KW":192,"ECDH-ES+A256KW":256},NONCELENGTH:{"A128CBC-HS256":128,"A192CBC-HS384":128,"A256CBC-HS512":128,"A128CBC+HS256":128,"A192CBC+HS384":128,"A256CBC+HS512":128,A128GCM:96,A192GCM:96,A256GCM:96}}},function(e,t,r){var n=r(2);e.exports=n.md=n.md||{},n.md.algorithms=n.md.algorithms||{}},function(e,t,r){(function(e,r){var n="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Boolean]",s="[object Date]",u="[object Function]",l="[object GeneratorFunction]",c="[object Map]",f="[object Number]",h="[object Object]",p="[object RegExp]",d="[object Set]",g="[object String]",y="[object Symbol]",v="[object ArrayBuffer]",m="[object DataView]",b="[object Float32Array]",w="[object Float64Array]",C="[object Int8Array]",E="[object Int16Array]",S="[object Int32Array]",T="[object Uint8Array]",A="[object Uint8ClampedArray]",_="[object Uint16Array]",k="[object Uint32Array]",I=/\w*$/,x=/^\[object .+?Constructor\]$/,B=/^(?:0|[1-9]\d*)$/,N={};N[o]=N["[object Array]"]=N[v]=N[m]=N[a]=N[s]=N[b]=N[w]=N[C]=N[E]=N[S]=N[c]=N[f]=N[h]=N[p]=N[d]=N[g]=N[y]=N[T]=N[A]=N[_]=N[k]=!0,N["[object Error]"]=N[u]=N["[object WeakMap]"]=!1;var L="object"==typeof e&&e&&e.Object===Object&&e,R="object"==typeof self&&self&&self.Object===Object&&self,O=L||R||Function("return this")(),P="object"==typeof t&&t&&!t.nodeType&&t,D=P&&"object"==typeof r&&r&&!r.nodeType&&r,F=D&&D.exports===P;function U(e,t){return e.set(t[0],t[1]),e}function M(e,t){return e.add(t),e}function j(e,t,r,n){var i=-1,o=e?e.length:0;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function H(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function K(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function V(e,t){return function(r){return e(t(r))}}function z(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var W,q=Array.prototype,G=Function.prototype,Y=Object.prototype,X=O["__core-js_shared__"],Z=(W=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"",Q=G.toString,J=Y.hasOwnProperty,$=Y.toString,ee=RegExp("^"+Q.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=F?O.Buffer:void 0,re=O.Symbol,ne=O.Uint8Array,ie=V(Object.getPrototypeOf,Object),oe=Object.create,ae=Y.propertyIsEnumerable,se=q.splice,ue=Object.getOwnPropertySymbols,le=te?te.isBuffer:void 0,ce=V(Object.keys,Object),fe=Oe(O,"DataView"),he=Oe(O,"Map"),pe=Oe(O,"Promise"),de=Oe(O,"Set"),ge=Oe(O,"WeakMap"),ye=Oe(Object,"create"),ve=Me(fe),me=Me(he),be=Me(pe),we=Me(de),Ce=Me(ge),Ee=re?re.prototype:void 0,Se=Ee?Ee.valueOf:void 0;function Te(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ae(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function _e(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ke(e){this.__data__=new Ae(e)}function Ie(e,t,r){var n=e[t];J.call(e,t)&&je(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function xe(e,t){for(var r=e.length;r--;)if(je(e[r][0],t))return r;return-1}function Be(e,t,r,n,i,x,B){var L;if(n&&(L=x?n(e,i,x,B):n(e)),void 0!==L)return L;if(!We(e))return e;var R=He(e);if(R){if(L=function(e){var t=e.length,r=e.constructor(t);return t&&"string"==typeof e[0]&&J.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!t)return function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(e,L)}else{var O=De(e),P=O==u||O==l;if(Ve(e))return function(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}(e,t);if(O==h||O==o||P&&!x){if(H(e))return x?e:{};if(L=function(e){return"function"!=typeof e.constructor||Ue(e)?{}:We(t=ie(e))?oe(t):{};var t}(P?{}:e),!t)return function(e,t){return Le(e,Pe(e),t)}(e,function(e,t){return e&&Le(t,qe(t),e)}(L,e))}else{if(!N[O])return x?e:{};L=function(e,t,r,n){var i,o,u,l=e.constructor;switch(t){case v:return Ne(e);case a:case s:return new l(+e);case m:return function(e,t){var r=n?Ne(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e);case b:case w:case C:case E:case S:case T:case A:case _:case k:return function(e,t){var r=n?Ne(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e);case c:return function(e,t,r){return j(n?r(K(e),!0):K(e),U,new e.constructor)}(e,0,r);case f:case g:return new l(e);case p:return(u=new(o=e).constructor(o.source,I.exec(o))).lastIndex=o.lastIndex,u;case d:return function(e,t,r){return j(n?r(z(e),!0):z(e),M,new e.constructor)}(e,0,r);case y:return i=e,Se?Object(Se.call(i)):{}}}(e,O,Be,t)}}B||(B=new ke);var D=B.get(e);if(D)return D;if(B.set(e,L),!R)var F=r?function(e){return function(e,t,r){var n=qe(e);return He(e)?n:function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}(n,r(e))}(e,0,Pe)}(e):qe(e);return function(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r););}(F||e,function(i,o){F&&(i=e[o=i]),Ie(L,o,Be(i,t,r,n,o,e,B))}),L}function Ne(e){var t=new e.constructor(e.byteLength);return new ne(t).set(new ne(e)),t}function Le(e,t,r,n){r||(r={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=n?n(r[a],e[a],a,r,e):void 0;Ie(r,a,void 0===s?e[a]:s)}return r}function Re(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function Oe(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!We(e)||Z&&Z in e)&&(ze(e)||H(e)?ee:x).test(Me(e))}(r)?r:void 0}Te.prototype.clear=function(){this.__data__=ye?ye(null):{}},Te.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Te.prototype.get=function(e){var t=this.__data__;if(ye){var r=t[e];return r===n?void 0:r}return J.call(t,e)?t[e]:void 0},Te.prototype.has=function(e){var t=this.__data__;return ye?void 0!==t[e]:J.call(t,e)},Te.prototype.set=function(e,t){return this.__data__[e]=ye&&void 0===t?n:t,this},Ae.prototype.clear=function(){this.__data__=[]},Ae.prototype.delete=function(e){var t=this.__data__,r=xe(t,e);return!(r<0||(r==t.length-1?t.pop():se.call(t,r,1),0))},Ae.prototype.get=function(e){var t=this.__data__,r=xe(t,e);return r<0?void 0:t[r][1]},Ae.prototype.has=function(e){return xe(this.__data__,e)>-1},Ae.prototype.set=function(e,t){var r=this.__data__,n=xe(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},_e.prototype.clear=function(){this.__data__={hash:new Te,map:new(he||Ae),string:new Te}},_e.prototype.delete=function(e){return Re(this,e).delete(e)},_e.prototype.get=function(e){return Re(this,e).get(e)},_e.prototype.has=function(e){return Re(this,e).has(e)},_e.prototype.set=function(e,t){return Re(this,e).set(e,t),this},ke.prototype.clear=function(){this.__data__=new Ae},ke.prototype.delete=function(e){return this.__data__.delete(e)},ke.prototype.get=function(e){return this.__data__.get(e)},ke.prototype.has=function(e){return this.__data__.has(e)},ke.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Ae){var n=r.__data__;if(!he||n.length<199)return n.push([e,t]),this;r=this.__data__=new _e(n)}return r.set(e,t),this};var Pe=ue?V(ue,Object):function(){return[]},De=function(e){return $.call(e)};function Fe(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||B.test(e))&&e>-1&&e%1==0&&e<t}function Ue(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Y)}function Me(e){if(null!=e){try{return Q.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function je(e,t){return e===t||e!=e&&t!=t}(fe&&De(new fe(new ArrayBuffer(1)))!=m||he&&De(new he)!=c||pe&&"[object Promise]"!=De(pe.resolve())||de&&De(new de)!=d||ge&&"[object WeakMap]"!=De(new ge))&&(De=function(e){var t=$.call(e),r=t==h?e.constructor:void 0,n=r?Me(r):void 0;if(n)switch(n){case ve:return m;case me:return c;case be:return"[object Promise]";case we:return d;case Ce:return"[object WeakMap]"}return t});var He=Array.isArray;function Ke(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}(e.length)&&!ze(e)}var Ve=le||function(){return!1};function ze(e){var t=We(e)?$.call(e):"";return t==u||t==l}function We(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function qe(e){return Ke(e)?function(e,t){var r=He(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Ke(e)}(e)&&J.call(e,"callee")&&(!ae.call(e,"callee")||$.call(e)==o)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,i=!!n;for(var a in e)!t&&!J.call(e,a)||i&&("length"==a||Fe(a,n))||r.push(a);return r}(e):function(e){if(!Ue(e))return ce(e);var t=[];for(var r in Object(e))J.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}r.exports=function(e){return Be(e,!1,!0)}}).call(this,r(6),r(106)(e))},function(e,t,r){var n=r(2);function i(e,t){n.cipher.registerAlgorithm(e,function(){return new n.aes.Algorithm(e,t)})}r(46),r(103),r(3),e.exports=n.aes=n.aes||{},n.aes.startEncrypting=function(e,t,r,n){var i=g({key:e,output:r,decrypt:!1,mode:n});return i.start(t),i},n.aes.createEncryptionCipher=function(e,t){return g({key:e,output:null,decrypt:!1,mode:t})},n.aes.startDecrypting=function(e,t,r,n){var i=g({key:e,output:r,decrypt:!0,mode:n});return i.start(t),i},n.aes.createDecryptionCipher=function(e,t){return g({key:e,output:null,decrypt:!0,mode:t})},n.aes.Algorithm=function(e,t){c||h();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(e,t){return d(r._w,e,t,!1)},decrypt:function(e,t){return d(r._w,e,t,!0)}}}),r._init=!1},n.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t,r=e.key;if("string"!=typeof r||16!==r.length&&24!==r.length&&32!==r.length){if(n.util.isArray(r)&&(16===r.length||24===r.length||32===r.length)){t=r,r=n.util.createBuffer();for(var i=0;i<t.length;++i)r.putByte(t[i])}}else r=n.util.createBuffer(r);if(!n.util.isArray(r)){t=r,r=[];var o=t.length();if(16===o||24===o||32===o)for(o>>>=2,i=0;i<o;++i)r.push(t.getInt32())}if(!n.util.isArray(r)||4!==r.length&&6!==r.length&&8!==r.length)throw new Error("Invalid key parameter.");var a=this.mode.name,s=-1!==["CFB","OFB","CTR","GCM"].indexOf(a);this._w=p(r,e.decrypt&&!s),this._init=!0}},n.aes._expandKey=function(e,t){return c||h(),p(e,t)},n.aes._updateBlock=d,i("AES-ECB",n.cipher.modes.ecb),i("AES-CBC",n.cipher.modes.cbc),i("AES-CFB",n.cipher.modes.cfb),i("AES-OFB",n.cipher.modes.ofb),i("AES-CTR",n.cipher.modes.ctr),i("AES-GCM",n.cipher.modes.gcm);var o,a,s,u,l,c=!1,f=4;function h(){c=!0,s=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;for(o=new Array(256),a=new Array(256),u=new Array(4),l=new Array(4),t=0;t<4;++t)u[t]=new Array(256),l[t]=new Array(256);var r,n,i,f,h,p,d,g=0,y=0;for(t=0;t<256;++t){f=(f=y^y<<1^y<<2^y<<3^y<<4)>>8^255&f^99,o[g]=f,a[f]=g,p=(h=e[f])<<24^f<<16^f<<8^f^h,d=((r=e[g])^(n=e[r])^(i=e[n]))<<24^(g^i)<<16^(g^n^i)<<8^g^r^i;for(var v=0;v<4;++v)u[v][g]=p,l[v][f]=d,p=p<<24|p>>>8,d=d<<24|d>>>8;0===g?g=y=1:(g=r^e[e[e[r^i]]],y^=e[e[y]])}}function p(e,t){for(var r,n=e.slice(0),i=1,a=n.length,u=f*(a+6+1),c=a;c<u;++c)r=n[c-1],c%a==0?(r=o[r>>>16&255]<<24^o[r>>>8&255]<<16^o[255&r]<<8^o[r>>>24]^s[i]<<24,i++):a>6&&c%a==4&&(r=o[r>>>24]<<24^o[r>>>16&255]<<16^o[r>>>8&255]<<8^o[255&r]),n[c]=n[c-a]^r;if(t){for(var h,p=l[0],d=l[1],g=l[2],y=l[3],v=n.slice(0),m=(c=0,(u=n.length)-f);c<u;c+=f,m-=f)if(0===c||c===u-f)v[c]=n[m],v[c+1]=n[m+3],v[c+2]=n[m+2],v[c+3]=n[m+1];else for(var b=0;b<f;++b)h=n[m+b],v[c+(3&-b)]=p[o[h>>>24]]^d[o[h>>>16&255]]^g[o[h>>>8&255]]^y[o[255&h]];n=v}return n}function d(e,t,r,n){var i,s,c,f,h,p,d,g,y,v,m,b,w=e.length/4-1;n?(i=l[0],s=l[1],c=l[2],f=l[3],h=a):(i=u[0],s=u[1],c=u[2],f=u[3],h=o),p=t[0]^e[0],d=t[n?3:1]^e[1],g=t[2]^e[2],y=t[n?1:3]^e[3];for(var C=3,E=1;E<w;++E)v=i[p>>>24]^s[d>>>16&255]^c[g>>>8&255]^f[255&y]^e[++C],m=i[d>>>24]^s[g>>>16&255]^c[y>>>8&255]^f[255&p]^e[++C],b=i[g>>>24]^s[y>>>16&255]^c[p>>>8&255]^f[255&d]^e[++C],y=i[y>>>24]^s[p>>>16&255]^c[d>>>8&255]^f[255&g]^e[++C],p=v,d=m,g=b;r[0]=h[p>>>24]<<24^h[d>>>16&255]<<16^h[g>>>8&255]<<8^h[255&y]^e[++C],r[n?3:1]=h[d>>>24]<<24^h[g>>>16&255]<<16^h[y>>>8&255]<<8^h[255&p]^e[++C],r[2]=h[g>>>24]<<24^h[y>>>16&255]<<16^h[p>>>8&255]<<8^h[255&d]^e[++C],r[n?1:3]=h[y>>>24]<<24^h[p>>>16&255]<<16^h[d>>>8&255]<<8^h[255&g]^e[++C]}function g(e){var t,r="AES-"+((e=e||{}).mode||"CBC").toUpperCase(),i=(t=e.decrypt?n.cipher.createDecipher(r,e.key):n.cipher.createCipher(r,e.key)).start;return t.start=function(e,r){var o=null;r instanceof n.util.ByteBuffer&&(o=r,r={}),(r=r||{}).output=o,r.iv=e,i.call(t,r)},t}},function(e,t,r){"use strict";(function(t){var n,i=r(179),o=r(178),a=(n=[],"undefined"!=typeof Uint8ClampedArray&&n.push(Uint8ClampedArray),"undefined"!=typeof Uint8Array&&n.push(Uint8Array),"undefined"!=typeof Uint16Array&&n.push(Uint16Array),"undefined"!=typeof Uint32Array&&n.push(Uint32Array),"undefined"!=typeof Float32Array&&n.push(Float32Array),"undefined"!=typeof Float64Array&&n.push(Float64Array),n);e.exports=i(o,function(e,r){if(t.isBuffer(r))r=t.from(r);else{var n=function(e){for(var t,r=0;!t&&a.length>r;r++)e instanceof a[r]&&(t=a[r]);return t}(r);r=n?new n(r,r.byteOffset,r.byteLength):void 0}return r})}).call(this,r(1).Buffer)},function(e,t,r){"use strict";var n=r(35).nextTick,i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=f;var o=r(28);o.inherits=r(24);var a=r(82),s=r(49);o.inherits(f,a);for(var u=i(s.prototype),l=0;l<u.length;l++){var c=u[l];f.prototype[c]||(f.prototype[c]=s.prototype[c])}function f(e){if(!(this instanceof f))return new f(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||n(p,this)}function p(e){e.end()}Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),n(t,e)}},function(e,t,r){var n=r(2);r(3);var i=e.exports=n.pem=n.pem||{};function o(e){for(var t=e.name+": ",r=[],n=function(e,t){return" "+t},i=0;i<e.values.length;++i)r.push(e.values[i].replace(/^(\S+\r\n)/,n));t+=r.join(",")+"\r\n";var o=0,a=-1;for(i=0;i<t.length;++i,++o)if(o>65&&-1!==a){var s=t[a];","===s?(++a,t=t.substr(0,a)+"\r\n "+t.substr(a)):t=t.substr(0,a)+"\r\n"+s+t.substr(a+1),o=i-a-1,a=-1,++i}else" "!==t[i]&&"\t"!==t[i]&&","!==t[i]||(a=i);return t}function a(e){return e.replace(/^\s+/,"")}i.encode=function(e,t){t=t||{};var r,i="-----BEGIN "+e.type+"-----\r\n";if(e.procType&&(i+=o(r={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]})),e.contentDomain&&(i+=o(r={name:"Content-Domain",values:[e.contentDomain]})),e.dekInfo&&(r={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&r.values.push(e.dekInfo.parameters),i+=o(r)),e.headers)for(var a=0;a<e.headers.length;++a)i+=o(e.headers[a]);return e.procType&&(i+="\r\n"),(i+=n.util.encode64(e.body,t.maxline||64)+"\r\n")+"-----END "+e.type+"-----\r\n"},i.decode=function(e){for(var t,r=[],i=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,o=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,s=/\r?\n/;t=i.exec(e);){var u={type:t[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:n.util.decode64(t[3])};if(r.push(u),t[2]){for(var l=t[2].split(s),c=0;t&&c<l.length;){for(var f=l[c].replace(/\s+$/,""),h=c+1;h<l.length;++h){var p=l[h];if(!/\s/.test(p[0]))break;f+=p,c=h}if(t=f.match(o)){for(var d={name:t[1],values:[]},g=t[2].split(","),y=0;y<g.length;++y)d.values.push(a(g[y]));if(u.procType)if(u.contentDomain||"Content-Domain"!==d.name)if(u.dekInfo||"DEK-Info"!==d.name)u.headers.push(d);else{if(0===d.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');u.dekInfo={algorithm:g[0],parameters:g[1]||null}}else u.contentDomain=g[0]||"";else{if("Proc-Type"!==d.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==d.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');u.procType={version:g[0],type:g[1]}}}++c}if("ENCRYPTED"===u.procType&&!u.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===r.length)throw new Error("Invalid PEM formatted message.");return r}},function(e,t,r){var n=r(2);n.pki=n.pki||{};var i=e.exports=n.pki.oids=n.oids=n.oids||{};function o(e,t){i[e]=t,i[t]=e}function a(e,t){i[e]=t}o("1.2.840.113549.1.1.1","rsaEncryption"),o("1.2.840.113549.1.1.4","md5WithRSAEncryption"),o("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),o("1.2.840.113549.1.1.7","RSAES-OAEP"),o("1.2.840.113549.1.1.8","mgf1"),o("1.2.840.113549.1.1.9","pSpecified"),o("1.2.840.113549.1.1.10","RSASSA-PSS"),o("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),o("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),o("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),o("1.2.840.10040.4.3","dsa-with-sha1"),o("1.3.14.3.2.7","desCBC"),o("1.3.14.3.2.26","sha1"),o("2.16.840.1.101.3.4.2.1","sha256"),o("2.16.840.1.101.3.4.2.2","sha384"),o("2.16.840.1.101.3.4.2.3","sha512"),o("1.2.840.113549.2.5","md5"),o("1.2.840.113549.1.7.1","data"),o("1.2.840.113549.1.7.2","signedData"),o("1.2.840.113549.1.7.3","envelopedData"),o("1.2.840.113549.1.7.4","signedAndEnvelopedData"),o("1.2.840.113549.1.7.5","digestedData"),o("1.2.840.113549.1.7.6","encryptedData"),o("1.2.840.113549.1.9.1","emailAddress"),o("1.2.840.113549.1.9.2","unstructuredName"),o("1.2.840.113549.1.9.3","contentType"),o("1.2.840.113549.1.9.4","messageDigest"),o("1.2.840.113549.1.9.5","signingTime"),o("1.2.840.113549.1.9.6","counterSignature"),o("1.2.840.113549.1.9.7","challengePassword"),o("1.2.840.113549.1.9.8","unstructuredAddress"),o("1.2.840.113549.1.9.14","extensionRequest"),o("1.2.840.113549.1.9.20","friendlyName"),o("1.2.840.113549.1.9.21","localKeyId"),o("1.2.840.113549.1.9.22.1","x509Certificate"),o("1.2.840.113549.1.12.10.1.1","keyBag"),o("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),o("1.2.840.113549.1.12.10.1.3","certBag"),o("1.2.840.113549.1.12.10.1.4","crlBag"),o("1.2.840.113549.1.12.10.1.5","secretBag"),o("1.2.840.113549.1.12.10.1.6","safeContentsBag"),o("1.2.840.113549.1.5.13","pkcs5PBES2"),o("1.2.840.113549.1.5.12","pkcs5PBKDF2"),o("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),o("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),o("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),o("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),o("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),o("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),o("1.2.840.113549.2.7","hmacWithSHA1"),o("1.2.840.113549.2.8","hmacWithSHA224"),o("1.2.840.113549.2.9","hmacWithSHA256"),o("1.2.840.113549.2.10","hmacWithSHA384"),o("1.2.840.113549.2.11","hmacWithSHA512"),o("1.2.840.113549.3.7","des-EDE3-CBC"),o("2.16.840.1.101.3.4.1.2","aes128-CBC"),o("2.16.840.1.101.3.4.1.22","aes192-CBC"),o("2.16.840.1.101.3.4.1.42","aes256-CBC"),o("2.5.4.3","commonName"),o("2.5.4.5","serialName"),o("2.5.4.6","countryName"),o("2.5.4.7","localityName"),o("2.5.4.8","stateOrProvinceName"),o("2.5.4.10","organizationName"),o("2.5.4.11","organizationalUnitName"),o("2.16.840.1.113730.1.1","nsCertType"),a("2.5.29.1","authorityKeyIdentifier"),a("2.5.29.2","keyAttributes"),a("2.5.29.3","certificatePolicies"),a("2.5.29.4","keyUsageRestriction"),a("2.5.29.5","policyMapping"),a("2.5.29.6","subtreesConstraint"),a("2.5.29.7","subjectAltName"),a("2.5.29.8","issuerAltName"),a("2.5.29.9","subjectDirectoryAttributes"),a("2.5.29.10","basicConstraints"),a("2.5.29.11","nameConstraints"),a("2.5.29.12","policyConstraints"),a("2.5.29.13","basicConstraints"),o("2.5.29.14","subjectKeyIdentifier"),o("2.5.29.15","keyUsage"),a("2.5.29.16","privateKeyUsagePeriod"),o("2.5.29.17","subjectAltName"),o("2.5.29.18","issuerAltName"),o("2.5.29.19","basicConstraints"),a("2.5.29.20","cRLNumber"),a("2.5.29.21","cRLReason"),a("2.5.29.22","expirationDate"),a("2.5.29.23","instructionCode"),a("2.5.29.24","invalidityDate"),a("2.5.29.25","cRLDistributionPoints"),a("2.5.29.26","issuingDistributionPoint"),a("2.5.29.27","deltaCRLIndicator"),a("2.5.29.28","issuingDistributionPoint"),a("2.5.29.29","certificateIssuer"),a("2.5.29.30","nameConstraints"),o("2.5.29.31","cRLDistributionPoints"),o("2.5.29.32","certificatePolicies"),a("2.5.29.33","policyMappings"),a("2.5.29.34","policyConstraints"),o("2.5.29.35","authorityKeyIdentifier"),a("2.5.29.36","policyConstraints"),o("2.5.29.37","extKeyUsage"),a("2.5.29.46","freshestCRL"),a("2.5.29.54","inhibitAnyPolicy"),o("1.3.6.1.4.1.11129.2.4.2","timestampList"),o("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),o("1.3.6.1.5.5.7.3.1","serverAuth"),o("1.3.6.1.5.5.7.3.2","clientAuth"),o("1.3.6.1.5.5.7.3.3","codeSigning"),o("1.3.6.1.5.5.7.3.4","emailProtection"),o("1.3.6.1.5.5.7.3.8","timeStamping")},function(e,t,r){e.exports=r(174).default,e.exports.default=e.exports},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){"use strict";var n=r(39);Object.keys(n.KeyStore).forEach(function(e){t[e]=n.KeyStore[e]});var i=r(86);Object.keys(i).forEach(function(e){t[e]=i[e]}),r(152),r(151),r(150)},function(e,t,r){var n=r(2);r(16),r(3);var i=e.exports=n.sha1=n.sha1||{};n.md.sha1=n.md.algorithms.sha1=i,i.create=function(){a||(o=String.fromCharCode(128),o+=n.util.fillString(String.fromCharCode(0),64),a=!0);var e=null,t=n.util.createBuffer(),r=new Array(80),i={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,o=0;o<r;++o)i.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},i}};return i.start(),i.update=function(o,a){"utf8"===a&&(o=n.util.encodeUtf8(o));var u=o.length;i.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var l=i.fullMessageLength.length-1;l>=0;--l)i.fullMessageLength[l]+=u[1],u[1]=u[0]+(i.fullMessageLength[l]/4294967296>>>0),i.fullMessageLength[l]=i.fullMessageLength[l]>>>0,u[0]=u[1]/4294967296>>>0;return t.putBytes(o),s(e,r,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var a=n.util.createBuffer();a.putBytes(t.bytes());var u,l=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;a.putBytes(o.substr(0,i.blockLength-l));for(var c=8*i.fullMessageLength[0],f=0;f<i.fullMessageLength.length-1;++f)c+=(u=8*i.fullMessageLength[f+1])/4294967296>>>0,a.putInt32(c>>>0),c=u>>>0;a.putInt32(c);var h={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};s(h,r,a);var p=n.util.createBuffer();return p.putInt32(h.h0),p.putInt32(h.h1),p.putInt32(h.h2),p.putInt32(h.h3),p.putInt32(h.h4),p},i};var o=null,a=!1;function s(e,t,r){for(var n,i,o,a,s,u,l,c=r.length();c>=64;){for(i=e.h0,o=e.h1,a=e.h2,s=e.h3,u=e.h4,l=0;l<16;++l)n=r.getInt32(),t[l]=n,n=(i<<5|i>>>27)+(s^o&(a^s))+u+1518500249+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;l<20;++l)n=(n=t[l-3]^t[l-8]^t[l-14]^t[l-16])<<1|n>>>31,t[l]=n,n=(i<<5|i>>>27)+(s^o&(a^s))+u+1518500249+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;l<32;++l)n=(n=t[l-3]^t[l-8]^t[l-14]^t[l-16])<<1|n>>>31,t[l]=n,n=(i<<5|i>>>27)+(o^a^s)+u+1859775393+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;l<40;++l)n=(n=t[l-6]^t[l-16]^t[l-28]^t[l-32])<<2|n>>>30,t[l]=n,n=(i<<5|i>>>27)+(o^a^s)+u+1859775393+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;l<60;++l)n=(n=t[l-6]^t[l-16]^t[l-28]^t[l-32])<<2|n>>>30,t[l]=n,n=(i<<5|i>>>27)+(o&a|s&(o^a))+u+2400959708+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;l<80;++l)n=(n=t[l-6]^t[l-16]^t[l-28]^t[l-32])<<2|n>>>30,t[l]=n,n=(i<<5|i>>>27)+(o^a^s)+u+3395469782+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+o|0,e.h2=e.h2+a|0,e.h3=e.h3+s|0,e.h4=e.h4+u|0,c-=64}}},function(e,t,r){var n=r(2);r(16),r(3),(e.exports=n.hmac=n.hmac||{}).create=function(){var e=null,t=null,r=null,i=null,o={start:function(o,a){if(null!==o)if("string"==typeof o){if(!((o=o.toLowerCase())in n.md.algorithms))throw new Error('Unknown hash algorithm "'+o+'"');t=n.md.algorithms[o].create()}else t=o;if(null===a)a=e;else{if("string"==typeof a)a=n.util.createBuffer(a);else if(n.util.isArray(a)){var s=a;a=n.util.createBuffer();for(var u=0;u<s.length;++u)a.putByte(s[u])}var l=a.length();for(l>t.blockLength&&(t.start(),t.update(a.bytes()),a=t.digest()),r=n.util.createBuffer(),i=n.util.createBuffer(),l=a.length(),u=0;u<l;++u)s=a.at(u),r.putByte(54^s),i.putByte(92^s);if(l<t.blockLength)for(s=t.blockLength-l,u=0;u<s;++u)r.putByte(54),i.putByte(92);e=a,r=r.bytes(),i=i.bytes()}t.start(),t.update(r)},update:function(e){t.update(e)},getMac:function(){var e=t.digest().bytes();return t.start(),t.update(i),t.update(e),t.digest()}};return o.digest=o.getMac,o}},function(e,t,r){(function(e){function r(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===r(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===r(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===r(e)},t.isError=function(e){return"[object Error]"===r(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){var n=r(17),i=r(7),o=r(5),a=r(58),s={name:"PrivateKeyInfo",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.INTEGER,constructed:!1,capture:"keyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.OID,constructed:!1,capture:"keyOid"},{name:"AlgorithmIdentifier.parameters",captureAsn1:"keyParams"}]},{name:"PrivateKeyInfo",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.OCTETSTRING,constructed:!1,capture:"keyValue"}]},u={name:"SubjectPublicKeyInfo",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.OID,constructed:!1,capture:"keyOid"},{name:"AlgorithmIdentifier.parameters",captureAsn1:"keyParams"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.BITSTRING,constructed:!1,capture:"keyValue"}]},l={name:"Certificate",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,captureAsn1:"certificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:o.asn1.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:o.asn1.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},u,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:o.asn1.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.BITSTRING,constructed:!1,capture:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:o.asn1.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.BITSTRING,constructed:!1,capture:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:o.asn1.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:o.asn1.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.BITSTRING,constructed:!1,capture:"certSignature"}]},c={THUMBPRINT_KEY:"internal\0thumbprint",THUMBPRINT_HASH:"SHA-256"};e.exports={validators:{privateKey:s,publicKey:u,certificate:l},thumbprint:function(e,r,n){if("function"!=typeof e.thumbprint)return Promise.reject(new Error("thumbprint not supported"));n=(n||c.THUMBPRINT_HASH).toUpperCase();var o=e.thumbprint(r),s=Object.keys(o).sort().map(function(e){var r=o[e];return t.isBuffer(r)&&(r=i.base64url.encode(r)),JSON.stringify(e)+":"+JSON.stringify(r)});s="{"+s.join(",")+"}";try{return a.digest(n,t.from(s,"utf8"))}catch(e){return Promise.reject(e)}},unpackProps:function(e,r){var o;r.forEach(function(r){if(r.name in e){o=o||{};var a=e[r.name];switch(r.type){case"binary":t.isBuffer(a)?e[r.name]=i.base64url.encode(a):a=i.base64url.decode(a);break;case"string":case"number":case"boolean":break;case"array":a=[].concat(a);break;case"object":a=n(a)}o[r.name]=a}});var a=o||{};return Object.keys(e).forEach(function(t){t in a||delete e[t]}),o},COMMON_PROPS:[{name:"kty",type:"string"},{name:"kid",type:"string"},{name:"use",type:"string"},{name:"alg",type:"string"},{name:"x5c",type:"array"},{name:"x5t",type:"binary"},{name:"x5u",type:"string"},{name:"key_ops",type:"array"}],INTERNALS:c}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){var n=r(5),i=r(40);function o(e,r){r=r||{},t.isBuffer(e)?this.data=e:n.util.isArrayBuffer(e)?(e=new Uint8Array(e),this.data=t.from(e)):n.util.isArrayBufferView(e)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),this.data=t.from(e)),this.data&&(this.write=this.data.length,e=void 0),this.growSize=r.growSize||o.DEFAULT_GROW_SIZE,this.write=this.write||0,this.read=this.read||0,e?this.putBytes(e):this.data||this.accommodate(0),r.readOffset="readOffset"in r?r.readOffset:this.read,this.write="writeOffset"in r?r.writeOffset:this.write,this.read=Math.min(r.readOffset,this.write)}o.DEFAULT_GROW_SIZE=16,o.prototype.length=function(){return this.write-this.read},o.prototype.available=function(){return this.data.length-this.write},o.prototype.isEmpty=function(){return this.length()<=0},o.prototype.accommodate=function(e){if(this.data){if(this.available()<e){e=Math.max(e,this.growSize);var r=this.data,n=t.alloc(r.length+e);r.copy(n,0),this.data=n}}else e=Math.max(this.write+e,this.growSize),this.data=t.alloc(e);return this.data.fill(0,this.write),this},o.prototype.clear=function(){return this.read=this.write=0,this.data=t.alloc(0),this},o.prototype.truncate=function(e){return this.write=this.read+Math.max(0,this.length()-e),this.data.fill(0,this.write),this},o.prototype.compact=function(){return this.read>0&&(this.write===this.read?this.read=this.write=0:(this.data.copy(this.data,0,this.read,this.write),this.write=this.write-this.read,this.read=0),this.data.fill(0,this.write)),this},o.prototype.copy=function(){return new o(this,{readOffset:this.read,writeOffset:this.write,growSize:this.growSize})},o.prototype.equals=function(e){if(!o.isBuffer(e))return!1;if(e.length()!==this.length())return!1;for(var t=!0,r=this.read-e.read,n=e.read;e.write>n;n++)t=t&&this.data[n+r]===e.data[n];return t},o.prototype.at=function(e){return this.data[this.read+e]},o.prototype.setAt=function(e,t){return this.data[this.read+e]=t,this},o.prototype.last=function(){return this.data[this.write-1]},o.prototype.bytes=function(e){var t;if(void 0===e?e=this.length():e&&(e=Math.min(e,this.length())),0===e)t="";else{var r=this.read,n=r+e,i=this.data.slice(r,n);t=String.fromCharCode.apply(null,i)}return t},o.prototype.buffer=function(e){var t;if(void 0===e?e=this.length():e&&(e=Math.min(e,this.length())),0===e)t=new ArrayBuffer(0);else{var r=this.read,n=r+e,i=this.data.slice(r,n);(t=new Uint8Array(n-r)).set(i)}return t},o.prototype.native=function(e){var r;if(void 0===e?e=this.length():e&&(e=Math.min(e,this.length())),0===e)r=t.alloc(0);else{var n=this.read,i=n+e;r=this.data.slice(n,i)}return r},o.prototype.toHex=function(){return this.toString("hex")},o.prototype.toString=function(e){if(0===this.length())return"";var t=this.data.slice(this.read,this.write);switch(e=e||"utf8"){case"raw":return t.toString("binary");case"base64url":return i.encode(t);case"utf16":return t.toString("ucs2");default:return t.toString(e)}},o.prototype.fillWithByte=function(e,t){return t||(t=this.available()),this.accommodate(t),this.data.fill(e,this.write,this.write+t),this.write+=t,this},o.prototype.getBuffer=function(e){var t=this.buffer(e);return this.read+=t.byteLength,t},o.prototype.putBuffer=function(e){return this.putBytes(e)},o.prototype.getBytes=function(e){var t=this.bytes(e);return this.read+=t.length,t},o.prototype.putBytes=function(e,r){if("string"==typeof e){switch(r=r||"binary"){case"utf16":r="ucs-2";break;case"raw":r="binary";break;case"base64url":e=i.decode(e)}t.isBuffer(e)||(e=t.from(e,r))}var a,s;if(e instanceof o){var u=e;e=u.data.slice(u.read,u.write),u.read=u.write}else e instanceof n.util.ByteStringBuffer&&(e=e.getBytes());if(t.isBuffer(e))a=e;else if(Array.isArray(e))a=t.from(e);else if(n.util.isArrayBuffer(e))a=new Uint8Array(e),a=t.from(a);else{if(!n.util.isArrayBufferView(e))throw new TypeError("invalid source type");a=e instanceof Uint8Array?e:new Uint8Array(e.buffer,e.byteOffset,e.byteLength),a=t.from(a)}return this.accommodate(a.length),s=this.data,a.copy(s,this.write),this.write+=a.length,this},o.prototype.getNative=function(e){var t=this.native(e);return this.read+=t.length,t},o.prototype.putNative=o.prototype.putBuffer,o.prototype.getByte=function(){var e=this.data[this.read];return this.read=Math.min(this.read+1,this.write),e},o.prototype.putByte=function(e){return this.accommodate(1),this.data[this.write]=255&e,this.write++,this},o.prototype.getInt16=function(){var e=this.data[this.read]<<8^this.data[this.read+1];return this.read=Math.min(this.read+2,this.write),e},o.prototype.putInt16=function(e){return this.accommodate(2),this.data[this.write]=e>>>8&255,this.data[this.write+1]=255&e,this.write+=2,this},o.prototype.getInt24=function(){var e=this.data[this.read]<<16^this.data[this.read+1]<<8^this.data[this.read+2];return this.read=Math.min(this.read+3,this.write),e},o.prototype.putInt24=function(e){return this.accommodate(3),this.data[this.write]=e>>>16&255,this.data[this.write+1]=e>>>8&255,this.data[this.write+2]=255&e,this.write+=3,this},o.prototype.getInt32=function(){var e=this.data[this.read]<<24^this.data[this.read+1]<<16^this.data[this.read+2]<<8^this.data[this.read+3];return this.read=Math.min(this.read+4,this.write),e},o.prototype.putInt32=function(e){return this.accommodate(4),this.data[this.write]=e>>>24&255,this.data[this.write+1]=e>>>16&255,this.data[this.write+2]=e>>>8&255,this.data[this.write+3]=255&e,this.write+=4,this},o.prototype.getInt16Le=function(){var e=this.data[this.read+1]<<8^this.data[this.read];return this.read=Math.min(this.read+2,this.write),e},o.prototype.putInt16Le=function(e){return this.accommodate(2),this.data[this.write+1]=e>>>8&255,this.data[this.write]=255&e,this.write+=2,this},o.prototype.getInt24Le=function(){var e=this.data[this.read+2]<<16^this.data[this.read+1]<<8^this.data[this.read];return this.read=Math.min(this.read+3,this.write),e},o.prototype.putInt24Le=function(e){return this.accommodate(3),this.data[this.write+2]=e>>>16&255,this.data[this.write+1]=e>>>8&255,this.data[this.write]=255&e,this.write+=3,this},o.prototype.getInt32Le=function(){var e=this.data[this.read+3]<<24^this.data[this.read+2]<<16^this.data[this.read+1]<<8^this.data[this.read];return this.read=Math.min(this.read+4,this.write),e},o.prototype.putInt32Le=function(e){return this.accommodate(4),this.data[this.write+3]=e>>>24&255,this.data[this.write+2]=e>>>16&255,this.data[this.write+1]=e>>>8&255,this.data[this.write]=255&e,this.write+=4,this},o.prototype.getInt=function(e){var t=0;do{t=t<<8|this.getByte(),e-=8}while(e>0);return t},o.prototype.putInt=function(e,t){this.accommodate(Math.ceil(t/8));do{t-=8,this.putByte(e>>t&255)}while(t>0);return this},o.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},o.prototype.putString=function(e){return this.putBytes(e,"utf16")},o.isBuffer=function(e){return e instanceof o},o.asBuffer=function(e){return o.isBuffer(e)?e:e?new o(e):new o},e.exports=n.util.ByteBuffer=o}).call(this,r(1).Buffer)},function(e,t,r){"use strict";"undefined"==typeof Promise&&r(107).polyfill();var n=r(68);e.exports={JWA:r(58),JWE:r(52),JWK:r(25),JWS:n,util:r(7),parse:r(122),canYouSee:n.createVerify}},function(e,t,r){e.exports=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,r=/gecko\/\d/i.test(e),n=/MSIE \d/.test(e),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),a=n||i||o,s=a&&(n?document.documentMode||6:+(o||i)[1]),u=!o&&/WebKit\//.test(e),l=u&&/Qt\/\d+\.\d+/.test(e),c=!o&&/Chrome\//.test(e),f=/Opera\//.test(e),h=/Apple Computer/.test(navigator.vendor),p=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),d=/PhantomJS/.test(e),g=!o&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),y=/Android/.test(e),v=g||y||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),m=g||/Mac/.test(t),b=/\bCrOS\b/.test(e),w=/win/i.test(t),C=f&&e.match(/Version\/(\d*\.\d*)/);C&&(C=Number(C[1])),C&&C>=15&&(f=!1,u=!0);var E=m&&(l||f&&(null==C||C<12.11)),S=r||a&&s>=9;function T(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var A,_=function(e,t){var r=e.className,n=T(t).exec(r);if(n){var i=r.slice(n.index+n[0].length);e.className=r.slice(0,n.index)+(i?n[1]+i:"")}};function k(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function I(e,t){return k(e).appendChild(t)}function x(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function B(e,t,r,n){var i=x(e,t,r,n);return i.setAttribute("role","presentation"),i}function N(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function L(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function R(e,t){var r=e.className;T(t).test(r)||(e.className+=(r?" ":"")+t)}function O(e,t){for(var r=e.split(" "),n=0;n<r.length;n++)r[n]&&!T(r[n]).test(t)&&(t+=" "+r[n]);return t}A=document.createRange?function(e,t,r,n){var i=document.createRange();return i.setEnd(n||e,r),i.setStart(e,t),i}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(e){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};var P=function(e){e.select()};function D(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function F(e,t,r){for(var n in t||(t={}),e)!e.hasOwnProperty(n)||!1===r&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function U(e,t,r,n,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=n||0,a=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return a+(t-o);a+=s-o,a+=r-a%r,o=s+1}}g?P=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:a&&(P=function(e){try{e.select()}catch(e){}});var M=function(){this.id=null};function j(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}M.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var H=30,K={toString:function(){return"CodeMirror.Pass"}},V={scroll:!1},z={origin:"*mouse"},W={origin:"+move"};function q(e,t,r){for(var n=0,i=0;;){var o=e.indexOf("\t",n);-1==o&&(o=e.length);var a=o-n;if(o==e.length||i+a>=t)return n+Math.min(a,t-i);if(i+=o-n,n=o+1,(i+=r-i%r)>=t)return n}}var G=[""];function Y(e){for(;G.length<=e;)G.push(X(G)+" ");return G[e]}function X(e){return e[e.length-1]}function Z(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function Q(){}function J(e,t){var r;return Object.create?r=Object.create(e):(Q.prototype=e,r=new Q),t&&F(t,r),r}var $=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ee(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||$.test(e))}function te(e,t){return t?!!(t.source.indexOf("\\w")>-1&&ee(e))||t.test(e):ee(e)}function re(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var ne=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ie(e){return e.charCodeAt(0)>=768&&ne.test(e)}function oe(e,t,r){for(;(r<0?t>0:t<e.length)&&ie(e.charAt(t));)t+=r;return t}function ae(e,t,r){for(var n=t>r?-1:1;;){if(t==r)return t;var i=(t+r)/2,o=n<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:r;e(o)?r=o:t=o+n}}function se(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var i=r.children[n],o=i.chunkSize();if(t<o){r=i;break}t-=o}return r.lines[t]}function ue(e,t,r){var n=[],i=t.line;return e.iter(t.line,r.line+1,function(e){var o=e.text;i==r.line&&(o=o.slice(0,r.ch)),i==t.line&&(o=o.slice(t.ch)),n.push(o),++i}),n}function le(e,t,r){var n=[];return e.iter(t,r,function(e){n.push(e.text)}),n}function ce(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function fe(e){if(null==e.parent)return null;for(var t=e.parent,r=j(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r+t.first}function he(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var i=e.children[n],o=i.height;if(t<o){e=i;continue e}t-=o,r+=i.chunkSize()}return r}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s=e.lines[a].height;if(t<s)break;t-=s}return r+a}function pe(e,t){return t>=e.first&&t<e.first+e.size}function de(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function ge(e,t,r){if(void 0===r&&(r=null),!(this instanceof ge))return new ge(e,t,r);this.line=e,this.ch=t,this.sticky=r}function ye(e,t){return e.line-t.line||e.ch-t.ch}function ve(e,t){return e.sticky==t.sticky&&0==ye(e,t)}function me(e){return ge(e.line,e.ch)}function be(e,t){return ye(e,t)<0?t:e}function we(e,t){return ye(e,t)<0?e:t}function Ce(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function Ee(e,t){if(t.line<e.first)return ge(e.first,0);var r=e.first+e.size-1;return t.line>r?ge(r,se(e,r).text.length):function(e,t){var r=e.ch;return null==r||r>t?ge(e.line,t):r<0?ge(e.line,0):e}(t,se(e,t.line).text.length)}function Se(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=Ee(e,t[n]);return r}var Te=!1,Ae=!1;function _e(e,t,r){this.marker=e,this.from=t,this.to=r}function ke(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function Ie(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function xe(e,t){if(t.full)return null;var r=pe(e,t.from.line)&&se(e,t.from.line).markedSpans,n=pe(e,t.to.line)&&se(e,t.to.line).markedSpans;if(!r&&!n)return null;var i=t.from.ch,o=t.to.ch,a=0==ye(t.from,t.to),s=function(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==a.type&&(!r||!o.marker.insertLeft)){var s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(n||(n=[])).push(new _e(a,o.from,s?null:o.to))}}return n}(r,i,a),u=function(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.to||(a.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==a.type&&(!r||o.marker.insertLeft)){var s=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(n||(n=[])).push(new _e(a,s?null:o.from-t,null==o.to?null:o.to-t))}}return n}(n,o,a),l=1==t.text.length,c=X(t.text).length+(l?i:0);if(s)for(var f=0;f<s.length;++f){var h=s[f];if(null==h.to){var p=ke(u,h.marker);p?l&&(h.to=null==p.to?null:p.to+c):h.to=i}}if(u)for(var d=0;d<u.length;++d){var g=u[d];if(null!=g.to&&(g.to+=c),null==g.from)ke(s,g.marker)||(g.from=c,l&&(s||(s=[])).push(g));else g.from+=c,l&&(s||(s=[])).push(g)}s&&(s=Be(s)),u&&u!=s&&(u=Be(u));var y=[s];if(!l){var v,m=t.text.length-2;if(m>0&&s)for(var b=0;b<s.length;++b)null==s[b].to&&(v||(v=[])).push(new _e(s[b].marker,null,null));for(var w=0;w<m;++w)y.push(v);y.push(u)}return y}function Be(e){for(var t=0;t<e.length;++t){var r=e[t];null!=r.from&&r.from==r.to&&!1!==r.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Ne(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function Le(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function Re(e){return e.inclusiveLeft?-1:0}function Oe(e){return e.inclusiveRight?1:0}function Pe(e,t){var r=e.lines.length-t.lines.length;if(0!=r)return r;var n=e.find(),i=t.find(),o=ye(n.from,i.from)||Re(e)-Re(t);return o?-o:ye(n.to,i.to)||Oe(e)-Oe(t)||t.id-e.id}function De(e,t){var r,n=Ae&&e.markedSpans;if(n)for(var i=void 0,o=0;o<n.length;++o)(i=n[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!r||Pe(r,i.marker)<0)&&(r=i.marker);return r}function Fe(e){return De(e,!0)}function Ue(e){return De(e,!1)}function Me(e,t,r,n,i){var o=se(e,t),a=Ae&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var u=a[s];if(u.marker.collapsed){var l=u.marker.find(0),c=ye(l.from,r)||Re(u.marker)-Re(i),f=ye(l.to,n)||Oe(u.marker)-Oe(i);if(!(c>=0&&f<=0||c<=0&&f>=0)&&(c<=0&&(u.marker.inclusiveRight&&i.inclusiveLeft?ye(l.to,r)>=0:ye(l.to,r)>0)||c>=0&&(u.marker.inclusiveRight&&i.inclusiveLeft?ye(l.from,n)<=0:ye(l.from,n)<0)))return!0}}}function je(e){for(var t;t=Fe(e);)e=t.find(-1,!0).line;return e}function He(e,t){var r=se(e,t),n=je(r);return r==n?t:fe(n)}function Ke(e,t){if(t>e.lastLine())return t;var r,n=se(e,t);if(!Ve(e,n))return t;for(;r=Ue(n);)n=r.find(1,!0).line;return fe(n)+1}function Ve(e,t){var r=Ae&&t.markedSpans;if(r)for(var n=void 0,i=0;i<r.length;++i)if((n=r[i]).marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&ze(e,t,n))return!0}}function ze(e,t,r){if(null==r.to){var n=r.marker.find(1,!0);return ze(e,n.line,ke(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(null==i.to||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&ze(e,t,i))return!0}function We(e){for(var t=0,r=(e=je(e)).parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==e)break;t+=i.height}for(var o=r.parent;o;o=(r=o).parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==r)break;t+=s.height}return t}function qe(e){if(0==e.height)return 0;for(var t,r=e.text.length,n=e;t=Fe(n);){var i=t.find(0,!0);n=i.from.line,r+=i.from.ch-i.to.ch}for(n=e;t=Ue(n);){var o=t.find(0,!0);r-=n.text.length-o.from.ch,r+=(n=o.to.line).text.length-o.to.ch}return r}function Ge(e){var t=e.display,r=e.doc;t.maxLine=se(r,r.first),t.maxLineLength=qe(t.maxLine),t.maxLineChanged=!0,r.iter(function(e){var r=qe(e);r>t.maxLineLength&&(t.maxLineLength=r,t.maxLine=e)})}var Ye=null;function Xe(e,t,r){var n;Ye=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==r?n=i:Ye=i),o.from==t&&(o.from!=o.to&&"before"!=r?n=i:Ye=i)}return null!=n?n:Ye}var Ze=function(){var e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,t=/[stwN]/,r=/[LRr]/,n=/[Lb1n]/,i=/[1n]/;function o(e,t,r){this.level=e,this.from=t,this.to=r}return function(a,s){var u,l="ltr"==s?"L":"R";if(0==a.length||"ltr"==s&&!e.test(a))return!1;for(var c=a.length,f=[],h=0;h<c;++h)f.push((u=a.charCodeAt(h))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(u):1424<=u&&u<=1524?"R":1536<=u&&u<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(u-1536):1774<=u&&u<=2220?"r":8192<=u&&u<=8203?"w":8204==u?"b":"L");for(var p=0,d=l;p<c;++p){var g=f[p];"m"==g?f[p]=d:d=g}for(var y=0,v=l;y<c;++y){var m=f[y];"1"==m&&"r"==v?f[y]="n":r.test(m)&&(v=m,"r"==m&&(f[y]="R"))}for(var b=1,w=f[0];b<c-1;++b){var C=f[b];"+"==C&&"1"==w&&"1"==f[b+1]?f[b]="1":","!=C||w!=f[b+1]||"1"!=w&&"n"!=w||(f[b]=w),w=C}for(var E=0;E<c;++E){var S=f[E];if(","==S)f[E]="N";else if("%"==S){var T=void 0;for(T=E+1;T<c&&"%"==f[T];++T);for(var A=E&&"!"==f[E-1]||T<c&&"1"==f[T]?"1":"N",_=E;_<T;++_)f[_]=A;E=T-1}}for(var k=0,I=l;k<c;++k){var x=f[k];"L"==I&&"1"==x?f[k]="L":r.test(x)&&(I=x)}for(var B=0;B<c;++B)if(t.test(f[B])){var N=void 0;for(N=B+1;N<c&&t.test(f[N]);++N);for(var L="L"==(B?f[B-1]:l),R=L==("L"==(N<c?f[N]:l))?L?"L":"R":l,O=B;O<N;++O)f[O]=R;B=N-1}for(var P,D=[],F=0;F<c;)if(n.test(f[F])){var U=F;for(++F;F<c&&n.test(f[F]);++F);D.push(new o(0,U,F))}else{var M=F,j=D.length;for(++F;F<c&&"L"!=f[F];++F);for(var H=M;H<F;)if(i.test(f[H])){M<H&&D.splice(j,0,new o(1,M,H));var K=H;for(++H;H<F&&i.test(f[H]);++H);D.splice(j,0,new o(2,K,H)),M=H}else++H;M<F&&D.splice(j,0,new o(1,M,F))}return"ltr"==s&&(1==D[0].level&&(P=a.match(/^\s+/))&&(D[0].from=P[0].length,D.unshift(new o(0,0,P[0].length))),1==X(D).level&&(P=a.match(/\s+$/))&&(X(D).to-=P[0].length,D.push(new o(0,c-P[0].length,c)))),"rtl"==s?D.reverse():D}}();function Qe(e,t){var r=e.order;return null==r&&(r=e.order=Ze(e.text,t)),r}var Je=[],$e=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||Je).concat(r)}};function et(e,t){return e._handlers&&e._handlers[t]||Je}function tt(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers,i=n&&n[t];if(i){var o=j(i,r);o>-1&&(n[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function rt(e,t){var r=et(e,t);if(r.length)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)}function nt(e,t,r){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),rt(e,r||t.type,e,t),lt(t)||t.codemirrorIgnore}function it(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==j(r,t[n])&&r.push(t[n])}function ot(e,t){return et(e,t).length>0}function at(e){e.prototype.on=function(e,t){$e(this,e,t)},e.prototype.off=function(e,t){tt(this,e,t)}}function st(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function ut(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function lt(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function ct(e){st(e),ut(e)}function ft(e){return e.target||e.srcElement}function ht(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),m&&e.ctrlKey&&1==t&&(t=3),t}var pt,dt,gt=function(){if(a&&s<9)return!1;var e=x("div");return"draggable"in e||"dragDrop"in e}();function yt(e){if(null==pt){var t=x("span","​");I(e,x("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(pt=t.offsetWidth<=1&&t.offsetHeight>2&&!(a&&s<8))}var r=pt?x("span","​"):x("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function vt(e){if(null!=dt)return dt;var t=I(e,document.createTextNode("AخA")),r=A(t,0,1).getBoundingClientRect(),n=A(t,1,2).getBoundingClientRect();return k(e),!(!r||r.left==r.right)&&(dt=n.right-r.right<3)}var mt,bt=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,r=[],n=e.length;t<=n;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(r.push(o.slice(0,a)),t+=a+1):(r.push(o),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)},wt=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Ct="oncopy"in(mt=x("div"))||(mt.setAttribute("oncopy","return;"),"function"==typeof mt.oncopy),Et=null,St={},Tt={};function At(e){if("string"==typeof e&&Tt.hasOwnProperty(e))e=Tt[e];else if(e&&"string"==typeof e.name&&Tt.hasOwnProperty(e.name)){var t=Tt[e.name];"string"==typeof t&&(t={name:t}),(e=J(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return At("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return At("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function _t(e,t){t=At(t);var r=St[t.name];if(!r)return _t(e,"text/plain");var n=r(e,t);if(kt.hasOwnProperty(t.name)){var i=kt[t.name];for(var o in i)i.hasOwnProperty(o)&&(n.hasOwnProperty(o)&&(n["_"+o]=n[o]),n[o]=i[o])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)n[a]=t.modeProps[a];return n}var kt={};function It(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}function xt(e,t){for(var r;e.innerMode&&(r=e.innerMode(t))&&r.mode!=e;)t=r.state,e=r.mode;return r||{mode:e,state:t}}function Bt(e,t,r){return!e.startState||e.startState(t,r)}var Nt=function(e,t,r){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r};Nt.prototype.eol=function(){return this.pos>=this.string.length},Nt.prototype.sol=function(){return this.pos==this.lineStart},Nt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Nt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Nt.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Nt.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Nt.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Nt.prototype.skipToEnd=function(){this.pos=this.string.length},Nt.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Nt.prototype.backUp=function(e){this.pos-=e},Nt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=U(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?U(this.string,this.lineStart,this.tabSize):0)},Nt.prototype.indentation=function(){return U(this.string,null,this.tabSize)-(this.lineStart?U(this.string,this.lineStart,this.tabSize):0)},Nt.prototype.match=function(e,t,r){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&!1!==t&&(this.pos+=n[0].length),n)}var i=function(e){return r?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},Nt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Nt.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Nt.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Nt.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var Lt=function(e,t){this.state=e,this.lookAhead=t},Rt=function(e,t,r,n){this.state=t,this.doc=e,this.line=r,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};function Ot(e,t,r,n){var i=[e.state.modeGen],o={};Vt(e,t.text,e.doc.mode,r,function(e,t){return i.push(e,t)},o,n);for(var a=r.state,s=function(n){r.baseTokens=i;var s=e.state.overlays[n],u=1,l=0;r.state=!0,Vt(e,t.text,s.mode,r,function(e,t){for(var r=u;l<e;){var n=i[u];n>e&&i.splice(u,1,e,i[u+1],n),u+=2,l=Math.min(e,n)}if(t)if(s.opaque)i.splice(r,u-r,e,"overlay "+t),u=r+2;else for(;r<u;r+=2){var o=i[r+1];i[r+1]=(o?o+" ":"")+"overlay "+t}},o),r.state=a,r.baseTokens=null,r.baseTokenPos=1},u=0;u<e.state.overlays.length;++u)s(u);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function Pt(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=Dt(e,fe(t)),i=t.text.length>e.options.maxHighlightLength&&It(e.doc.mode,n.state),o=Ot(e,t,n);i&&(n.state=i),t.stateAfter=n.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function Dt(e,t,r){var n=e.doc,i=e.display;if(!n.mode.startState)return new Rt(n,!0,t);var o=function(e,t,r){for(var n,i,o=e.doc,a=r?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=o.first)return o.first;var u=se(o,s-1),l=u.stateAfter;if(l&&(!r||s+(l instanceof Lt?l.lookAhead:0)<=o.modeFrontier))return s;var c=U(u.text,null,e.options.tabSize);(null==i||n>c)&&(i=s-1,n=c)}return i}(e,t,r),a=o>n.first&&se(n,o-1).stateAfter,s=a?Rt.fromSaved(n,a,o):new Rt(n,Bt(n.mode),o);return n.iter(o,t,function(r){Ft(e,r.text,s);var n=s.line;r.stateAfter=n==t-1||n%5==0||n>=i.viewFrom&&n<i.viewTo?s.save():null,s.nextLine()}),r&&(n.modeFrontier=s.line),s}function Ft(e,t,r,n){var i=e.doc.mode,o=new Nt(t,e.options.tabSize,r);for(o.start=o.pos=n||0,""==t&&Ut(i,r.state);!o.eol();)Mt(i,o,r.state),o.start=o.pos}function Ut(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var r=xt(e,t);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function Mt(e,t,r,n){for(var i=0;i<10;i++){n&&(n[0]=xt(e,r).mode);var o=e.token(t,r);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}Rt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},Rt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},Rt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Rt.fromSaved=function(e,t,r){return t instanceof Lt?new Rt(e,It(e.mode,t.state),r,t.lookAhead):new Rt(e,It(e.mode,t),r)},Rt.prototype.save=function(e){var t=!1!==e?It(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Lt(t,this.maxLookAhead):t};var jt=function(e,t,r){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=r};function Ht(e,t,r,n){var i,o,a=e.doc,s=a.mode,u=se(a,(t=Ee(a,t)).line),l=Dt(e,t.line,r),c=new Nt(u.text,e.options.tabSize,l);for(n&&(o=[]);(n||c.pos<t.ch)&&!c.eol();)c.start=c.pos,i=Mt(s,c,l.state),n&&o.push(new jt(c,i,It(a.mode,l.state)));return n?o:new jt(c,i,l.state)}function Kt(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==t[n]?t[n]=r[2]:new RegExp("(?:^|s)"+r[2]+"(?:$|s)").test(t[n])||(t[n]+=" "+r[2])}return e}function Vt(e,t,r,n,i,o,a){var s=r.flattenSpans;null==s&&(s=e.options.flattenSpans);var u,l=0,c=null,f=new Nt(t,e.options.tabSize,n),h=e.options.addModeClass&&[null];for(""==t&&Kt(Ut(r,n.state),o);!f.eol();){if(f.pos>e.options.maxHighlightLength?(s=!1,a&&Ft(e,t,n,f.pos),f.pos=t.length,u=null):u=Kt(Mt(r,f,n.state,h),o),h){var p=h[0].name;p&&(u="m-"+(u?p+" "+u:p))}if(!s||c!=u){for(;l<f.start;)i(l=Math.min(f.start,l+5e3),c);c=u}f.start=f.pos}for(;l<f.pos;){var d=Math.min(f.pos,l+5e3);i(d,c),l=d}}var zt=function(e,t,r){this.text=e,Le(this,t),this.height=r?r(this):1};function Wt(e){e.parent=null,Ne(e)}zt.prototype.lineNo=function(){return fe(this)},at(zt);var qt={},Gt={};function Yt(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?Gt:qt;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function Xt(e,t){var r=B("span",null,null,u?"padding-right: .1px":null),n={pre:B("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(a||u)&&e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,s=void 0;n.pos=0,n.addToken=Qt,vt(e.display.measure)&&(s=Qe(o,e.doc.direction))&&(n.addToken=Jt(n.addToken,s)),n.map=[],er(o,n,Pt(e,o,t!=e.display.externalMeasured&&fe(o))),o.styleClasses&&(o.styleClasses.bgClass&&(n.bgClass=O(o.styleClasses.bgClass,n.bgClass||"")),o.styleClasses.textClass&&(n.textClass=O(o.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(yt(e.display.measure))),0==i?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(u){var l=n.content.lastChild;(/\bcm-tab\b/.test(l.className)||l.querySelector&&l.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return rt(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=O(n.pre.className,n.textClass||"")),n}function Zt(e){var t=x("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Qt(e,t,r,n,i,o,u){if(t){var l,c=e.splitSpaces?function(e,t){if(e.length>1&&!/  /.test(e))return e;for(var r=t,n="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!r||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o=" "),n+=o,r=" "==o}return n}(t,e.trailingSpace):t,f=e.cm.state.specialChars,h=!1;if(f.test(t)){l=document.createDocumentFragment();for(var p=0;;){f.lastIndex=p;var d=f.exec(t),g=d?d.index-p:t.length-p;if(g){var y=document.createTextNode(c.slice(p,p+g));a&&s<9?l.appendChild(x("span",[y])):l.appendChild(y),e.map.push(e.pos,e.pos+g,y),e.col+=g,e.pos+=g}if(!d)break;p+=g+1;var v=void 0;if("\t"==d[0]){var m=e.cm.options.tabSize,b=m-e.col%m;(v=l.appendChild(x("span",Y(b),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=b}else"\r"==d[0]||"\n"==d[0]?((v=l.appendChild(x("span","\r"==d[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",d[0]),e.col+=1):((v=e.cm.options.specialCharPlaceholder(d[0])).setAttribute("cm-text",d[0]),a&&s<9?l.appendChild(x("span",[v])):l.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,l=document.createTextNode(c),e.map.push(e.pos,e.pos+t.length,l),a&&s<9&&(h=!0),e.pos+=t.length;if(e.trailingSpace=32==c.charCodeAt(t.length-1),r||n||i||h||u){var w=r||"";n&&(w+=n),i&&(w+=i);var C=x("span",[l],w,u);return o&&(C.title=o),e.content.appendChild(C)}e.content.appendChild(l)}}function Jt(e,t){return function(r,n,i,o,a,s,u){i=i?i+" cm-force-border":"cm-force-border";for(var l=r.pos,c=l+n.length;;){for(var f=void 0,h=0;h<t.length&&!((f=t[h]).to>l&&f.from<=l);h++);if(f.to>=c)return e(r,n,i,o,a,s,u);e(r,n.slice(0,f.to-l),i,o,null,s,u),o=null,n=n.slice(f.to-l),l=f.to}}}function $t(e,t,r,n){var i=!n&&r.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!n&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",r.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function er(e,t,r){var n=e.markedSpans,i=e.text,o=0;if(n)for(var a,s,u,l,c,f,h,p=i.length,d=0,g=1,y="",v=0;;){if(v==d){u=l=c=f=s="",h=null,v=1/0;for(var m=[],b=void 0,w=0;w<n.length;++w){var C=n[w],E=C.marker;"bookmark"==E.type&&C.from==d&&E.widgetNode?m.push(E):C.from<=d&&(null==C.to||C.to>d||E.collapsed&&C.to==d&&C.from==d)?(null!=C.to&&C.to!=d&&v>C.to&&(v=C.to,l=""),E.className&&(u+=" "+E.className),E.css&&(s=(s?s+";":"")+E.css),E.startStyle&&C.from==d&&(c+=" "+E.startStyle),E.endStyle&&C.to==v&&(b||(b=[])).push(E.endStyle,C.to),E.title&&!f&&(f=E.title),E.collapsed&&(!h||Pe(h.marker,E)<0)&&(h=C)):C.from>d&&v>C.from&&(v=C.from)}if(b)for(var S=0;S<b.length;S+=2)b[S+1]==v&&(l+=" "+b[S]);if(!h||h.from==d)for(var T=0;T<m.length;++T)$t(t,0,m[T]);if(h&&(h.from||0)==d){if($t(t,(null==h.to?p+1:h.to)-d,h.marker,null==h.from),null==h.to)return;h.to==d&&(h=!1)}}if(d>=p)break;for(var A=Math.min(p,v);;){if(y){var _=d+y.length;if(!h){var k=_>A?y.slice(0,A-d):y;t.addToken(t,k,a?a+u:u,c,d+k.length==v?l:"",f,s)}if(_>=A){y=y.slice(A-d),d=A;break}d=_,c=""}y=i.slice(o,o=r[g++]),a=Yt(r[g++],t.cm.options)}}else for(var I=1;I<r.length;I+=2)t.addToken(t,i.slice(o,o=r[I]),Yt(r[I+1],t.cm.options))}function tr(e,t,r){this.line=t,this.rest=function(e){for(var t,r;t=Ue(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}(t),this.size=this.rest?fe(X(this.rest))-r+1:1,this.node=this.text=null,this.hidden=Ve(e,t)}function rr(e,t,r){for(var n,i=[],o=t;o<r;o=n){var a=new tr(e.doc,se(e.doc,o),o);n=o+a.size,i.push(a)}return i}var nr=null,ir=null;function or(e,t){var r=et(e,t);if(r.length){var n,i=Array.prototype.slice.call(arguments,2);nr?n=nr.delayedCallbacks:ir?n=ir:(n=ir=[],setTimeout(ar,0));for(var o=function(e){n.push(function(){return r[e].apply(null,i)})},a=0;a<r.length;++a)o(a)}}function ar(){var e=ir;ir=null;for(var t=0;t<e.length;++t)e[t]()}function sr(e,t,r,n){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?cr(e,t):"gutter"==o?hr(e,t,r,n):"class"==o?fr(e,t):"widget"==o&&pr(e,t,n)}t.changes=null}function ur(e){return e.node==e.text&&(e.node=x("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),a&&s<8&&(e.node.style.zIndex=2)),e.node}function lr(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):Xt(e,t)}function cr(e,t){var r=t.text.className,n=lr(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,fr(e,t)):r&&(t.text.className=r)}function fr(e,t){!function(e,t){var r=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(r&&(r+=" CodeMirror-linebackground"),t.background)r?t.background.className=r:(t.background.parentNode.removeChild(t.background),t.background=null);else if(r){var n=ur(t);t.background=n.insertBefore(x("div",null,r),n.firstChild),e.display.input.setUneditable(t.background)}}(e,t),t.line.wrapClass?ur(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var r=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=r||""}function hr(e,t,r,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=ur(t);t.gutterBackground=x("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var a=ur(t),s=t.gutter=x("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(e.display.input.setUneditable(s),a.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(x("div",de(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var u=0;u<e.options.gutters.length;++u){var l=e.options.gutters[u],c=o.hasOwnProperty(l)&&o[l];c&&s.appendChild(x("div",[c],"CodeMirror-gutter-elt","left: "+n.gutterLeft[l]+"px; width: "+n.gutterWidth[l]+"px"))}}}function pr(e,t,r){t.alignable&&(t.alignable=null);for(var n=t.node.firstChild,i=void 0;n;n=i)i=n.nextSibling,"CodeMirror-linewidget"==n.className&&t.node.removeChild(n);gr(e,t,r)}function dr(e,t,r,n){var i=lr(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),fr(e,t),hr(e,t,r,n),gr(e,t,n),t.node}function gr(e,t,r){if(yr(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)yr(e,t.rest[n],t,r,!1)}function yr(e,t,r,n,i){if(t.widgets)for(var o=ur(r),a=0,s=t.widgets;a<s.length;++a){var u=s[a],l=x("div",[u.node],"CodeMirror-linewidget");u.handleMouseEvents||l.setAttribute("cm-ignore-events","true"),vr(u,l,r,n),e.display.input.setUneditable(l),i&&u.above?o.insertBefore(l,r.gutter||r.text):o.appendChild(l),or(u,"redraw")}}function vr(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var i=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(i-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function mr(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!N(document.body,e.node)){var r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),I(t.display.measure,x("div",[e.node],null,r))}return e.height=e.node.parentNode.offsetHeight}function br(e,t){for(var r=ft(t);r!=e.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==e.sizer&&r!=e.mover)return!0}function wr(e){return e.lineSpace.offsetTop}function Cr(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Er(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=I(e.measure,x("pre","x")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function Sr(e){return H-e.display.nativeBarWidth}function Tr(e){return e.display.scroller.clientWidth-Sr(e)-e.display.barWidth}function Ar(e){return e.display.scroller.clientHeight-Sr(e)-e.display.barHeight}function _r(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var i=0;i<e.rest.length;i++)if(fe(e.rest[i])>r)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function kr(e,t,r,n){return Br(e,xr(e,t),r,n)}function Ir(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[an(e,t)];var r=e.display.externalMeasured;return r&&t>=r.lineN&&t<r.lineN+r.size?r:void 0}function xr(e,t){var r=fe(t),n=Ir(e,r);n&&!n.text?n=null:n&&n.changes&&(sr(e,n,r,en(e)),e.curOp.forceUpdate=!0),n||(n=function(e,t){var r=fe(t=je(t)),n=e.display.externalMeasured=new tr(e.doc,t,r);n.lineN=r;var i=n.built=Xt(e,n);return n.text=i.pre,I(e.display.lineMeasure,i.pre),n}(e,t));var i=_r(n,t,r);return{line:t,view:n,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Br(e,t,r,n,i){t.before&&(r=-1);var o,u=r+(n||"");return t.cache.hasOwnProperty(u)?o=t.cache[u]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(e,t,r){var n=e.options.lineWrapping,i=n&&Tr(e);if(!t.measure.heights||n&&t.measure.width!=i){var o=t.measure.heights=[];if(n){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var u=a[s],l=a[s+1];Math.abs(u.bottom-l.bottom)>2&&o.push((u.bottom+l.top)/2-r.top)}}o.push(r.bottom-r.top)}}(e,t.view,t.rect),t.hasHeights=!0),(o=function(e,t,r,n){var i,o=Rr(t.map,r,n),u=o.node,l=o.start,c=o.end,f=o.collapse;if(3==u.nodeType){for(var h=0;h<4;h++){for(;l&&ie(t.line.text.charAt(o.coverStart+l));)--l;for(;o.coverStart+c<o.coverEnd&&ie(t.line.text.charAt(o.coverStart+c));)++c;if((i=a&&s<9&&0==l&&c==o.coverEnd-o.coverStart?u.parentNode.getBoundingClientRect():Or(A(u,l,c).getClientRects(),n)).left||i.right||0==l)break;c=l,l-=1,f="right"}a&&s<11&&(i=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=Et)return Et;var t=I(e,x("span","x")),r=t.getBoundingClientRect(),n=A(t,0,1).getBoundingClientRect();return Et=Math.abs(r.left-n.left)>1}(e))return t;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*n,bottom:t.bottom*n}}(e.display.measure,i))}else{var p;l>0&&(f=n="right"),i=e.options.lineWrapping&&(p=u.getClientRects()).length>1?p["right"==n?p.length-1:0]:u.getBoundingClientRect()}if(a&&s<9&&!l&&(!i||!i.left&&!i.right)){var d=u.parentNode.getClientRects()[0];i=d?{left:d.left,right:d.left+$r(e.display),top:d.top,bottom:d.bottom}:Lr}for(var g=i.top-t.rect.top,y=i.bottom-t.rect.top,v=(g+y)/2,m=t.view.measure.heights,b=0;b<m.length-1&&!(v<m[b]);b++);var w=b?m[b-1]:0,C=m[b],E={left:("right"==f?i.right:i.left)-t.rect.left,right:("left"==f?i.left:i.right)-t.rect.left,top:w,bottom:C};return i.left||i.right||(E.bogus=!0),e.options.singleCursorHeightPerLine||(E.rtop=g,E.rbottom=y),E}(e,t,r,n)).bogus||(t.cache[u]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var Nr,Lr={left:0,right:0,top:0,bottom:0};function Rr(e,t,r){for(var n,i,o,a,s,u,l=0;l<e.length;l+=3)if(s=e[l],u=e[l+1],t<s?(i=0,o=1,a="left"):t<u?o=1+(i=t-s):(l==e.length-3||t==u&&e[l+3]>t)&&(i=(o=u-s)-1,t>=u&&(a="right")),null!=i){if(n=e[l+2],s==u&&r==(n.insertLeft?"left":"right")&&(a=r),"left"==r&&0==i)for(;l&&e[l-2]==e[l-3]&&e[l-1].insertLeft;)n=e[2+(l-=3)],a="left";if("right"==r&&i==u-s)for(;l<e.length-3&&e[l+3]==e[l+4]&&!e[l+5].insertLeft;)n=e[(l+=3)+2],a="right";break}return{node:n,start:i,end:o,collapse:a,coverStart:s,coverEnd:u}}function Or(e,t){var r=Lr;if("left"==t)for(var n=0;n<e.length&&(r=e[n]).left==r.right;n++);else for(var i=e.length-1;i>=0&&(r=e[i]).left==r.right;i--);return r}function Pr(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Dr(e){e.display.externalMeasure=null,k(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Pr(e.display.view[t])}function Fr(e){Dr(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Ur(){return c&&y?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Mr(){return c&&y?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function jr(e){var t=0;if(e.widgets)for(var r=0;r<e.widgets.length;++r)e.widgets[r].above&&(t+=mr(e.widgets[r]));return t}function Hr(e,t,r,n,i){if(!i){var o=jr(t);r.top+=o,r.bottom+=o}if("line"==n)return r;n||(n="local");var a=We(t);if("local"==n?a+=wr(e.display):a-=e.display.viewOffset,"page"==n||"window"==n){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==n?0:Mr());var u=s.left+("window"==n?0:Ur());r.left+=u,r.right+=u}return r.top+=a,r.bottom+=a,r}function Kr(e,t,r){if("div"==r)return t;var n=t.left,i=t.top;if("page"==r)n-=Ur(),i-=Mr();else if("local"==r||!r){var o=e.display.sizer.getBoundingClientRect();n+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:n-a.left,top:i-a.top}}function Vr(e,t,r,n,i){return n||(n=se(e.doc,t.line)),Hr(e,n,kr(e,n,t.ch,i),r)}function zr(e,t,r,n,i,o){function a(t,a){var s=Br(e,i,t,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,Hr(e,n,s,r)}n=n||se(e.doc,t.line),i||(i=xr(e,n));var s=Qe(n,e.doc.direction),u=t.ch,l=t.sticky;if(u>=n.text.length?(u=n.text.length,l="before"):u<=0&&(u=0,l="after"),!s)return a("before"==l?u-1:u,"before"==l);function c(e,t,r){var n=1==s[t].level;return a(r?e-1:e,n!=r)}var f=Xe(s,u,l),h=Ye,p=c(u,f,"before"==l);return null!=h&&(p.other=c(u,h,"before"!=l)),p}function Wr(e,t){var r=0;t=Ee(e.doc,t),e.options.lineWrapping||(r=$r(e.display)*t.ch);var n=se(e.doc,t.line),i=We(n)+wr(e.display);return{left:r,right:r,top:i,bottom:i+n.height}}function qr(e,t,r,n,i){var o=ge(e,t,r);return o.xRel=i,n&&(o.outside=!0),o}function Gr(e,t,r){var n=e.doc;if((r+=e.display.viewOffset)<0)return qr(n.first,0,null,!0,-1);var i=he(n,r),o=n.first+n.size-1;if(i>o)return qr(n.first+n.size-1,se(n,o).text.length,null,!0,1);t<0&&(t=0);for(var a=se(n,i);;){var s=Qr(e,a,i,t,r),u=Ue(a),l=u&&u.find(0,!0);if(!u||!(s.ch>l.from.ch||s.ch==l.from.ch&&s.xRel>0))return s;i=fe(a=l.to.line)}}function Yr(e,t,r,n){n-=jr(t);var i=t.text.length,o=ae(function(t){return Br(e,r,t-1).bottom<=n},i,0);return{begin:o,end:i=ae(function(t){return Br(e,r,t).top>n},o,i)}}function Xr(e,t,r,n){return r||(r=xr(e,t)),Yr(e,t,r,Hr(e,t,Br(e,r,n),"line").top)}function Zr(e,t,r,n){return!(e.bottom<=r)&&(e.top>r||(n?e.left:e.right)>t)}function Qr(e,t,r,n,i){i-=We(t);var o=xr(e,t),a=jr(t),s=0,u=t.text.length,l=!0,c=Qe(t,e.doc.direction);if(c){var f=(e.options.lineWrapping?function(e,t,r,n,i,o,a){var s=Yr(e,t,n,a),u=s.begin,l=s.end;/\s/.test(t.text.charAt(l-1))&&l--;for(var c=null,f=null,h=0;h<i.length;h++){var p=i[h];if(!(p.from>=l||p.to<=u)){var d=Br(e,n,1!=p.level?Math.min(l,p.to)-1:Math.max(u,p.from)).right,g=d<o?o-d+1e9:d-o;(!c||f>g)&&(c=p,f=g)}}return c||(c=i[i.length-1]),c.from<u&&(c={from:u,to:c.to,level:c.level}),c.to>l&&(c={from:c.from,to:l,level:c.level}),c}:function(e,t,r,n,i,o,a){var s=ae(function(s){var u=i[s],l=1!=u.level;return Zr(zr(e,ge(r,l?u.to:u.from,l?"before":"after"),"line",t,n),o,a,!0)},0,i.length-1),u=i[s];if(s>0){var l=1!=u.level,c=zr(e,ge(r,l?u.from:u.to,l?"after":"before"),"line",t,n);Zr(c,o,a,!0)&&c.top>a&&(u=i[s-1])}return u})(e,t,r,o,c,n,i);s=(l=1!=f.level)?f.from:f.to-1,u=l?f.to:f.from-1}var h,p,d=null,g=null,y=ae(function(t){var r=Br(e,o,t);return r.top+=a,r.bottom+=a,!!Zr(r,n,i,!1)&&(r.top<=i&&r.left<=n&&(d=t,g=r),!0)},s,u),v=!1;if(g){var m=n-g.left<g.right-n,b=m==l;y=d+(b?0:1),p=b?"after":"before",h=m?g.left:g.right}else{l||y!=u&&y!=s||y++,p=0==y?"after":y==t.text.length?"before":Br(e,o,y-(l?1:0)).bottom+a<=i==l?"after":"before";var w=zr(e,ge(r,y,p),"line",t,o);h=w.left,v=i<w.top||i>=w.bottom}return qr(r,y=oe(t.text,y,1),p,v,n-h)}function Jr(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Nr){Nr=x("pre");for(var t=0;t<49;++t)Nr.appendChild(document.createTextNode("x")),Nr.appendChild(x("br"));Nr.appendChild(document.createTextNode("x"))}I(e.measure,Nr);var r=Nr.offsetHeight/50;return r>3&&(e.cachedTextHeight=r),k(e.measure),r||1}function $r(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=x("span","xxxxxxxxxx"),r=x("pre",[t]);I(e.measure,r);var n=t.getBoundingClientRect(),i=(n.right-n.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function en(e){for(var t=e.display,r={},n={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a)r[e.options.gutters[a]]=o.offsetLeft+o.clientLeft+i,n[e.options.gutters[a]]=o.clientWidth;return{fixedPos:tn(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function tn(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function rn(e){var t=Jr(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/$r(e.display)-3);return function(i){if(Ve(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return r?o+(Math.ceil(i.text.length/n)||1)*t:o+t}}function nn(e){var t=e.doc,r=rn(e);t.iter(function(e){var t=r(e);t!=e.height&&ce(e,t)})}function on(e,t,r,n){var i=e.display;if(!r&&"true"==ft(t).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(t){return null}var u,l=Gr(e,o,a);if(n&&1==l.xRel&&(u=se(e.doc,l.line).text).length==l.ch){var c=U(u,u.length,e.options.tabSize)-u.length;l=ge(l.line,Math.max(0,Math.round((o-Er(e.display).left)/$r(e.display))-c))}return l}function an(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var r=e.display.view,n=0;n<r.length;n++)if((t-=r[n].size)<0)return n}function sn(e){e.display.input.showSelection(e.display.input.prepareSelection())}function un(e,t){void 0===t&&(t=!0);for(var r=e.doc,n={},i=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),a=0;a<r.sel.ranges.length;a++)if(t||a!=r.sel.primIndex){var s=r.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var u=s.empty();(u||e.options.showCursorWhenSelecting)&&ln(e,s.head,i),u||fn(e,s,o)}}return n}function ln(e,t,r){var n=zr(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=r.appendChild(x("div"," ","CodeMirror-cursor"));if(i.style.left=n.left+"px",i.style.top=n.top+"px",i.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",n.other){var o=r.appendChild(x("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=n.other.left+"px",o.style.top=n.other.top+"px",o.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function cn(e,t){return e.top-t.top||e.left-t.left}function fn(e,t,r){var n=e.display,i=e.doc,o=document.createDocumentFragment(),a=Er(e.display),s=a.left,u=Math.max(n.sizerWidth,Tr(e)-n.sizer.offsetLeft)-a.right,l="ltr"==i.direction;function c(e,t,r,n){t<0&&(t=0),t=Math.round(t),n=Math.round(n),o.appendChild(x("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==r?u-e:r)+"px;\n                             height: "+(n-t)+"px"))}function f(t,r,n){var o,a,f=se(i,t),h=f.text.length;function p(r,n){return Vr(e,ge(t,r),"div",f,n)}function d(t,r,n){var i=Xr(e,f,null,t),o="ltr"==r==("after"==n)?"left":"right";return p("after"==n?i.begin:i.end-(/\s/.test(f.text.charAt(i.end-1))?2:1),o)[o]}var g=Qe(f,i.direction);return function(e,t,r,n){if(!e)return n(t,r,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<r&&a.to>t||t==r&&a.to==t)&&(n(Math.max(a.from,t),Math.min(a.to,r),1==a.level?"rtl":"ltr",o),i=!0)}i||n(t,r,"ltr")}(g,r||0,null==n?h:n,function(e,t,i,f){var y="ltr"==i,v=p(e,y?"left":"right"),m=p(t-1,y?"right":"left"),b=null==r&&0==e,w=null==n&&t==h,C=0==f,E=!g||f==g.length-1;if(m.top-v.top<=3){var S=(l?w:b)&&E,T=(l?b:w)&&C?s:(y?v:m).left,A=S?u:(y?m:v).right;c(T,v.top,A-T,v.bottom)}else{var _,k,I,x;y?(_=l&&b&&C?s:v.left,k=l?u:d(e,i,"before"),I=l?s:d(t,i,"after"),x=l&&w&&E?u:m.right):(_=l?d(e,i,"before"):s,k=!l&&b&&C?u:v.right,I=!l&&w&&E?s:m.left,x=l?d(t,i,"after"):u),c(_,v.top,k-_,v.bottom),v.bottom<m.top&&c(s,v.bottom,null,m.top),c(I,m.top,x-I,m.bottom)}(!o||cn(v,o)<0)&&(o=v),cn(m,o)<0&&(o=m),(!a||cn(v,a)<0)&&(a=v),cn(m,a)<0&&(a=m)}),{start:o,end:a}}var h=t.from(),p=t.to();if(h.line==p.line)f(h.line,h.ch,p.ch);else{var d=se(i,h.line),g=se(i,p.line),y=je(d)==je(g),v=f(h.line,h.ch,y?d.text.length+1:null).end,m=f(p.line,y?0:null,p.ch).start;y&&(v.top<m.top-2?(c(v.right,v.top,null,v.bottom),c(s,m.top,m.left,m.bottom)):c(v.right,v.top,m.left-v.right,v.bottom)),v.bottom<m.top&&c(s,v.bottom,null,m.top)}r.appendChild(o)}function hn(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(r=!r)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function pn(e){e.state.focused||(e.display.input.focus(),gn(e))}function dn(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,yn(e))},100)}function gn(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(rt(e,"focus",e,t),e.state.focused=!0,R(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),u&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),hn(e))}function yn(e,t){e.state.delayingBlurEvent||(e.state.focused&&(rt(e,"blur",e,t),e.state.focused=!1,_(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function vn(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var i=t.view[n],o=void 0;if(!i.hidden){if(a&&s<8){var u=i.node.offsetTop+i.node.offsetHeight;o=u-r,r=u}else{var l=i.node.getBoundingClientRect();o=l.bottom-l.top}var c=i.line.height-o;if(o<2&&(o=Jr(t)),(c>.005||c<-.005)&&(ce(i.line,o),mn(i.line),i.rest))for(var f=0;f<i.rest.length;f++)mn(i.rest[f])}}}function mn(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var r=e.widgets[t],n=r.node.parentNode;n&&(r.height=n.offsetHeight)}}function bn(e,t,r){var n=r&&null!=r.top?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-wr(e));var i=r&&null!=r.bottom?r.bottom:n+e.wrapper.clientHeight,o=he(t,n),a=he(t,i);if(r&&r.ensure){var s=r.ensure.from.line,u=r.ensure.to.line;s<o?(o=s,a=he(t,We(se(t,s))+e.wrapper.clientHeight)):Math.min(u,t.lastLine())>=a&&(o=he(t,We(se(t,u))-e.wrapper.clientHeight),a=u)}return{from:o,to:Math.max(a,o+1)}}function wn(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=tn(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=n+"px",a=0;a<r.length;a++)if(!r[a].hidden){e.options.fixedGutter&&(r[a].gutter&&(r[a].gutter.style.left=o),r[a].gutterBackground&&(r[a].gutterBackground.style.left=o));var s=r[a].alignable;if(s)for(var u=0;u<s.length;u++)s[u].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=n+i+"px")}}function Cn(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=de(e.options,t.first+t.size-1),n=e.display;if(r.length!=n.lineNumChars){var i=n.measure.appendChild(x("div",[x("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(o,n.lineGutter.offsetWidth-a)+1,n.lineNumWidth=n.lineNumInnerWidth+a,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",ai(e),!0}return!1}function En(e,t){var r=e.display,n=Jr(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:r.scroller.scrollTop,o=Ar(e),a={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+Cr(r),u=t.top<n,l=t.bottom>s-n;if(t.top<i)a.scrollTop=u?0:t.top;else if(t.bottom>i+o){var c=Math.min(t.top,(l?s:t.bottom)-o);c!=i&&(a.scrollTop=c)}var f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:r.scroller.scrollLeft,h=Tr(e)-(e.options.fixedGutter?r.gutters.offsetWidth:0),p=t.right-t.left>h;return p&&(t.right=t.left+h),t.left<10?a.scrollLeft=0:t.left<f?a.scrollLeft=Math.max(0,t.left-(p?0:10)):t.right>h+f-3&&(a.scrollLeft=t.right+(p?0:10)-h),a}function Sn(e,t){null!=t&&(_n(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Tn(e){_n(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function An(e,t,r){null==t&&null==r||_n(e),null!=t&&(e.curOp.scrollLeft=t),null!=r&&(e.curOp.scrollTop=r)}function _n(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,kn(e,Wr(e,t.from),Wr(e,t.to),t.margin))}function kn(e,t,r,n){var i=En(e,{left:Math.min(t.left,r.left),top:Math.min(t.top,r.top)-n,right:Math.max(t.right,r.right),bottom:Math.max(t.bottom,r.bottom)+n});An(e,i.scrollLeft,i.scrollTop)}function In(e,t){Math.abs(e.doc.scrollTop-t)<2||(r||oi(e,{top:t}),xn(e,t,!0),r&&oi(e),ei(e,100))}function xn(e,t,r){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||r)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Bn(e,t,r,n){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n||(e.doc.scrollLeft=t,wn(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Nn(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+Cr(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+Sr(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}var Ln=function(e,t,r){this.cm=r;var n=this.vert=x("div",[x("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=x("div",[x("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(n),e(i),$e(n,"scroll",function(){n.clientHeight&&t(n.scrollTop,"vertical")}),$e(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,a&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ln.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var i=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(r?n:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:t?n:0}},Ln.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Ln.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Ln.prototype.zeroWidthHack=function(){var e=m&&!p?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new M,this.disableVert=new M},Ln.prototype.enableZeroWidthBar=function(e,t,r){e.style.pointerEvents="auto",t.set(1e3,function n(){var i=e.getBoundingClientRect();("vert"==r?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,n)})},Ln.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Rn=function(){};function On(e,t){t||(t=Nn(e));var r=e.display.barWidth,n=e.display.barHeight;Pn(e,t);for(var i=0;i<4&&r!=e.display.barWidth||n!=e.display.barHeight;i++)r!=e.display.barWidth&&e.options.lineWrapping&&vn(e),Pn(e,Nn(e)),r=e.display.barWidth,n=e.display.barHeight}function Pn(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}Rn.prototype.update=function(){return{bottom:0,right:0}},Rn.prototype.setScrollLeft=function(){},Rn.prototype.setScrollTop=function(){},Rn.prototype.clear=function(){};var Dn={native:Ln,null:Rn};function Fn(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&_(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Dn[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),$e(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,r){"horizontal"==r?Bn(e,t):In(e,t)},e),e.display.scrollbars.addClass&&R(e.display.wrapper,e.display.scrollbars.addClass)}var Un=0;function Mn(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Un},t=e.curOp,nr?nr.ops.push(t):t.ownsGroup=nr={ops:[t],delayedCallbacks:[]}}function jn(e){!function(e,t){var r=e.ownsGroup;if(r)try{!function(e){var t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(var n=0;n<e.ops.length;n++){var i=e.ops[n];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(r<t.length)}(r)}finally{nr=null,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;!function(e){for(var t=e.ops,r=0;r<t.length;r++)Hn(t[r]);for(var n=0;n<t.length;n++)(i=t[n]).updatedDisplay=i.mustUpdate&&ni(i.cm,i.update);for(var i,o=0;o<t.length;o++)Kn(t[o]);for(var a=0;a<t.length;a++)Vn(t[a]);for(var s=0;s<t.length;s++)zn(t[s])}(e)}(r)}}(e.curOp)}function Hn(e){var t=e.cm,r=t.display;!function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Sr(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Sr(e)+"px",t.scrollbarsClipped=!0)}(t),e.updateMaxLine&&Ge(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new ri(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Kn(e){var t=e.cm,r=t.display;e.updatedDisplay&&vn(t),e.barMeasure=Nn(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=kr(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+Sr(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-Tr(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}function Vn(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Bn(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var r=e.focus&&e.focus==L();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&On(t,e.barMeasure),e.updatedDisplay&&si(t,e.barMeasure),e.selectionChanged&&hn(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&pn(e.cm)}function zn(e){var t=e.cm,r=t.display,n=t.doc;if(e.updatedDisplay&&ii(t,e.update),null==r.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(r.wheelStartX=r.wheelStartY=null),null!=e.scrollTop&&xn(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Bn(t,e.scrollLeft,!0,!0),e.scrollToPos){var i=function(e,t,r,n){var i;null==n&&(n=0),e.options.lineWrapping||t!=r||(r="before"==(t=t.ch?ge(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?ge(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var a=!1,s=zr(e,t),u=r&&r!=t?zr(e,r):s,l=En(e,i={left:Math.min(s.left,u.left),top:Math.min(s.top,u.top)-n,right:Math.max(s.left,u.left),bottom:Math.max(s.bottom,u.bottom)+n}),c=e.doc.scrollTop,f=e.doc.scrollLeft;if(null!=l.scrollTop&&(In(e,l.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(a=!0)),null!=l.scrollLeft&&(Bn(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-f)>1&&(a=!0)),!a)break}return i}(t,Ee(n,e.scrollToPos.from),Ee(n,e.scrollToPos.to),e.scrollToPos.margin);!function(e,t){if(!nt(e,"scrollCursorIntoView")){var r=e.display,n=r.sizer.getBoundingClientRect(),i=null;if(t.top+n.top<0?i=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!d){var o=x("div","​",null,"position: absolute;\n                         top: "+(t.top-r.viewOffset-wr(e.display))+"px;\n                         height: "+(t.bottom-t.top+Sr(e)+r.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}(t,i)}var o=e.maybeHiddenMarkers,a=e.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||rt(o[s],"hide");if(a)for(var u=0;u<a.length;++u)a[u].lines.length&&rt(a[u],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&rt(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Wn(e,t){if(e.curOp)return t();Mn(e);try{return t()}finally{jn(e)}}function qn(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Mn(e);try{return t.apply(e,arguments)}finally{jn(e)}}}function Gn(e){return function(){if(this.curOp)return e.apply(this,arguments);Mn(this);try{return e.apply(this,arguments)}finally{jn(this)}}}function Yn(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Mn(t);try{return e.apply(this,arguments)}finally{jn(t)}}}function Xn(e,t,r,n){null==t&&(t=e.doc.first),null==r&&(r=e.doc.first+e.doc.size),n||(n=0);var i=e.display;if(n&&r<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Ae&&He(e.doc,t)<i.viewTo&&Qn(e);else if(r<=i.viewFrom)Ae&&Ke(e.doc,r+n)>i.viewFrom?Qn(e):(i.viewFrom+=n,i.viewTo+=n);else if(t<=i.viewFrom&&r>=i.viewTo)Qn(e);else if(t<=i.viewFrom){var o=Jn(e,r,r+n,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=n):Qn(e)}else if(r>=i.viewTo){var a=Jn(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):Qn(e)}else{var s=Jn(e,t,t,-1),u=Jn(e,r,r+n,1);s&&u?(i.view=i.view.slice(0,s.index).concat(rr(e,s.lineN,u.lineN)).concat(i.view.slice(u.index)),i.viewTo+=n):Qn(e)}var l=i.externalMeasured;l&&(r<l.lineN?l.lineN+=n:t<l.lineN+l.size&&(i.externalMeasured=null))}function Zn(e,t,r){e.curOp.viewChanged=!0;var n=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var o=n.view[an(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==j(a,r)&&a.push(r)}}}function Qn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Jn(e,t,r,n){var i,o=an(e,t),a=e.display.view;if(!Ae||r==e.doc.first+e.doc.size)return{index:o,lineN:r};for(var s=e.display.viewFrom,u=0;u<o;u++)s+=a[u].size;if(s!=t){if(n>0){if(o==a.length-1)return null;i=s+a[o].size-t,o++}else i=s-t;t+=i,r+=i}for(;He(e.doc,r)!=r;){if(o==(n<0?0:a.length-1))return null;r+=n*a[o-(n<0?1:0)].size,o+=n}return{index:o,lineN:r}}function $n(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var i=t[n];i.hidden||i.node&&!i.changes||++r}return r}function ei(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,D(ti,e))}function ti(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,n=Dt(e,t.highlightFrontier),i=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(n.line>=e.display.viewFrom){var a=o.styles,s=o.text.length>e.options.maxHighlightLength?It(t.mode,n.state):null,u=Ot(e,o,n,!0);s&&(n.state=s),o.styles=u.styles;var l=o.styleClasses,c=u.classes;c?o.styleClasses=c:l&&(o.styleClasses=null);for(var f=!a||a.length!=o.styles.length||l!=c&&(!l||!c||l.bgClass!=c.bgClass||l.textClass!=c.textClass),h=0;!f&&h<a.length;++h)f=a[h]!=o.styles[h];f&&i.push(n.line),o.stateAfter=n.save(),n.nextLine()}else o.text.length<=e.options.maxHighlightLength&&Ft(e,o.text,n),o.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>r)return ei(e,e.options.workDelay),!0}),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),i.length&&Wn(e,function(){for(var t=0;t<i.length;t++)Zn(e,i[t],"text")})}}var ri=function(e,t,r){var n=e.display;this.viewport=t,this.visible=bn(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Tr(e),this.force=r,this.dims=en(e),this.events=[]};function ni(e,t){var r=e.display,n=e.doc;if(t.editorIsHidden)return Qn(e),!1;if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==$n(e))return!1;Cn(e)&&(Qn(e),t.dims=en(e));var i=n.first+n.size,o=Math.max(t.visible.from-e.options.viewportMargin,n.first),a=Math.min(i,t.visible.to+e.options.viewportMargin);r.viewFrom<o&&o-r.viewFrom<20&&(o=Math.max(n.first,r.viewFrom)),r.viewTo>a&&r.viewTo-a<20&&(a=Math.min(i,r.viewTo)),Ae&&(o=He(e.doc,o),a=Ke(e.doc,a));var s=o!=r.viewFrom||a!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth;!function(e,t,r){var n=e.display;0==n.view.length||t>=n.viewTo||r<=n.viewFrom?(n.view=rr(e,t,r),n.viewFrom=t):(n.viewFrom>t?n.view=rr(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(an(e,t))),n.viewFrom=t,n.viewTo<r?n.view=n.view.concat(rr(e,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,an(e,r)))),n.viewTo=r}(e,o,a),r.viewOffset=We(se(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var l=$n(e);if(!s&&0==l&&!t.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var c=function(e){if(e.hasFocus())return null;var t=L();if(!t||!N(e.display.lineDiv,t))return null;var r={activeElt:t};if(window.getSelection){var n=window.getSelection();n.anchorNode&&n.extend&&N(e.display.lineDiv,n.anchorNode)&&(r.anchorNode=n.anchorNode,r.anchorOffset=n.anchorOffset,r.focusNode=n.focusNode,r.focusOffset=n.focusOffset)}return r}(e);return l>4&&(r.lineDiv.style.display="none"),function(e,t,r){var n=e.display,i=e.options.lineNumbers,o=n.lineDiv,a=o.firstChild;function s(t){var r=t.nextSibling;return u&&m&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),r}for(var l=n.view,c=n.viewFrom,f=0;f<l.length;f++){var h=l[f];if(h.hidden);else if(h.node&&h.node.parentNode==o){for(;a!=h.node;)a=s(a);var p=i&&null!=t&&t<=c&&h.lineNumber;h.changes&&(j(h.changes,"gutter")>-1&&(p=!1),sr(e,h,c,r)),p&&(k(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(de(e.options,c)))),a=h.node.nextSibling}else{var d=dr(e,h,c,r);o.insertBefore(d,a)}c+=h.size}for(;a;)a=s(a)}(e,r.updateLineNumbers,t.dims),l>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,function(e){if(e&&e.activeElt&&e.activeElt!=L()&&(e.activeElt.focus(),e.anchorNode&&N(document.body,e.anchorNode)&&N(document.body,e.focusNode))){var t=window.getSelection(),r=document.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),t.removeAllRanges(),t.addRange(r),t.extend(e.focusNode,e.focusOffset)}}(c),k(r.cursorDiv),k(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,s&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,ei(e,400)),r.updateLineNumbers=null,!0}function ii(e,t){for(var r=t.viewport,n=!0;(n&&e.options.lineWrapping&&t.oldDisplayWidth!=Tr(e)||(r&&null!=r.top&&(r={top:Math.min(e.doc.height+Cr(e.display)-Ar(e),r.top)}),t.visible=bn(e.display,e.doc,r),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&ni(e,t);n=!1){vn(e);var i=Nn(e);sn(e),On(e,i),si(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function oi(e,t){var r=new ri(e,t);if(ni(e,r)){vn(e),ii(e,r);var n=Nn(e);sn(e),On(e,n),si(e,n),r.finish()}}function ai(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function si(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Sr(e)+"px"}function ui(e){var t=e.display.gutters,r=e.options.gutters;k(t);for(var n=0;n<r.length;++n){var i=r[n],o=t.appendChild(x("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=n?"":"none",ai(e)}function li(e){var t=j(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}ri.prototype.signal=function(e,t){ot(e,t)&&this.events.push(arguments)},ri.prototype.finish=function(){for(var e=0;e<this.events.length;e++)rt.apply(null,this.events[e])};var ci=0,fi=null;function hi(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==r&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:null==r&&(r=e.wheelDelta),{x:t,y:r}}function pi(e,t){var n=hi(t),i=n.x,o=n.y,a=e.display,s=a.scroller,l=s.scrollWidth>s.clientWidth,c=s.scrollHeight>s.clientHeight;if(i&&l||o&&c){if(o&&m&&u)e:for(var h=t.target,p=a.view;h!=s;h=h.parentNode)for(var d=0;d<p.length;d++)if(p[d].node==h){e.display.currentWheelTarget=h;break e}if(i&&!r&&!f&&null!=fi)return o&&c&&In(e,Math.max(0,s.scrollTop+o*fi)),Bn(e,Math.max(0,s.scrollLeft+i*fi)),(!o||o&&c)&&st(t),void(a.wheelStartX=null);if(o&&null!=fi){var g=o*fi,y=e.doc.scrollTop,v=y+a.wrapper.clientHeight;g<0?y=Math.max(0,y+g-50):v=Math.min(e.doc.height,v+g+50),oi(e,{top:y,bottom:v})}ci<20&&(null==a.wheelStartX?(a.wheelStartX=s.scrollLeft,a.wheelStartY=s.scrollTop,a.wheelDX=i,a.wheelDY=o,setTimeout(function(){if(null!=a.wheelStartX){var e=s.scrollLeft-a.wheelStartX,t=s.scrollTop-a.wheelStartY,r=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,r&&(fi=(fi*ci+r)/(ci+1),++ci)}},200)):(a.wheelDX+=i,a.wheelDY+=o))}}a?fi=-.53:r?fi=15:c?fi=-.7:h&&(fi=-1/3);var di=function(e,t){this.ranges=e,this.primIndex=t};di.prototype.primary=function(){return this.ranges[this.primIndex]},di.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t],n=e.ranges[t];if(!ve(r.anchor,n.anchor)||!ve(r.head,n.head))return!1}return!0},di.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new gi(me(this.ranges[t].anchor),me(this.ranges[t].head));return new di(e,this.primIndex)},di.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},di.prototype.contains=function(e,t){t||(t=e);for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if(ye(t,n.from())>=0&&ye(e,n.to())<=0)return r}return-1};var gi=function(e,t){this.anchor=e,this.head=t};function yi(e,t){var r=e[t];e.sort(function(e,t){return ye(e.from(),t.from())}),t=j(e,r);for(var n=1;n<e.length;n++){var i=e[n],o=e[n-1];if(ye(o.to(),i.from())>=0){var a=we(o.from(),i.from()),s=be(o.to(),i.to()),u=o.empty()?i.from()==i.head:o.from()==o.head;n<=t&&--t,e.splice(--n,2,new gi(u?s:a,u?a:s))}}return new di(e,t)}function vi(e,t){return new di([new gi(e,t||e)],0)}function mi(e){return e.text?ge(e.from.line+e.text.length-1,X(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function bi(e,t){if(ye(e,t.from)<0)return e;if(ye(e,t.to)<=0)return mi(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=mi(t).ch-t.to.ch),ge(r,n)}function wi(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var i=e.sel.ranges[n];r.push(new gi(bi(i.anchor,t),bi(i.head,t)))}return yi(r,e.sel.primIndex)}function Ci(e,t,r){return e.line==t.line?ge(r.line,e.ch-t.ch+r.ch):ge(r.line+(e.line-t.line),e.ch)}function Ei(e){e.doc.mode=_t(e.options,e.doc.modeOption),Si(e)}function Si(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,ei(e,100),e.state.modeGen++,e.curOp&&Xn(e)}function Ti(e,t){return 0==t.from.ch&&0==t.to.ch&&""==X(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Ai(e,t,r,n){function i(e){return r?r[e]:null}function o(e,r,i){!function(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Ne(e),Le(e,r);var i=n?n(e):1;i!=e.height&&ce(e,i)}(e,r,i,n),or(e,"change",e,t)}function a(e,t){for(var r=[],o=e;o<t;++o)r.push(new zt(l[o],i(o),n));return r}var s=t.from,u=t.to,l=t.text,c=se(e,s.line),f=se(e,u.line),h=X(l),p=i(l.length-1),d=u.line-s.line;if(t.full)e.insert(0,a(0,l.length)),e.remove(l.length,e.size-l.length);else if(Ti(e,t)){var g=a(0,l.length-1);o(f,f.text,p),d&&e.remove(s.line,d),g.length&&e.insert(s.line,g)}else if(c==f)if(1==l.length)o(c,c.text.slice(0,s.ch)+h+c.text.slice(u.ch),p);else{var y=a(1,l.length-1);y.push(new zt(h+c.text.slice(u.ch),p,n)),o(c,c.text.slice(0,s.ch)+l[0],i(0)),e.insert(s.line+1,y)}else if(1==l.length)o(c,c.text.slice(0,s.ch)+l[0]+f.text.slice(u.ch),i(0)),e.remove(s.line+1,d);else{o(c,c.text.slice(0,s.ch)+l[0],i(0)),o(f,h+f.text.slice(u.ch),p);var v=a(1,l.length-1);d>1&&e.remove(s.line+1,d-1),e.insert(s.line+1,v)}or(e,"change",e,t)}function _i(e,t,r){!function e(n,i,o){if(n.linked)for(var a=0;a<n.linked.length;++a){var s=n.linked[a];if(s.doc!=i){var u=o&&s.sharedHist;r&&!u||(t(s.doc,u),e(s.doc,n,u))}}}(e,null,!0)}function ki(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,nn(e),Ei(e),Ii(e),e.options.lineWrapping||Ge(e),e.options.mode=t.modeOption,Xn(e)}function Ii(e){("rtl"==e.doc.direction?R:_)(e.display.lineDiv,"CodeMirror-rtl")}function xi(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Bi(e,t){var r={from:me(t.from),to:mi(t),text:ue(e,t.from,t.to)};return Oi(e,r,t.from.line,t.to.line+1),_i(e,function(e){return Oi(e,r,t.from.line,t.to.line+1)},!0),r}function Ni(e){for(;e.length;){if(!X(e).ranges)break;e.pop()}}function Li(e,t,r,n){var i=e.history;i.undone.length=0;var o,a,s=+new Date;if((i.lastOp==n||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>s-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=function(e,t){return i.lastOp==n?(Ni(e.done),X(e.done)):e.done.length&&!X(e.done).ranges?X(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),X(e.done)):void 0}(i)))a=X(o.changes),0==ye(t.from,t.to)&&0==ye(t.from,a.to)?a.to=mi(t):o.changes.push(Bi(e,t));else{var u=X(i.done);for(u&&u.ranges||Ri(e.sel,i.done),o={changes:[Bi(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=t.origin,a||rt(e,"historyAdded")}function Ri(e,t){var r=X(t);r&&r.ranges&&r.equals(e)||t.push(e)}function Oi(e,t,r,n){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),function(r){r.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=r.markedSpans),++o})}function Pi(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function Di(e,t){var r=function(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=[],i=0;i<t.text.length;++i)n.push(Pi(r[i]));return n}(e,t),n=xe(e,t);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var o=r[i],a=n[i];if(o&&a)e:for(var s=0;s<a.length;++s){for(var u=a[s],l=0;l<o.length;++l)if(o[l].marker==u.marker)continue e;o.push(u)}else a&&(r[i]=a)}return r}function Fi(e,t,r){for(var n=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)n.push(r?di.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];n.push({changes:s});for(var u=0;u<a.length;++u){var l=a[u],c=void 0;if(s.push({from:l.from,to:l.to,text:l.text}),t)for(var f in l)(c=f.match(/^spans_(\d+)$/))&&j(t,Number(c[1]))>-1&&(X(s)[f]=l[f],delete l[f])}}}return n}function Ui(e,t,r,n){if(n){var i=e.anchor;if(r){var o=ye(t,i)<0;o!=ye(r,i)<0?(i=t,t=r):o!=ye(t,r)<0&&(t=r)}return new gi(i,t)}return new gi(r||t,t)}function Mi(e,t,r,n,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),zi(e,new di([Ui(e.sel.primary(),t,r,i)],0),n)}function ji(e,t,r){for(var n=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)n[o]=Ui(e.sel.ranges[o],t[o],null,i);zi(e,yi(n,e.sel.primIndex),r)}function Hi(e,t,r,n){var i=e.sel.ranges.slice(0);i[t]=r,zi(e,yi(i,e.sel.primIndex),n)}function Ki(e,t,r,n){zi(e,vi(t,r),n)}function Vi(e,t,r){var n=e.history.done,i=X(n);i&&i.ranges?(n[n.length-1]=t,Wi(e,t,r)):zi(e,t,r)}function zi(e,t,r){Wi(e,t,r),function(e,t,r,n){var i=e.history,o=n&&n.origin;r==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||function(e,t,r,n){var i=t.charAt(0);return"*"==i||"+"==i&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,o,X(i.done),t))?i.done[i.done.length-1]=t:Ri(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=r,n&&!1!==n.clearRedo&&Ni(i.undone)}(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function Wi(e,t,r){(ot(e,"beforeSelectionChange")||e.cm&&ot(e.cm,"beforeSelectionChange"))&&(t=function(e,t,r){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var r=0;r<t.length;r++)this.ranges[r]=new gi(Ee(e,t[r].anchor),Ee(e,t[r].head))},origin:r&&r.origin};return rt(e,"beforeSelectionChange",e,n),e.cm&&rt(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?yi(n.ranges,n.ranges.length-1):t}(e,t,r)),qi(e,Yi(e,t,r&&r.bias||(ye(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),r&&!1===r.scroll||!e.cm||Tn(e.cm)}function qi(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,it(e.cm)),or(e,"cursorActivity",e))}function Gi(e){qi(e,Yi(e,e.sel,null,!1))}function Yi(e,t,r,n){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],u=Zi(e,a.anchor,s&&s.anchor,r,n),l=Zi(e,a.head,s&&s.head,r,n);(i||u!=a.anchor||l!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new gi(u,l))}return i?yi(i,t.primIndex):t}function Xi(e,t,r,n,i){var o=se(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],u=s.marker;if((null==s.from||(u.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(u.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(i&&(rt(u,"beforeCursorEnter"),u.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!u.atomic)continue;if(r){var l=u.find(n<0?1:-1),c=void 0;if((n<0?u.inclusiveRight:u.inclusiveLeft)&&(l=Qi(e,l,-n,l&&l.line==t.line?o:null)),l&&l.line==t.line&&(c=ye(l,r))&&(n<0?c<0:c>0))return Xi(e,l,t,n,i)}var f=u.find(n<0?-1:1);return(n<0?u.inclusiveLeft:u.inclusiveRight)&&(f=Qi(e,f,n,f.line==t.line?o:null)),f?Xi(e,f,t,n,i):null}}return t}function Zi(e,t,r,n,i){var o=n||1;return Xi(e,t,r,o,i)||!i&&Xi(e,t,r,o,!0)||Xi(e,t,r,-o,i)||!i&&Xi(e,t,r,-o,!0)||(e.cantEdit=!0,ge(e.first,0))}function Qi(e,t,r,n){return r<0&&0==t.ch?t.line>e.first?Ee(e,ge(t.line-1)):null:r>0&&t.ch==(n||se(e,t.line)).text.length?t.line<e.first+e.size-1?ge(t.line+1,0):null:new ge(t.line,t.ch+r)}function Ji(e){e.setSelection(ge(e.firstLine(),0),ge(e.lastLine()),V)}function $i(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return r&&(n.update=function(t,r,i,o){t&&(n.from=Ee(e,t)),r&&(n.to=Ee(e,r)),i&&(n.text=i),void 0!==o&&(n.origin=o)}),rt(e,"beforeChange",e,n),e.cm&&rt(e.cm,"beforeChange",e.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function eo(e,t,r){if(e.cm){if(!e.cm.curOp)return qn(e.cm,eo)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(ot(e,"beforeChange")||e.cm&&ot(e.cm,"beforeChange"))||(t=$i(e,t,!0))){var n=Te&&!r&&function(e,t,r){var n=null;if(e.iter(t.line,r.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var r=e.markedSpans[t].marker;!r.readOnly||n&&-1!=j(n,r)||(n||(n=[])).push(r)}}),!n)return null;for(var i=[{from:t,to:r}],o=0;o<n.length;++o)for(var a=n[o],s=a.find(0),u=0;u<i.length;++u){var l=i[u];if(!(ye(l.to,s.from)<0||ye(l.from,s.to)>0)){var c=[u,1],f=ye(l.from,s.from),h=ye(l.to,s.to);(f<0||!a.inclusiveLeft&&!f)&&c.push({from:l.from,to:s.from}),(h>0||!a.inclusiveRight&&!h)&&c.push({from:s.to,to:l.to}),i.splice.apply(i,c),u+=c.length-3}}return i}(e,t.from,t.to);if(n)for(var i=n.length-1;i>=0;--i)to(e,{from:n[i].from,to:n[i].to,text:i?[""]:t.text,origin:t.origin});else to(e,t)}}function to(e,t){if(1!=t.text.length||""!=t.text[0]||0!=ye(t.from,t.to)){var r=wi(e,t);Li(e,t,r,e.cm?e.cm.curOp.id:NaN),io(e,t,r,xe(e,t));var n=[];_i(e,function(e,r){r||-1!=j(n,e.history)||(uo(e.history,t),n.push(e.history)),io(e,t,null,xe(e,t))})}}function ro(e,t,r){var n=e.cm&&e.cm.state.suppressEdits;if(!n||r){for(var i,o=e.history,a=e.sel,s="undo"==t?o.done:o.undone,u="undo"==t?o.undone:o.done,l=0;l<s.length&&(i=s[l],r?!i.ranges||i.equals(e.sel):i.ranges);l++);if(l!=s.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(i=s.pop()).ranges){if(n)return void s.push(i);break}if(Ri(i,u),r&&!i.equals(e.sel))return void zi(e,i,{clearRedo:!1});a=i}var c=[];Ri(a,u),u.push({changes:c,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var f=ot(e,"beforeChange")||e.cm&&ot(e.cm,"beforeChange"),h=function(r){var n=i.changes[r];if(n.origin=t,f&&!$i(e,n,!1))return s.length=0,{};c.push(Bi(e,n));var o=r?wi(e,n):X(s);io(e,n,o,Di(e,n)),!r&&e.cm&&e.cm.scrollIntoView({from:n.from,to:mi(n)});var a=[];_i(e,function(e,t){t||-1!=j(a,e.history)||(uo(e.history,n),a.push(e.history)),io(e,n,null,Di(e,n))})},p=i.changes.length-1;p>=0;--p){var d=h(p);if(d)return d.v}}}}function no(e,t){if(0!=t&&(e.first+=t,e.sel=new di(Z(e.sel.ranges,function(e){return new gi(ge(e.anchor.line+t,e.anchor.ch),ge(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Xn(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)Zn(e.cm,n,"gutter")}}function io(e,t,r,n){if(e.cm&&!e.cm.curOp)return qn(e.cm,io)(e,t,r,n);if(t.to.line<e.first)no(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);no(e,i),t={from:ge(e.first,0),to:ge(t.to.line+i,t.to.ch),text:[X(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:ge(o,se(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=ue(e,t.from,t.to),r||(r=wi(e,t)),e.cm?function(e,t,r){var n=e.doc,i=e.display,o=t.from,a=t.to,s=!1,u=o.line;e.options.lineWrapping||(u=fe(je(se(n,o.line))),n.iter(u,a.line+1,function(e){if(e==i.maxLine)return s=!0,!0})),n.sel.contains(t.from,t.to)>-1&&it(e),Ai(n,t,r,rn(e)),e.options.lineWrapping||(n.iter(u,o.line+t.text.length,function(e){var t=qe(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0)),function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var r=e.first,n=t-1;n>r;n--){var i=se(e,n).stateAfter;if(i&&(!(i instanceof Lt)||n+i.lookAhead<t)){r=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,r)}}(n,o.line),ei(e,400);var l=t.text.length-(a.line-o.line)-1;t.full?Xn(e):o.line!=a.line||1!=t.text.length||Ti(e.doc,t)?Xn(e,o.line,a.line+1,l):Zn(e,o.line,"text");var c=ot(e,"changes"),f=ot(e,"change");if(f||c){var h={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};f&&or(e,"change",e,h),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}(e.cm,t,n):Ai(e,t,n),Wi(e,r,V)}}function oo(e,t,r,n,i){var o;n||(n=r),ye(n,r)<0&&(r=(o=[n,r])[0],n=o[1]),"string"==typeof t&&(t=e.splitLines(t)),eo(e,{from:r,to:n,text:t,origin:i})}function ao(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function so(e,t,r,n){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)ao(o.ranges[s].anchor,t,r,n),ao(o.ranges[s].head,t,r,n)}else{for(var u=0;u<o.changes.length;++u){var l=o.changes[u];if(r<l.from.line)l.from=ge(l.from.line+n,l.from.ch),l.to=ge(l.to.line+n,l.to.ch);else if(t<=l.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function uo(e,t){var r=t.from.line,n=t.to.line,i=t.text.length-(n-r)-1;so(e.done,r,n,i),so(e.undone,r,n,i)}function lo(e,t,r,n){var i=t,o=t;return"number"==typeof t?o=se(e,Ce(e,t)):i=fe(t),null==i?null:(n(o,i)&&e.cm&&Zn(e.cm,i,r),o)}function co(e){this.lines=e,this.parent=null;for(var t=0,r=0;r<e.length;++r)e[r].parent=this,t+=e[r].height;this.height=t}function fo(e){this.children=e;for(var t=0,r=0,n=0;n<e.length;++n){var i=e[n];t+=i.chunkSize(),r+=i.height,i.parent=this}this.size=t,this.height=r,this.parent=null}gi.prototype.from=function(){return we(this.anchor,this.head)},gi.prototype.to=function(){return be(this.anchor,this.head)},gi.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},co.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=e,n=e+t;r<n;++r){var i=this.lines[r];this.height-=i.height,Wt(i),or(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,r){for(var n=e+t;e<n;++e)if(r(this.lines[e]))return!0}},fo.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r=0;r<this.children.length;++r){var n=this.children[r],i=n.chunkSize();if(e<i){var o=Math.min(t,i-e),a=n.height;if(n.removeInner(e,o),this.height-=a-n.height,i==o&&(this.children.splice(r--,1),n.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof co))){var s=[];this.collapse(s),this.children=[new co(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,r),i.lines&&i.lines.length>50){for(var a=i.lines.length%25+25,s=a;s<i.lines.length;){var u=new co(i.lines.slice(s,s+=25));i.height-=u.height,this.children.splice(++n,0,u),u.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new fo(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var r=j(e.parent.children,e);e.parent.children.splice(r+1,0,t)}else{var n=new fo(e.children);n.parent=e,e.children=[n,t],e=n}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<o){var a=Math.min(t,o-e);if(i.iterN(e,a,r))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var ho=function(e,t,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=e,this.node=t};function po(e,t,r){We(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Sn(e,r)}ho.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,r=this.line,n=fe(r);if(null!=n&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(r.widgets=null);var o=mr(this);ce(r,Math.max(0,r.height-o)),e&&(Wn(e,function(){po(e,r,-o),Zn(e,n,"widget")}),or(e,"lineWidgetCleared",e,this,n))}},ho.prototype.changed=function(){var e=this,t=this.height,r=this.doc.cm,n=this.line;this.height=null;var i=mr(this)-t;i&&(ce(n,n.height+i),r&&Wn(r,function(){r.curOp.forceUpdate=!0,po(r,n,i),or(r,"lineWidgetChanged",r,e,fe(n))}))},at(ho);var go=0,yo=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++go};function vo(e,t,r,n,i){if(n&&n.shared)return function(e,t,r,n,i){(n=F(n)).shared=!1;var o=[vo(e,t,r,n,i)],a=o[0],s=n.widgetNode;return _i(e,function(e){s&&(n.widgetNode=s.cloneNode(!0)),o.push(vo(e,Ee(e,t),Ee(e,r),n,i));for(var u=0;u<e.linked.length;++u)if(e.linked[u].isParent)return;a=X(o)}),new mo(o,a)}(e,t,r,n,i);if(e.cm&&!e.cm.curOp)return qn(e.cm,vo)(e,t,r,n,i);var o=new yo(e,i),a=ye(t,r);if(n&&F(n,o,!1),a>0||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=B("span",[o.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Me(e,t.line,t,r,o)||t.line!=r.line&&Me(e,r.line,t,r,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ae=!0}o.addToHistory&&Li(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var s,u=t.line,l=e.cm;if(e.iter(u,r.line+1,function(e){l&&o.collapsed&&!l.options.lineWrapping&&je(e)==l.display.maxLine&&(s=!0),o.collapsed&&u!=t.line&&ce(e,0),function(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}(e,new _e(o,u==t.line?t.ch:null,u==r.line?r.ch:null)),++u}),o.collapsed&&e.iter(t.line,r.line+1,function(t){Ve(e,t)&&ce(t,0)}),o.clearOnEnter&&$e(o,"beforeCursorEnter",function(){return o.clear()}),o.readOnly&&(Te=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++go,o.atomic=!0),l){if(s&&(l.curOp.updateMaxLine=!0),o.collapsed)Xn(l,t.line,r.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var c=t.line;c<=r.line;c++)Zn(l,c,"text");o.atomic&&Gi(l.doc),or(l,"markerAdded",l,o)}return o}yo.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Mn(e),ot(this,"clear")){var r=this.find();r&&or(this,"clear",r.from,r.to)}for(var n=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=ke(a.markedSpans,this);e&&!this.collapsed?Zn(e,fe(a),"text"):e&&(null!=s.to&&(i=fe(a)),null!=s.from&&(n=fe(a))),a.markedSpans=Ie(a.markedSpans,s),null==s.from&&this.collapsed&&!Ve(this.doc,a)&&e&&ce(a,Jr(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var u=0;u<this.lines.length;++u){var l=je(this.lines[u]),c=qe(l);c>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=n&&e&&this.collapsed&&Xn(e,n,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Gi(e.doc)),e&&or(e,"markerCleared",e,this,n,i),t&&jn(e),this.parent&&this.parent.clear()}},yo.prototype.find=function(e,t){var r,n;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],a=ke(o.markedSpans,this);if(null!=a.from&&(r=ge(t?o:fe(o),a.from),-1==e))return r;if(null!=a.to&&(n=ge(t?o:fe(o),a.to),1==e))return n}return r&&{from:r,to:n}},yo.prototype.changed=function(){var e=this,t=this.find(-1,!0),r=this,n=this.doc.cm;t&&n&&Wn(n,function(){var i=t.line,o=fe(t.line),a=Ir(n,o);if(a&&(Pr(a),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!Ve(r.doc,i)&&null!=r.height){var s=r.height;r.height=null;var u=mr(r)-s;u&&ce(i,i.height+u)}or(n,"markerChanged",n,e)})},yo.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=j(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},yo.prototype.detachLine=function(e){if(this.lines.splice(j(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},at(yo);var mo=function(e,t){this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=this};function bo(e){return e.findMarks(ge(e.first,0),e.clipPos(ge(e.lastLine())),function(e){return e.parent})}function wo(e){for(var t=function(t){var r=e[t],n=[r.primary.doc];_i(r.primary.doc,function(e){return n.push(e)});for(var i=0;i<r.markers.length;i++){var o=r.markers[i];-1==j(n,o.doc)&&(o.parent=null,r.markers.splice(i--,1))}},r=0;r<e.length;r++)t(r)}mo.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();or(this,"clear")}},mo.prototype.find=function(e,t){return this.primary.find(e,t)},at(mo);var Co=0,Eo=function(e,t,r,n,i){if(!(this instanceof Eo))return new Eo(e,t,r,n,i);null==r&&(r=0),fo.call(this,[new co([new zt("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var o=ge(r,0);this.sel=vi(o),this.history=new xi(null),this.id=++Co,this.modeOption=t,this.lineSep=n,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Ai(this,{from:o,to:o,text:e}),zi(this,vi(o),V)};Eo.prototype=J(fo.prototype,{constructor:Eo,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=le(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Yn(function(e){var t=ge(this.first,0),r=this.first+this.size-1;eo(this,{from:t,to:ge(r,se(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&An(this.cm,0,0),zi(this,vi(t),V)}),replaceRange:function(e,t,r,n){oo(this,e,t=Ee(this,t),r=r?Ee(this,r):t,n)},getRange:function(e,t,r){var n=ue(this,Ee(this,e),Ee(this,t));return!1===r?n:n.join(r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(pe(this,e))return se(this,e)},getLineNumber:function(e){return fe(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=se(this,e)),je(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return Ee(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Yn(function(e,t,r){Ki(this,Ee(this,"number"==typeof e?ge(e,t||0):e),null,r)}),setSelection:Yn(function(e,t,r){Ki(this,Ee(this,e),Ee(this,t||e),r)}),extendSelection:Yn(function(e,t,r){Mi(this,Ee(this,e),t&&Ee(this,t),r)}),extendSelections:Yn(function(e,t){ji(this,Se(this,e),t)}),extendSelectionsBy:Yn(function(e,t){ji(this,Se(this,Z(this.sel.ranges,e)),t)}),setSelections:Yn(function(e,t,r){if(e.length){for(var n=[],i=0;i<e.length;i++)n[i]=new gi(Ee(this,e[i].anchor),Ee(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),zi(this,yi(n,t),r)}}),addSelection:Yn(function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new gi(Ee(this,e),Ee(this,t||e))),zi(this,yi(n,n.length-1),r)}),getSelection:function(e){for(var t,r=this.sel.ranges,n=0;n<r.length;n++){var i=ue(this,r[n].from(),r[n].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],r=this.sel.ranges,n=0;n<r.length;n++){var i=ue(this,r[n].from(),r[n].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[n]=i}return t},replaceSelection:function(e,t,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:Yn(function(e,t,r){for(var n=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];n[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:r}}for(var s=t&&"end"!=t&&function(e,t,r){for(var n=[],i=ge(e.first,0),o=i,a=0;a<t.length;a++){var s=t[a],u=Ci(s.from,i,o),l=Ci(mi(s),i,o);if(i=s.to,o=l,"around"==r){var c=e.sel.ranges[a],f=ye(c.head,c.anchor)<0;n[a]=new gi(f?l:u,f?u:l)}else n[a]=new gi(u,u)}return new di(n,e.sel.primIndex)}(this,n,t),u=n.length-1;u>=0;u--)eo(this,n[u]);s?Vi(this,s):this.cm&&Tn(this.cm)}),undo:Yn(function(){ro(this,"undo")}),redo:Yn(function(){ro(this,"redo")}),undoSelection:Yn(function(){ro(this,"undo",!0)}),redoSelection:Yn(function(){ro(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){this.history=new xi(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Fi(this.history.done),undone:Fi(this.history.undone)}},setHistory:function(e){var t=this.history=new xi(this.history.maxGeneration);t.done=Fi(e.done.slice(0),null,!0),t.undone=Fi(e.undone.slice(0),null,!0)},setGutterMarker:Yn(function(e,t,r){return lo(this,e,"gutter",function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=r,!r&&re(n)&&(e.gutterMarkers=null),!0})}),clearGutter:Yn(function(e){var t=this;this.iter(function(r){r.gutterMarkers&&r.gutterMarkers[e]&&lo(t,r,"gutter",function(){return r.gutterMarkers[e]=null,re(r.gutterMarkers)&&(r.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!pe(this,e))return null;if(t=e,!(e=se(this,e)))return null}else if(null==(t=fe(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Yn(function(e,t,r){return lo(this,e,"gutter"==t?"gutter":"class",function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[n]){if(T(r).test(e[n]))return!1;e[n]+=" "+r}else e[n]=r;return!0})}),removeLineClass:Yn(function(e,t,r){return lo(this,e,"gutter"==t?"gutter":"class",function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[n];if(!i)return!1;if(null==r)e[n]=null;else{var o=i.match(T(r));if(!o)return!1;var a=o.index+o[0].length;e[n]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0})}),addLineWidget:Yn(function(e,t,r){return function(e,t,r,n){var i=new ho(e,r,n),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),lo(e,t,"widget",function(t){var r=t.widgets||(t.widgets=[]);if(null==i.insertAt?r.push(i):r.splice(Math.min(r.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!Ve(e,t)){var n=We(t)<e.scrollTop;ce(t,t.height+mr(i)),n&&Sn(o,i.height),o.curOp.forceUpdate=!0}return!0}),o&&or(o,"lineWidgetAdded",o,i,"number"==typeof t?t:fe(t)),i}(this,e,t,r)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return vo(this,Ee(this,e),Ee(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return vo(this,e=Ee(this,e),e,r,"bookmark")},findMarksAt:function(e){var t=[],r=se(this,(e=Ee(this,e)).line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,r){e=Ee(this,e),t=Ee(this,t);var n=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var u=a[s];null!=u.to&&i==e.line&&e.ch>=u.to||null==u.from&&i!=e.line||null!=u.from&&i==t.line&&u.from>=t.ch||r&&!r(u.marker)||n.push(u.marker.parent||u.marker)}++i}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)null!=r[n].from&&e.push(r[n].marker)}),e},posFromIndex:function(e){var t,r=this.first,n=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+n;if(o>e)return t=e,!0;e-=o,++r}),Ee(this,ge(r,t))},indexFromPos:function(e){var t=(e=Ee(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+r}),t},copy:function(e){var t=new Eo(le(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<r&&(r=e.to);var n=new Eo(le(this,t,r),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(ye(o,a)){var s=vo(e,o,a,n.primary,n.primary.type);n.markers.push(s),s.parent=n}}}(n,bo(this)),n},unlinkDoc:function(e){if(e instanceof va&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),wo(bo(this));break}}if(e.history==this.history){var r=[e.id];_i(e,function(e){return r.push(e.id)},!0),e.history=new xi(null),e.history.done=Fi(this.history.done,r),e.history.undone=Fi(this.history.undone,r)}},iterLinkedDocs:function(e){_i(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):bt(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Yn(function(e){var t;"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&Wn(t=this.cm,function(){Ii(t),Xn(t)}))})}),Eo.prototype.eachLine=Eo.prototype.iter;var So=0;function To(e){var t=this;if(Ao(t),!nt(t,e)&&!br(t.display,e)){st(e),a&&(So=+new Date);var r=on(t,e,!0),n=e.dataTransfer.files;if(r&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,o=Array(i),s=0,u=function(e,n){if(!t.options.allowDropFileTypes||-1!=j(t.options.allowDropFileTypes,e.type)){var a=new FileReader;a.onload=qn(t,function(){var e=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[n]=e,++s==i){var u={from:r=Ee(t.doc,r),to:r,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};eo(t.doc,u),Vi(t.doc,vi(r,mi(u)))}}),a.readAsText(e)}},l=0;l<i;++l)u(n[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var c=e.dataTransfer.getData("Text");if(c){var f;if(t.state.draggingText&&!t.state.draggingText.copy&&(f=t.listSelections()),Wi(t.doc,vi(r,r)),f)for(var h=0;h<f.length;++h)oo(t.doc,"",f[h].anchor,f[h].head,"drag");t.replaceSelection(c,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Ao(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function _o(e){if(document.getElementsByClassName)for(var t=document.getElementsByClassName("CodeMirror"),r=0;r<t.length;r++){var n=t[r].CodeMirror;n&&e(n)}}var ko=!1;function Io(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}for(var xo={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Bo=0;Bo<10;Bo++)xo[Bo+48]=xo[Bo+96]=String(Bo);for(var No=65;No<=90;No++)xo[No]=String.fromCharCode(No);for(var Lo=1;Lo<=12;Lo++)xo[Lo+111]=xo[Lo+63235]="F"+Lo;var Ro={};function Oo(e){var t,r,n,i,o=e.split(/-(?!$)/);e=o[o.length-1];for(var a=0;a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);n=!0}}return t&&(e="Alt-"+e),r&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function Po(e,t,r,n){var i=(t=Mo(t)).call?t.call(e,n):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&r(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Po(e,t.fallthrough,r,n);for(var o=0;o<t.fallthrough.length;o++){var a=Po(e,t.fallthrough[o],r,n);if(a)return a}}}function Do(e){var t="string"==typeof e?e:xo[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Fo(e,t,r){var n=e;return t.altKey&&"Alt"!=n&&(e="Alt-"+e),(E?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(e="Ctrl-"+e),(E?t.ctrlKey:t.metaKey)&&"Cmd"!=n&&(e="Cmd-"+e),!r&&t.shiftKey&&"Shift"!=n&&(e="Shift-"+e),e}function Uo(e,t){if(f&&34==e.keyCode&&e.char)return!1;var r=xo[e.keyCode];return null!=r&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(r=e.code),Fo(r,e,t))}function Mo(e){return"string"==typeof e?Ro[e]:e}function jo(e,t){for(var r=e.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var o=t(r[i]);n.length&&ye(o.from,X(n).to)<=0;){var a=n.pop();if(ye(a.from,o.from)<0){o.from=a.from;break}}n.push(o)}Wn(e,function(){for(var t=n.length-1;t>=0;t--)oo(e.doc,"",n[t].from,n[t].to,"+delete");Tn(e)})}function Ho(e,t,r){var n=oe(e.text,t+r,r);return n<0||n>e.text.length?null:n}function Ko(e,t,r){var n=Ho(e,t.ch,r);return null==n?null:new ge(t.line,n,r<0?"after":"before")}function Vo(e,t,r,n,i){if(e){var o=Qe(r,t.doc.direction);if(o){var a,s=i<0?X(o):o[0],u=i<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var l=xr(t,r);a=i<0?r.text.length-1:0;var c=Br(t,l,a).top;a=ae(function(e){return Br(t,l,e).top==c},i<0==(1==s.level)?s.from:s.to-1,a),"before"==u&&(a=Ho(r,a,1))}else a=i<0?s.to:s.from;return new ge(n,a,u)}}return new ge(n,i<0?r.text.length:0,i<0?"before":"after")}Ro.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ro.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ro.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ro.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ro.default=m?Ro.macDefault:Ro.pcDefault;var zo={selectAll:Ji,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),V)},killLine:function(e){return jo(e,function(t){if(t.empty()){var r=se(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:ge(t.head.line+1,0)}:{from:t.head,to:ge(t.head.line,r)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return jo(e,function(t){return{from:ge(t.from().line,0),to:Ee(e.doc,ge(t.to().line+1,0))}})},delLineLeft:function(e){return jo(e,function(e){return{from:ge(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return jo(e,function(t){var r=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:r},"div"),to:t.from()}})},delWrappedLineRight:function(e){return jo(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(ge(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(ge(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return Wo(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return qo(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return function(e,t){var r=se(e.doc,t),n=function(e){for(var t;t=Ue(e);)e=t.find(1,!0).line;return e}(r);return n!=r&&(t=fe(n)),Vo(!0,e,r,t,-1)}(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")},W)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")},W)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?qo(e,t.head):n},W)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,i=0;i<r.length;i++){var o=r[i].from(),a=U(e.getLine(o.line),o.ch,n);t.push(Y(n-a%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Wn(e,function(){for(var t=e.listSelections(),r=[],n=0;n<t.length;n++)if(t[n].empty()){var i=t[n].head,o=se(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new ge(i.line,i.ch-1)),i.ch>0)i=new ge(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),ge(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=se(e.doc,i.line-1).text;a&&(i=new ge(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),ge(i.line-1,a.length-1),i,"+transpose"))}r.push(new gi(i,i))}e.setSelections(r)})},newlineAndIndent:function(e){return Wn(e,function(){for(var t=e.listSelections(),r=t.length-1;r>=0;r--)e.replaceRange(e.doc.lineSeparator(),t[r].anchor,t[r].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);Tn(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Wo(e,t){var r=se(e.doc,t),n=je(r);return n!=r&&(t=fe(n)),Vo(!0,e,n,t,1)}function qo(e,t){var r=Wo(e,t.line),n=se(e.doc,r.line),i=Qe(n,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(0,n.text.search(/\S/)),a=t.line==r.line&&t.ch<=o&&t.ch;return ge(r.line,a?0:o,r.sticky)}return r}function Go(e,t,r){if("string"==typeof t&&!(t=zo[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),i=t(e)!=K}finally{e.display.shift=n,e.state.suppressEdits=!1}return i}var Yo=new M;function Xo(e,t,r,n){var i=e.state.keySeq;if(i){if(Do(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:Yo.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),Zo(e,i+" "+t,r,n))return!0}return Zo(e,t,r,n)}function Zo(e,t,r,n){var i=function(e,t,r){for(var n=0;n<e.state.keyMaps.length;n++){var i=Po(t,e.state.keyMaps[n],r,e);if(i)return i}return e.options.extraKeys&&Po(t,e.options.extraKeys,r,e)||Po(t,e.options.keyMap,r,e)}(e,t,n);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&or(e,"keyHandled",e,t,r),"handled"!=i&&"multi"!=i||(st(r),hn(e)),!!i}function Qo(e,t){var r=Uo(t,!0);return!!r&&(t.shiftKey&&!e.state.keySeq?Xo(e,"Shift-"+r,t,function(t){return Go(e,t,!0)})||Xo(e,r,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return Go(e,t)}):Xo(e,r,t,function(t){return Go(e,t)}))}var Jo=null;function $o(e){var t=this;if(t.curOp.focus=L(),!nt(t,e)){a&&s<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var n=Qo(t,e);f&&(Jo=n?r:null,!n&&88==r&&!Ct&&(m?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(e){var t=e.display.lineDiv;function r(e){18!=e.keyCode&&e.altKey||(_(t,"CodeMirror-crosshair"),tt(document,"keyup",r),tt(document,"mouseover",r))}R(t,"CodeMirror-crosshair"),$e(document,"keyup",r),$e(document,"mouseover",r)}(t)}}function ea(e){16==e.keyCode&&(this.doc.sel.shift=!1),nt(this,e)}function ta(e){var t=this;if(!(br(t.display,e)||nt(t,e)||e.ctrlKey&&!e.altKey||m&&e.metaKey)){var r=e.keyCode,n=e.charCode;if(f&&r==Jo)return Jo=null,void st(e);if(!f||e.which&&!(e.which<10)||!Qo(t,e)){var i=String.fromCharCode(null==n?r:n);"\b"!=i&&(function(e,t,r){return Xo(e,"'"+i+"'",t,function(t){return Go(e,t,!0)})}(t,e)||t.display.input.onKeyPress(e))}}}var ra,na,ia=function(e,t,r){this.time=e,this.pos=t,this.button=r};function oa(e){var t=this,r=t.display;if(!(nt(t,e)||r.activeTouch&&r.input.supportsTouch()))if(r.input.ensurePolled(),r.shift=e.shiftKey,br(r,e))u||(r.scroller.draggable=!1,setTimeout(function(){return r.scroller.draggable=!0},100));else if(!ua(t,e)){var n=on(t,e),i=ht(e),o=n?function(e,t){var r=+new Date;return na&&na.compare(r,e,t)?(ra=na=null,"triple"):ra&&ra.compare(r,e,t)?(na=new ia(r,e,t),ra=null,"double"):(ra=new ia(r,e,t),na=null,"single")}(n,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),n&&function(e,t,r,n,i){var o="Click";return"double"==n?o="Double"+o:"triple"==n&&(o="Triple"+o),Xo(e,Fo(o=(1==t?"Left":2==t?"Middle":"Right")+o,i),i,function(t){if("string"==typeof t&&(t=zo[t]),!t)return!1;var n=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n=t(e,r)!=K}finally{e.state.suppressEdits=!1}return n})}(t,i,n,o,e)||(1==i?n?function(e,t,r,n){a?setTimeout(D(pn,e),0):e.curOp.focus=L();var i,o=function(e,t,r){var n=e.getOption("configureMouse"),i=n?n(e,t,r):{};if(null==i.unit){var o=b?r.shiftKey&&r.metaKey:r.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||r.shiftKey),null==i.addNew&&(i.addNew=m?r.metaKey:r.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(m?r.altKey:r.ctrlKey)),i}(e,r,n),l=e.doc.sel;e.options.dragDrop&&gt&&!e.isReadOnly()&&"single"==r&&(i=l.contains(t))>-1&&(ye((i=l.ranges[i]).from(),t)<0||t.xRel>0)&&(ye(i.to(),t)>0||t.xRel<0)?function(e,t,r,n){var i=e.display,o=!1,l=qn(e,function(t){u&&(i.scroller.draggable=!1),e.state.draggingText=!1,tt(document,"mouseup",l),tt(document,"mousemove",c),tt(i.scroller,"dragstart",f),tt(i.scroller,"drop",l),o||(st(t),n.addNew||Mi(e.doc,r,null,null,n.extend),u||a&&9==s?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())}),c=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},f=function(){return o=!0};u&&(i.scroller.draggable=!0),e.state.draggingText=l,l.copy=!n.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop(),$e(document,"mouseup",l),$e(document,"mousemove",c),$e(i.scroller,"dragstart",f),$e(i.scroller,"drop",l),dn(e),setTimeout(function(){return i.input.focus()},20)}(e,n,t,o):function(e,t,r,n){var i=e.display,o=e.doc;st(t);var a,s,u=o.sel,l=u.ranges;if(n.addNew&&!n.extend?(s=o.sel.contains(r),a=s>-1?l[s]:new gi(r,r)):(a=o.sel.primary(),s=o.sel.primIndex),"rectangle"==n.unit)n.addNew||(a=new gi(r,r)),r=on(e,t,!0,!0),s=-1;else{var c=aa(e,r,n.unit);a=n.extend?Ui(a,c.anchor,c.head,n.extend):c}n.addNew?-1==s?(s=l.length,zi(o,yi(l.concat([a]),s),{scroll:!1,origin:"*mouse"})):l.length>1&&l[s].empty()&&"char"==n.unit&&!n.extend?(zi(o,yi(l.slice(0,s).concat(l.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),u=o.sel):Hi(o,s,a,z):(s=0,zi(o,new di([a],0),z),u=o.sel);var f=r;function h(t){if(0!=ye(f,t))if(f=t,"rectangle"==n.unit){for(var i=[],l=e.options.tabSize,c=U(se(o,r.line).text,r.ch,l),h=U(se(o,t.line).text,t.ch,l),p=Math.min(c,h),d=Math.max(c,h),g=Math.min(r.line,t.line),y=Math.min(e.lastLine(),Math.max(r.line,t.line));g<=y;g++){var v=se(o,g).text,m=q(v,p,l);p==d?i.push(new gi(ge(g,m),ge(g,m))):v.length>m&&i.push(new gi(ge(g,m),ge(g,q(v,d,l))))}i.length||i.push(new gi(r,r)),zi(o,yi(u.ranges.slice(0,s).concat(i),s),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b,w=a,C=aa(e,t,n.unit),E=w.anchor;ye(C.anchor,E)>0?(b=C.head,E=we(w.from(),C.anchor)):(b=C.anchor,E=be(w.to(),C.head));var S=u.ranges.slice(0);S[s]=function(e,t){var r=t.anchor,n=t.head,i=se(e.doc,r.line);if(0==ye(r,n)&&r.sticky==n.sticky)return t;var o=Qe(i);if(!o)return t;var a=Xe(o,r.ch,r.sticky),s=o[a];if(s.from!=r.ch&&s.to!=r.ch)return t;var u,l=a+(s.from==r.ch==(1!=s.level)?0:1);if(0==l||l==o.length)return t;if(n.line!=r.line)u=(n.line-r.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=Xe(o,n.ch,n.sticky),f=c-a||(n.ch-r.ch)*(1==s.level?-1:1);u=c==l-1||c==l?f<0:f>0}var h=o[l+(u?-1:0)],p=u==(1==h.level),d=p?h.from:h.to,g=p?"after":"before";return r.ch==d&&r.sticky==g?t:new gi(new ge(r.line,d,g),n)}(e,new gi(Ee(o,E),b)),zi(o,yi(S,s),z)}}var p=i.wrapper.getBoundingClientRect(),d=0;function g(t){e.state.selectingText=!1,d=1/0,st(t),i.input.focus(),tt(document,"mousemove",y),tt(document,"mouseup",v),o.history.lastSelOrigin=null}var y=qn(e,function(t){ht(t)?function t(r){var a=++d,s=on(e,r,!0,"rectangle"==n.unit);if(s)if(0!=ye(s,f)){e.curOp.focus=L(),h(s);var u=bn(i,o);(s.line>=u.to||s.line<u.from)&&setTimeout(qn(e,function(){d==a&&t(r)}),150)}else{var l=r.clientY<p.top?-20:r.clientY>p.bottom?20:0;l&&setTimeout(qn(e,function(){d==a&&(i.scroller.scrollTop+=l,t(r))}),50)}}(t):g(t)}),v=qn(e,g);e.state.selectingText=v,$e(document,"mousemove",y),$e(document,"mouseup",v)}(e,n,t,o)}(t,n,o,e):ft(e)==r.scroller&&st(e):2==i?(n&&Mi(t.doc,n),setTimeout(function(){return r.input.focus()},20)):3==i&&(S?la(t,e):dn(t)))}}function aa(e,t,r){if("char"==r)return new gi(t,t);if("word"==r)return e.findWordAt(t);if("line"==r)return new gi(ge(t.line,0),Ee(e.doc,ge(t.line+1,0)));var n=r(e,t);return new gi(n.from,n.to)}function sa(e,t,r,n){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(t){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&st(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!ot(e,r))return lt(t);o-=s.top-a.viewOffset;for(var u=0;u<e.options.gutters.length;++u){var l=a.gutters.childNodes[u];if(l&&l.getBoundingClientRect().right>=i)return rt(e,r,e,he(e.doc,o),e.options.gutters[u],t),lt(t)}}function ua(e,t){return sa(e,t,"gutterClick",!0)}function la(e,t){br(e.display,t)||function(e,t){return!!ot(e,"gutterContextMenu")&&sa(e,t,"gutterContextMenu",!1)}(e,t)||nt(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function ca(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Fr(e)}ia.prototype.compare=function(e,t,r){return this.time+400>e&&0==ye(t,this.pos)&&r==this.button};var fa={toString:function(){return"CodeMirror.Init"}},ha={},pa={};function da(e){ui(e),Xn(e),wn(e)}function ga(e,t,r){if(!t!=!(r&&r!=fa)){var n=e.display.dragFunctions,i=t?$e:tt;i(e.display.scroller,"dragstart",n.start),i(e.display.scroller,"dragenter",n.enter),i(e.display.scroller,"dragover",n.over),i(e.display.scroller,"dragleave",n.leave),i(e.display.scroller,"drop",n.drop)}}function ya(e){e.options.lineWrapping?(R(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(_(e.display.wrapper,"CodeMirror-wrap"),Ge(e)),nn(e),Xn(e),Fr(e),setTimeout(function(){return On(e)},100)}function va(e,t){var n=this;if(!(this instanceof va))return new va(e,t);this.options=t=t?F(t):{},F(ha,t,!1),li(t);var i=t.value;"string"==typeof i&&(i=new Eo(i,t.mode,null,t.lineSeparator,t.direction)),this.doc=i;var o=new va.inputStyles[t.inputStyle](this),l=this.display=new function(e,t,n){var i=this;this.input=n,i.scrollbarFiller=x("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=x("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=B("div",null,"CodeMirror-code"),i.selectionDiv=x("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=x("div",null,"CodeMirror-cursors"),i.measure=x("div",null,"CodeMirror-measure"),i.lineMeasure=x("div",null,"CodeMirror-measure"),i.lineSpace=B("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none");var o=B("div",[i.lineSpace],"CodeMirror-lines");i.mover=x("div",[o],null,"position: relative"),i.sizer=x("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=x("div",null,null,"position: absolute; height: "+H+"px; width: 1px;"),i.gutters=x("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=x("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=x("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),a&&s<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),u||r&&v||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,n.init(i)}(e,i,o);for(var c in l.wrapper.CodeMirror=this,ui(this),ca(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Fn(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new M,keySeq:null,specialChars:null},t.autofocus&&!v&&l.input.focus(),a&&s<11&&setTimeout(function(){return n.display.input.reset(!0)},20),function(e){var t=e.display;$e(t.scroller,"mousedown",qn(e,oa)),$e(t.scroller,"dblclick",a&&s<11?qn(e,function(t){if(!nt(e,t)){var r=on(e,t);if(r&&!ua(e,t)&&!br(e.display,t)){st(t);var n=e.findWordAt(r);Mi(e.doc,n.anchor,n.head)}}}):function(t){return nt(e,t)||st(t)}),S||$e(t.scroller,"contextmenu",function(t){return la(e,t)});var r,n={end:0};function i(){t.activeTouch&&(r=setTimeout(function(){return t.activeTouch=null},1e3),(n=t.activeTouch).end=+new Date)}function o(e,t){if(null==t.left)return!0;var r=t.left-e.left,n=t.top-e.top;return r*r+n*n>400}$e(t.scroller,"touchstart",function(i){if(!nt(e,i)&&!function(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(i)&&!ua(e,i)){t.input.ensurePolled(),clearTimeout(r);var o=+new Date;t.activeTouch={start:o,moved:!1,prev:o-n.end<=300?n:null},1==i.touches.length&&(t.activeTouch.left=i.touches[0].pageX,t.activeTouch.top=i.touches[0].pageY)}}),$e(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),$e(t.scroller,"touchend",function(r){var n=t.activeTouch;if(n&&!br(t,r)&&null!=n.left&&!n.moved&&new Date-n.start<300){var a,s=e.coordsChar(t.activeTouch,"page");a=!n.prev||o(n,n.prev)?new gi(s,s):!n.prev.prev||o(n,n.prev.prev)?e.findWordAt(s):new gi(ge(s.line,0),Ee(e.doc,ge(s.line+1,0))),e.setSelection(a.anchor,a.head),e.focus(),st(r)}i()}),$e(t.scroller,"touchcancel",i),$e(t.scroller,"scroll",function(){t.scroller.clientHeight&&(In(e,t.scroller.scrollTop),Bn(e,t.scroller.scrollLeft,!0),rt(e,"scroll",e))}),$e(t.scroller,"mousewheel",function(t){return pi(e,t)}),$e(t.scroller,"DOMMouseScroll",function(t){return pi(e,t)}),$e(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(t){nt(e,t)||ct(t)},over:function(t){nt(e,t)||(function(e,t){var r=on(e,t);if(r){var n=document.createDocumentFragment();ln(e,r,n),e.display.dragCursor||(e.display.dragCursor=x("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),I(e.display.dragCursor,n)}}(e,t),ct(t))},start:function(t){return function(e,t){if(a&&(!e.state.draggingText||+new Date-So<100))ct(t);else if(!nt(e,t)&&!br(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!h)){var r=x("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",f&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),f&&r.parentNode.removeChild(r)}}(e,t)},drop:qn(e,To),leave:function(t){nt(e,t)||Ao(e)}};var u=t.input.getField();$e(u,"keyup",function(t){return ea.call(e,t)}),$e(u,"keydown",qn(e,$o)),$e(u,"keypress",qn(e,ta)),$e(u,"focus",function(t){return gn(e,t)}),$e(u,"blur",function(t){return yn(e,t)})}(this),function(){var e;ko||($e(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,_o(Io)},100))}),$e(window,"blur",function(){return _o(yn)}),ko=!0)}(),Mn(this),this.curOp.forceUpdate=!0,ki(this,i),t.autofocus&&!v||this.hasFocus()?setTimeout(D(gn,this),20):yn(this),pa)pa.hasOwnProperty(c)&&pa[c](n,t[c],fa);Cn(this),t.finishInit&&t.finishInit(this);for(var p=0;p<ma.length;++p)ma[p](n);jn(this),u&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(l.lineDiv).textRendering&&(l.lineDiv.style.textRendering="auto")}va.defaults=ha,va.optionHandlers=pa;var ma=[];function ba(e,t,r,n){var i,o=e.doc;null==r&&(r="add"),"smart"==r&&(o.mode.indent?i=Dt(e,t).state:r="prev");var a=e.options.tabSize,s=se(o,t),u=U(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var l,c=s.text.match(/^\s*/)[0];if(n||/\S/.test(s.text)){if("smart"==r&&((l=o.mode.indent(i,s.text.slice(c.length),s.text))==K||l>150)){if(!n)return;r="prev"}}else l=0,r="not";"prev"==r?l=t>o.first?U(se(o,t-1).text,null,a):0:"add"==r?l=u+e.options.indentUnit:"subtract"==r?l=u-e.options.indentUnit:"number"==typeof r&&(l=u+r),l=Math.max(0,l);var f="",h=0;if(e.options.indentWithTabs)for(var p=Math.floor(l/a);p;--p)h+=a,f+="\t";if(h<l&&(f+=Y(l-h)),f!=c)return oo(o,f,ge(t,0),ge(t,c.length),"+input"),s.stateAfter=null,!0;for(var d=0;d<o.sel.ranges.length;d++){var g=o.sel.ranges[d];if(g.head.line==t&&g.head.ch<c.length){var y=ge(t,c.length);Hi(o,d,new gi(y,y));break}}}va.defineInitHook=function(e){return ma.push(e)};var wa=null;function Ca(e){wa=e}function Ea(e,t,r,n,i){var o=e.doc;e.display.shift=!1,n||(n=o.sel);var a,s=e.state.pasteIncoming||"paste"==i,u=bt(t),l=null;if(s&&n.ranges.length>1)if(wa&&wa.text.join("\n")==t){if(n.ranges.length%wa.text.length==0){l=[];for(var c=0;c<wa.text.length;c++)l.push(o.splitLines(wa.text[c]))}}else u.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(l=Z(u,function(e){return[e]}));for(var f=n.ranges.length-1;f>=0;f--){var h=n.ranges[f],p=h.from(),d=h.to();h.empty()&&(r&&r>0?p=ge(p.line,p.ch-r):e.state.overwrite&&!s?d=ge(d.line,Math.min(se(o,d.line).text.length,d.ch+X(u).length)):wa&&wa.lineWise&&wa.text.join("\n")==t&&(p=d=ge(p.line,0))),a=e.curOp.updateInput;var g={from:p,to:d,text:l?l[f%l.length]:u,origin:i||(s?"paste":e.state.cutIncoming?"cut":"+input")};eo(e.doc,g),or(e,"inputRead",e,g)}t&&!s&&Ta(e,t),Tn(e),e.curOp.updateInput=a,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Sa(e,t){var r=e.clipboardData&&e.clipboardData.getData("Text");if(r)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Wn(t,function(){return Ea(t,r,0,null,"paste")}),!0}function Ta(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,n=r.ranges.length-1;n>=0;n--){var i=r.ranges[n];if(!(i.head.ch>100||n&&r.ranges[n-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){a=ba(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(se(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=ba(e,i.head.line,"smart"));a&&or(e,"electricInput",e,i.head.line)}}}function Aa(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var i=e.doc.sel.ranges[n].head.line,o={anchor:ge(i,0),head:ge(i+1,0)};r.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:r}}function _a(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function ka(){var e=x("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=x("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return u?e.style.width="1000px":e.setAttribute("wrap","off"),g&&(e.style.border="1px solid black"),_a(e),t}function Ia(e,t,r,n,i){var o=t,a=r,s=se(e,t.line);function u(n){var o,a;if(null==(o=i?function(e,t,r,n){var i=Qe(t,e.doc.direction);if(!i)return Ko(t,r,n);r.ch>=t.text.length?(r.ch=t.text.length,r.sticky="before"):r.ch<=0&&(r.ch=0,r.sticky="after");var o=Xe(i,r.ch,r.sticky),a=i[o];if("ltr"==e.doc.direction&&a.level%2==0&&(n>0?a.to>r.ch:a.from<r.ch))return Ko(t,r,n);var s,u=function(e,r){return Ho(t,e instanceof ge?e.ch:e,r)},l=function(r){return e.options.lineWrapping?(s=s||xr(e,t),Xr(e,t,s,r)):{begin:0,end:t.text.length}},c=l("before"==r.sticky?u(r,-1):r.ch);if("rtl"==e.doc.direction||1==a.level){var f=1==a.level==n<0,h=u(r,f?1:-1);if(null!=h&&(f?h<=a.to&&h<=c.end:h>=a.from&&h>=c.begin)){var p=f?"before":"after";return new ge(r.line,h,p)}}var d=function(e,t,n){for(var o=function(e,t){return t?new ge(r.line,u(e,1),"before"):new ge(r.line,e,"after")};e>=0&&e<i.length;e+=t){var a=i[e],s=t>0==(1!=a.level),l=s?n.begin:u(n.end,-1);if(a.from<=l&&l<a.to)return o(l,s);if(l=s?a.from:u(a.to,-1),n.begin<=l&&l<n.end)return o(l,s)}},g=d(o+n,n,c);if(g)return g;var y=n>0?c.end:u(c.begin,-1);return null==y||n>0&&y==t.text.length||!(g=d(n>0?0:i.length-1,n,l(y)))?null:g}(e.cm,s,t,r):Ko(s,t,r))){if(n||(a=t.line+r)<e.first||a>=e.first+e.size||(t=new ge(a,t.ch,t.sticky),!(s=se(e,a))))return!1;t=Vo(i,e.cm,s,t.line,r)}else t=o;return!0}if("char"==n)u();else if("column"==n)u(!0);else if("word"==n||"group"==n)for(var l=null,c="group"==n,f=e.cm&&e.cm.getHelper(t,"wordChars"),h=!0;!(r<0)||u(!h);h=!1){var p=s.text.charAt(t.ch)||"\n",d=te(p,f)?"w":c&&"\n"==p?"n":!c||/\s/.test(p)?null:"p";if(!c||h||d||(d="s"),l&&l!=d){r<0&&(r=1,u(),t.sticky="after");break}if(d&&(l=d),r>0&&!u(!h))break}var g=Zi(e,t,o,a,!0);return ve(o,g)&&(g.hitSide=!0),g}function xa(e,t,r,n){var i,o,a=e.doc,s=t.left;if("page"==n){var u=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),l=Math.max(u-.5*Jr(e.display),3);i=(r>0?t.bottom:t.top)+r*l}else"line"==n&&(i=r>0?t.bottom+3:t.top-3);for(;(o=Gr(e,s,i)).outside;){if(r<0?i<=0:i>=a.height){o.hitSide=!0;break}i+=5*r}return o}var Ba=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new M,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Na(e,t){var r=Ir(e,t.line);if(!r||r.hidden)return null;var n=se(e.doc,t.line),i=_r(r,n,t.line),o=Qe(n,e.doc.direction),a="left";o&&(a=Xe(o,t.ch)%2?"right":"left");var s=Rr(i.map,t.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function La(e,t){return t&&(e.bad=!0),e}function Ra(e,t,r){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[r]))return La(e.clipPos(ge(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==n)return Oa(o,t,r)}}function Oa(e,t,r){var n=e.text.firstChild,i=!1;if(!t||!N(n,t))return La(ge(fe(e.line),0),!0);if(t==n&&(i=!0,t=n.childNodes[r],r=0,!t)){var o=e.rest?X(e.rest):e.line;return La(ge(fe(o),o.text.length),i)}var a=3==t.nodeType?t:null,s=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,r&&(r=a.nodeValue.length));s.parentNode!=n;)s=s.parentNode;var u=e.measure,l=u.maps;function c(t,r,n){for(var i=-1;i<(l?l.length:0);i++)for(var o=i<0?u.map:l[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==t||s==r){var c=fe(i<0?e.line:e.rest[i]),f=o[a]+n;return(n<0||s!=t)&&(f=o[a+(n?1:0)]),ge(c,f)}}}var f=c(a,s,r);if(f)return La(f,i);for(var h=s.nextSibling,p=a?a.nodeValue.length-r:0;h;h=h.nextSibling){if(f=c(h,h.firstChild,0))return La(ge(f.line,f.ch-p),i);p+=h.textContent.length}for(var d=s.previousSibling,g=r;d;d=d.previousSibling){if(f=c(d,d.firstChild,-1))return La(ge(f.line,f.ch+g),i);g+=d.textContent.length}}Ba.prototype.init=function(e){var t=this,r=this,n=r.cm,i=r.div=e.lineDiv;function o(e){if(!nt(n,e)){if(n.somethingSelected())Ca({lineWise:!1,text:n.getSelections()}),"cut"==e.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var t=Aa(n);Ca({lineWise:!0,text:t.text}),"cut"==e.type&&n.operation(function(){n.setSelections(t.ranges,0,V),n.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var o=wa.text.join("\n");if(e.clipboardData.setData("Text",o),e.clipboardData.getData("Text")==o)return void e.preventDefault()}var a=ka(),s=a.firstChild;n.display.lineSpace.insertBefore(a,n.display.lineSpace.firstChild),s.value=wa.text.join("\n");var u=document.activeElement;P(s),setTimeout(function(){n.display.lineSpace.removeChild(a),u.focus(),u==i&&r.showPrimarySelection()},50)}}_a(i,n.options.spellcheck),$e(i,"paste",function(e){nt(n,e)||Sa(e,n)||s<=11&&setTimeout(qn(n,function(){return t.updateFromDOM()}),20)}),$e(i,"compositionstart",function(e){t.composing={data:e.data,done:!1}}),$e(i,"compositionupdate",function(e){t.composing||(t.composing={data:e.data,done:!1})}),$e(i,"compositionend",function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),$e(i,"touchstart",function(){return r.forceCompositionEnd()}),$e(i,"input",function(){t.composing||t.readFromDOMSoon()}),$e(i,"copy",o),$e(i,"cut",o)},Ba.prototype.prepareSelection=function(){var e=un(this.cm,!1);return e.focus=this.cm.state.focused,e},Ba.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Ba.prototype.showPrimarySelection=function(){var e=window.getSelection(),t=this.cm,n=t.doc.sel.primary(),i=n.from(),o=n.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var a=Ra(t,e.anchorNode,e.anchorOffset),s=Ra(t,e.focusNode,e.focusOffset);if(!a||a.bad||!s||s.bad||0!=ye(we(a,s),i)||0!=ye(be(a,s),o)){var u=t.display.view,l=i.line>=t.display.viewFrom&&Na(t,i)||{node:u[0].measure.map[2],offset:0},c=o.line<t.display.viewTo&&Na(t,o);if(!c){var f=u[u.length-1].measure,h=f.maps?f.maps[f.maps.length-1]:f.map;c={node:h[h.length-1],offset:h[h.length-2]-h[h.length-3]}}if(l&&c){var p,d=e.rangeCount&&e.getRangeAt(0);try{p=A(l.node,l.offset,c.offset,c.node)}catch(e){}p&&(!r&&t.state.focused?(e.collapse(l.node,l.offset),p.collapsed||(e.removeAllRanges(),e.addRange(p))):(e.removeAllRanges(),e.addRange(p)),d&&null==e.anchorNode?e.addRange(d):r&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Ba.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Ba.prototype.showMultipleSelections=function(e){I(this.cm.display.cursorDiv,e.cursors),I(this.cm.display.selectionDiv,e.selection)},Ba.prototype.rememberSelection=function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Ba.prototype.selectionInEditor=function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return N(this.div,t)},Ba.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ba.prototype.blur=function(){this.div.blur()},Ba.prototype.getField=function(){return this.div},Ba.prototype.supportsTouch=function(){return!0},Ba.prototype.receivedFocus=function(){var e=this;this.selectionInEditor()?this.pollSelection():Wn(this.cm,function(){return e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))})},Ba.prototype.selectionChanged=function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Ba.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;if(y&&c&&this.cm.options.gutters.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var r=Ra(t,e.anchorNode,e.anchorOffset),n=Ra(t,e.focusNode,e.focusOffset);r&&n&&Wn(t,function(){zi(t.doc,vi(r,n),V),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}}},Ba.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,r,n=this.cm,i=n.display,o=n.doc.sel.primary(),a=o.from(),s=o.to();if(0==a.ch&&a.line>n.firstLine()&&(a=ge(a.line-1,se(n.doc,a.line-1).length)),s.ch==se(n.doc,s.line).text.length&&s.line<n.lastLine()&&(s=ge(s.line+1,0)),a.line<i.viewFrom||s.line>i.viewTo-1)return!1;a.line==i.viewFrom||0==(e=an(n,a.line))?(t=fe(i.view[0].line),r=i.view[0].node):(t=fe(i.view[e].line),r=i.view[e-1].node.nextSibling);var u,l,c=an(n,s.line);if(c==i.view.length-1?(u=i.viewTo-1,l=i.lineDiv.lastChild):(u=fe(i.view[c+1].line)-1,l=i.view[c+1].node.previousSibling),!r)return!1;for(var f=n.doc.splitLines(function(e,t,r,n,i){var o="",a=!1,s=e.doc.lineSeparator();function u(){a&&(o+=s,a=!1)}function l(e){e&&(u(),o+=e)}function c(t){if(1==t.nodeType){var r=t.getAttribute("cm-text");if(null!=r)return void l(r||t.textContent.replace(/\u200b/g,""));var o,f=t.getAttribute("cm-marker");if(f){var h=e.findMarks(ge(n,0),ge(i+1,0),(g=+f,function(e){return e.id==g}));return void(h.length&&(o=h[0].find(0))&&l(ue(e.doc,o.from,o.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;var p=/^(pre|div|p)$/i.test(t.nodeName);p&&u();for(var d=0;d<t.childNodes.length;d++)c(t.childNodes[d]);p&&(a=!0)}else 3==t.nodeType&&l(t.nodeValue);var g}for(;c(t),t!=r;)t=t.nextSibling;return o}(n,r,l,t,u)),h=ue(n.doc,ge(t,0),ge(u,se(n.doc,u).text.length));f.length>1&&h.length>1;)if(X(f)==X(h))f.pop(),h.pop(),u--;else{if(f[0]!=h[0])break;f.shift(),h.shift(),t++}for(var p=0,d=0,g=f[0],y=h[0],v=Math.min(g.length,y.length);p<v&&g.charCodeAt(p)==y.charCodeAt(p);)++p;for(var m=X(f),b=X(h),w=Math.min(m.length-(1==f.length?p:0),b.length-(1==h.length?p:0));d<w&&m.charCodeAt(m.length-d-1)==b.charCodeAt(b.length-d-1);)++d;if(1==f.length&&1==h.length&&t==a.line)for(;p&&p>a.ch&&m.charCodeAt(m.length-d-1)==b.charCodeAt(b.length-d-1);)p--,d++;f[f.length-1]=m.slice(0,m.length-d).replace(/^\u200b+/,""),f[0]=f[0].slice(p).replace(/\u200b+$/,"");var C=ge(t,p),E=ge(u,h.length?X(h).length-d:0);return f.length>1||f[0]||ye(C,E)?(oo(n.doc,f,C,E,"+input"),!0):void 0},Ba.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ba.prototype.reset=function(){this.forceCompositionEnd()},Ba.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ba.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},Ba.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Wn(this.cm,function(){return Xn(e.cm)})},Ba.prototype.setUneditable=function(e){e.contentEditable="false"},Ba.prototype.onKeyPress=function(e){0!=e.charCode&&(e.preventDefault(),this.cm.isReadOnly()||qn(this.cm,Ea)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Ba.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Ba.prototype.onContextMenu=function(){},Ba.prototype.resetPosition=function(){},Ba.prototype.needsContentAttribute=!0;var Pa=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new M,this.hasSelection=!1,this.composing=null};Pa.prototype.init=function(e){var t=this,r=this,n=this.cm,i=this.wrapper=ka(),o=this.textarea=i.firstChild;function u(e){if(!nt(n,e)){if(n.somethingSelected())Ca({lineWise:!1,text:n.getSelections()});else{if(!n.options.lineWiseCopyCut)return;var t=Aa(n);Ca({lineWise:!0,text:t.text}),"cut"==e.type?n.setSelections(t.ranges,null,V):(r.prevInput="",o.value=t.text.join("\n"),P(o))}"cut"==e.type&&(n.state.cutIncoming=!0)}}e.wrapper.insertBefore(i,e.wrapper.firstChild),g&&(o.style.width="0px"),$e(o,"input",function(){a&&s>=9&&t.hasSelection&&(t.hasSelection=null),r.poll()}),$e(o,"paste",function(e){nt(n,e)||Sa(e,n)||(n.state.pasteIncoming=!0,r.fastPoll())}),$e(o,"cut",u),$e(o,"copy",u),$e(e.scroller,"paste",function(t){br(e,t)||nt(n,t)||(n.state.pasteIncoming=!0,r.focus())}),$e(e.lineSpace,"selectstart",function(t){br(e,t)||st(t)}),$e(o,"compositionstart",function(){var e=n.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:e,range:n.markText(e,n.getCursor("to"),{className:"CodeMirror-composing"})}}),$e(o,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},Pa.prototype.prepareSelection=function(){var e=this.cm,t=e.display,r=e.doc,n=un(e);if(e.options.moveInputWithCursor){var i=zr(e,r.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return n},Pa.prototype.showSelection=function(e){var t=this.cm.display;I(t.cursorDiv,e.cursors),I(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},Pa.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var r=t.getSelection();this.textarea.value=r,t.state.focused&&P(this.textarea),a&&s>=9&&(this.hasSelection=r)}else e||(this.prevInput=this.textarea.value="",a&&s>=9&&(this.hasSelection=null))}},Pa.prototype.getField=function(){return this.textarea},Pa.prototype.supportsTouch=function(){return!1},Pa.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||L()!=this.textarea))try{this.textarea.focus()}catch(e){}},Pa.prototype.blur=function(){this.textarea.blur()},Pa.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Pa.prototype.receivedFocus=function(){this.slowPoll()},Pa.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},Pa.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,function r(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,r))})},Pa.prototype.poll=function(){var e=this,t=this.cm,r=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||wt(r)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=r.value;if(i==n&&!t.somethingSelected())return!1;if(a&&s>=9&&this.hasSelection===i||m&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||n||(n="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var u=0,l=Math.min(n.length,i.length);u<l&&n.charCodeAt(u)==i.charCodeAt(u);)++u;return Wn(t,function(){Ea(t,i.slice(u),n.length-u,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?r.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Pa.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Pa.prototype.onKeyPress=function(){a&&s>=9&&(this.hasSelection=null),this.fastPoll()},Pa.prototype.onContextMenu=function(e){var t=this,r=t.cm,n=r.display,i=t.textarea,o=on(r,e),l=n.scroller.scrollTop;if(o&&!f){r.options.resetSelectionOnContextMenu&&-1==r.doc.sel.contains(o)&&qn(r,zi)(r.doc,vi(o),V);var c=i.style.cssText,h=t.wrapper.style.cssText;t.wrapper.style.cssText="position: absolute";var p,d=t.wrapper.getBoundingClientRect();if(i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-d.top-5)+"px; left: "+(e.clientX-d.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",u&&(p=window.scrollY),n.input.focus(),u&&window.scrollTo(null,p),n.input.reset(),r.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=!0,n.selForContextMenu=r.doc.sel,clearTimeout(n.detectingSelectAll),a&&s>=9&&y(),S){ct(e);var g=function(){tt(window,"mouseup",g),setTimeout(v,20)};$e(window,"mouseup",g)}else setTimeout(v,50)}function y(){if(null!=i.selectionStart){var e=r.somethingSelected(),o="​"+(e?i.value:"");i.value="⇚",i.value=o,t.prevInput=e?"":"​",i.selectionStart=1,i.selectionEnd=o.length,n.selForContextMenu=r.doc.sel}}function v(){if(t.contextMenuPending=!1,t.wrapper.style.cssText=h,i.style.cssText=c,a&&s<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=l),null!=i.selectionStart){(!a||a&&s<9)&&y();var e=0,o=function(){n.selForContextMenu==r.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"​"==t.prevInput?qn(r,Ji)(r):e++<10?n.detectingSelectAll=setTimeout(o,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(o,200)}}},Pa.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},Pa.prototype.setUneditable=function(){},Pa.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function r(r,n,i,o){e.defaults[r]=n,i&&(t[r]=o?function(e,t,r){r!=fa&&i(e,t,r)}:i)}e.defineOption=r,e.Init=fa,r("value","",function(e,t){return e.setValue(t)},!0),r("mode",null,function(e,t){e.doc.modeOption=t,Ei(e)},!0),r("indentUnit",2,Ei,!0),r("indentWithTabs",!1),r("smartIndent",!0),r("tabSize",4,function(e){Si(e),Fr(e),Xn(e)},!0),r("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var r=[],n=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,r.push(ge(n,o))}n++});for(var i=r.length-1;i>=0;i--)oo(e.doc,t,r[i],ge(r[i].line,r[i].ch+t.length))}}),r("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,r){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),r!=fa&&e.refresh()}),r("specialCharPlaceholder",Zt,function(e){return e.refresh()},!0),r("electricChars",!0),r("inputStyle",v?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),r("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),r("rtlMoveVisually",!w),r("wholeLineUpdateBefore",!0),r("theme","default",function(e){ca(e),da(e)},!0),r("keyMap","default",function(e,t,r){var n=Mo(t),i=r!=fa&&Mo(r);i&&i.detach&&i.detach(e,n),n.attach&&n.attach(e,i||null)}),r("extraKeys",null),r("configureMouse",null),r("lineWrapping",!1,ya,!0),r("gutters",[],function(e){li(e.options),da(e)},!0),r("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?tn(e.display)+"px":"0",e.refresh()},!0),r("coverGutterNextToScrollbar",!1,function(e){return On(e)},!0),r("scrollbarStyle","native",function(e){Fn(e),On(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),r("lineNumbers",!1,function(e){li(e.options),da(e)},!0),r("firstLineNumber",1,da,!0),r("lineNumberFormatter",function(e){return e},da,!0),r("showCursorWhenSelecting",!1,sn,!0),r("resetSelectionOnContextMenu",!0),r("lineWiseCopyCut",!0),r("pasteLinesPerSelection",!0),r("readOnly",!1,function(e,t){"nocursor"==t&&(yn(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),r("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),r("dragDrop",!0,ga),r("allowDropFileTypes",null),r("cursorBlinkRate",530),r("cursorScrollMargin",0),r("cursorHeight",1,sn,!0),r("singleCursorHeightPerLine",!0,sn,!0),r("workTime",100),r("workDelay",100),r("flattenSpans",!0,Si,!0),r("addModeClass",!1,Si,!0),r("pollInterval",100),r("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),r("historyEventDelay",1250),r("viewportMargin",10,function(e){return e.refresh()},!0),r("maxHighlightLength",1e4,Si,!0),r("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),r("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),r("autofocus",null),r("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0)}(va),function(e){var t=e.optionHandlers,r=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,r){var n=this.options,i=n[e];n[e]==r&&"mode"!=e||(n[e]=r,t.hasOwnProperty(e)&&qn(this,t[e])(this,r,i),rt(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Mo(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,r=0;r<t.length;++r)if(t[r]==e||t[r].name==e)return t.splice(r,1),!0},addOverlay:Gn(function(t,r){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");!function(e,t,r){for(var n=0,i=r(t);n<e.length&&r(e[n])<=i;)n++;e.splice(n,0,t)}(this.state.overlays,{mode:n,modeSpec:t,opaque:r&&r.opaque,priority:r&&r.priority||0},function(e){return e.priority}),this.state.modeGen++,Xn(this)}),removeOverlay:Gn(function(e){for(var t=this.state.overlays,r=0;r<t.length;++r){var n=t[r].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(r,1),this.state.modeGen++,void Xn(this)}}),indentLine:Gn(function(e,t,r){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),pe(this.doc,e)&&ba(this,e,t,r)}),indentSelection:Gn(function(e){for(var t=this.doc.sel.ranges,r=-1,n=0;n<t.length;n++){var i=t[n];if(i.empty())i.head.line>r&&(ba(this,i.head.line,e,!0),r=i.head.line,n==this.doc.sel.primIndex&&Tn(this));else{var o=i.from(),a=i.to(),s=Math.max(r,o.line);r=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var u=s;u<r;++u)ba(this,u,e);var l=this.doc.sel.ranges;0==o.ch&&t.length==l.length&&l[n].from().ch>0&&Hi(this.doc,n,new gi(o,l[n].to()),V)}}}),getTokenAt:function(e,t){return Ht(this,e,t)},getLineTokens:function(e,t){return Ht(this,ge(e),t,!0)},getTokenTypeAt:function(e){e=Ee(this.doc,e);var t,r=Pt(this,se(this.doc,e.line)),n=0,i=(r.length-1)/2,o=e.ch;if(0==o)t=r[2];else for(;;){var a=n+i>>1;if((a?r[2*a-1]:0)>=o)i=a;else{if(!(r[2*a+1]<o)){t=r[2*a+2];break}n=a+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var r=this.doc.mode;return r.innerMode?e.innerMode(r,this.getTokenAt(t).state).mode:r},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!r.hasOwnProperty(t))return n;var i=r[t],o=this.getModeAt(e);if("string"==typeof o[t])i[o[t]]&&n.push(i[o[t]]);else if(o[t])for(var a=0;a<o[t].length;a++){var s=i[o[t][a]];s&&n.push(s)}else o.helperType&&i[o.helperType]?n.push(i[o.helperType]):i[o.name]&&n.push(i[o.name]);for(var u=0;u<i._global.length;u++){var l=i._global[u];l.pred(o,this)&&-1==j(n,l.val)&&n.push(l.val)}return n},getStateAfter:function(e,t){var r=this.doc;return Dt(this,(e=Ce(r,null==e?r.first+r.size-1:e))+1,t).state},cursorCoords:function(e,t){var r=this.doc.sel.primary();return zr(this,null==e?r.head:"object"==typeof e?Ee(this.doc,e):e?r.from():r.to(),t||"page")},charCoords:function(e,t){return Vr(this,Ee(this.doc,e),t||"page")},coordsChar:function(e,t){return Gr(this,(e=Kr(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Kr(this,{top:e,left:0},t||"page").top,he(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,r){var n,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),n=se(this.doc,e)}else n=e;return Hr(this,n,{top:0,left:0},t||"page",r||i).top+(i?this.doc.height-We(n):0)},defaultTextHeight:function(){return Jr(this.display)},defaultCharWidth:function(){return $r(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,r,n,i){var o,a,s=this.display,u=(e=zr(this,Ee(this.doc,e))).bottom,l=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),s.sizer.appendChild(t),"over"==n)u=e.top;else if("above"==n||"near"==n){var c=Math.max(s.wrapper.clientHeight,this.doc.height),f=Math.max(s.sizer.clientWidth,s.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>c)&&e.top>t.offsetHeight?u=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=c&&(u=e.bottom),l+t.offsetWidth>f&&(l=f-t.offsetWidth)}t.style.top=u+"px",t.style.left=t.style.right="","right"==i?(l=s.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?l=0:"middle"==i&&(l=(s.sizer.clientWidth-t.offsetWidth)/2),t.style.left=l+"px"),r&&(null!=(a=En(o=this,{left:l,top:u,right:l+t.offsetWidth,bottom:u+t.offsetHeight})).scrollTop&&In(o,a.scrollTop),null!=a.scrollLeft&&Bn(o,a.scrollLeft))},triggerOnKeyDown:Gn($o),triggerOnKeyPress:Gn(ta),triggerOnKeyUp:ea,triggerOnMouseDown:Gn(oa),execCommand:function(e){if(zo.hasOwnProperty(e))return zo[e].call(null,this)},triggerElectric:Gn(function(e){Ta(this,e)}),findPosH:function(e,t,r,n){var i=1;t<0&&(i=-1,t=-t);for(var o=Ee(this.doc,e),a=0;a<t&&!(o=Ia(this.doc,o,i,r,n)).hitSide;++a);return o},moveH:Gn(function(e,t){var r=this;this.extendSelectionsBy(function(n){return r.display.shift||r.doc.extend||n.empty()?Ia(r.doc,n.head,e,t,r.options.rtlMoveVisually):e<0?n.from():n.to()},W)}),deleteH:Gn(function(e,t){var r=this.doc.sel,n=this.doc;r.somethingSelected()?n.replaceSelection("",null,"+delete"):jo(this,function(r){var i=Ia(n,r.head,e,t,!1);return e<0?{from:i,to:r.head}:{from:r.head,to:i}})}),findPosV:function(e,t,r,n){var i=1,o=n;t<0&&(i=-1,t=-t);for(var a=Ee(this.doc,e),s=0;s<t;++s){var u=zr(this,a,"div");if(null==o?o=u.left:u.left=o,(a=xa(this,u,i,r)).hitSide)break}return a},moveV:Gn(function(e,t){var r=this,n=this.doc,i=[],o=!this.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy(function(a){if(o)return e<0?a.from():a.to();var s=zr(r,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var u=xa(r,s,e,t);return"page"==t&&a==n.sel.primary()&&Sn(r,Vr(r,u,"div").top-s.top),u},W),i.length)for(var a=0;a<n.sel.ranges.length;a++)n.sel.ranges[a].goalColumn=i[a]}),findWordAt:function(e){var t=se(this.doc,e.line).text,r=e.ch,n=e.ch;if(t){var i=this.getHelper(e,"wordChars");"before"!=e.sticky&&n!=t.length||!r?++n:--r;for(var o=t.charAt(r),a=te(o,i)?function(e){return te(e,i)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!te(e)};r>0&&a(t.charAt(r-1));)--r;for(;n<t.length&&a(t.charAt(n));)++n}return new gi(ge(e.line,r),ge(e.line,n))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?R(this.display.cursorDiv,"CodeMirror-overwrite"):_(this.display.cursorDiv,"CodeMirror-overwrite"),rt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==L()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Gn(function(e,t){An(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Sr(this)-this.display.barHeight,width:e.scrollWidth-Sr(this)-this.display.barWidth,clientHeight:Ar(this),clientWidth:Tr(this)}},scrollIntoView:Gn(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:ge(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?function(e,t){_n(e),e.curOp.scrollToPos=t}(this,e):kn(this,e.from,e.to,e.margin)}),setSize:Gn(function(e,t){var r=this,n=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=n(e)),null!=t&&(this.display.wrapper.style.height=n(t)),this.options.lineWrapping&&Dr(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Zn(r,i,"widget");break}++i}),this.curOp.forceUpdate=!0,rt(this,"refresh",this)}),operation:function(e){return Wn(this,e)},startOperation:function(){return Mn(this)},endOperation:function(){return jn(this)},refresh:Gn(function(){var e=this.display.cachedTextHeight;Xn(this),this.curOp.forceUpdate=!0,Fr(this),An(this,this.doc.scrollLeft,this.doc.scrollTop),ai(this),(null==e||Math.abs(e-Jr(this.display))>.5)&&nn(this),rt(this,"refresh",this)}),swapDoc:Gn(function(e){var t=this.doc;return t.cm=null,ki(this,e),Fr(this),this.display.input.reset(),An(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,or(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},at(e),e.registerHelper=function(t,n,i){r.hasOwnProperty(t)||(r[t]=e[t]={_global:[]}),r[t][n]=i},e.registerGlobalHelper=function(t,n,i,o){e.registerHelper(t,n,o),r[t]._global.push({pred:i,val:o})}}(va);var Da,Fa="iter insert remove copy getEditor constructor".split(" ");for(var Ua in Eo.prototype)Eo.prototype.hasOwnProperty(Ua)&&j(Fa,Ua)<0&&(va.prototype[Ua]=function(e){return function(){return e.apply(this.doc,arguments)}}(Eo.prototype[Ua]));return at(Eo),va.inputStyles={textarea:Pa,contenteditable:Ba},va.defineMode=function(e){va.defaults.mode||"null"==e||(va.defaults.mode=e),function(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),St[e]=t}.apply(this,arguments)},va.defineMIME=function(e,t){Tt[e]=t},va.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),va.defineMIME("text/plain","null"),va.defineExtension=function(e,t){va.prototype[e]=t},va.defineDocExtension=function(e,t){Eo.prototype[e]=t},va.fromTextArea=function(e,t){if((t=t?F(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var r=L();t.autofocus=r==e||null!=e.getAttribute("autofocus")&&r==document.body}function n(){e.value=s.getValue()}var i;if(e.form&&($e(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var a=o.submit=function(){n(),o.submit=i,o.submit(),o.submit=a}}catch(e){}}t.finishInit=function(t){t.save=n,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,n(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(tt(e.form,"submit",n),"function"==typeof e.form.submit&&(e.form.submit=i))}},e.style.display="none";var s=va(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return s},(Da=va).off=tt,Da.on=$e,Da.wheelEventPixels=function(e){var t=hi(e);return t.x*=fi,t.y*=fi,t},Da.Doc=Eo,Da.splitLines=bt,Da.countColumn=U,Da.findColumn=q,Da.isWordChar=ee,Da.Pass=K,Da.signal=rt,Da.Line=zt,Da.changeEnd=mi,Da.scrollbarModel=Dn,Da.Pos=ge,Da.cmpPos=ye,Da.modes=St,Da.mimeModes=Tt,Da.resolveMode=At,Da.getMode=_t,Da.modeExtensions=kt,Da.extendMode=function(e,t){F(t,kt.hasOwnProperty(e)?kt[e]:kt[e]={})},Da.copyState=It,Da.startState=Bt,Da.innerMode=xt,Da.commands=zo,Da.keyMap=Ro,Da.keyName=Uo,Da.isModifierKey=Do,Da.lookupKey=Po,Da.normalizeKeyMap=function(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==n){delete e[r];continue}for(var i=Z(r.split(" "),Oo),o=0;o<i.length;o++){var a=void 0,s=void 0;o==i.length-1?(s=i.join(" "),a=n):(s=i.slice(0,o+1).join(" "),a="...");var u=t[s];if(u){if(u!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[r]}for(var l in t)e[l]=t[l];return e},Da.StringStream=Nt,Da.SharedTextMarker=mo,Da.TextMarker=yo,Da.LineWidget=ho,Da.e_preventDefault=st,Da.e_stopPropagation=ut,Da.e_stop=ct,Da.addClass=R,Da.contains=N,Da.rmClass=_,Da.keyNames=xo,va.version="5.35.0",va}()},function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)i(r,n)&&(e[n]=r[n])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(var o=0;o<n;o++)e[i+o]=t[r+o]},flattenChunks:function(e){var t,r,n,i,o,a;for(n=0,t=0,r=e.length;t<r;t++)n+=e[t].length;for(a=new Uint8Array(n),i=0,t=0,r=e.length;t<r;t++)o=e[t],a.set(o,i),i+=o.length;return a}},a={arraySet:function(e,t,r,n,i){for(var o=0;o<n;o++)e[i+o]=t[r+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(n)},function(e,t,r){var n=r(1),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";(function(t){!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,r,n,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,r)});case 3:return t.nextTick(function(){e.call(null,r,n)});case 4:return t.nextTick(function(){e.call(null,r,n,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick(function(){e.apply(null,o)})}}}:e.exports=t}).call(this,r(14))},function(e,t,r){"use strict";(function(t){var n=r(56),i=e.exports={intToBigEndian:function(e,r,n){if("number"==typeof e)switch(arguments.length){case 1:r=t.alloc(4),i.intToBigEndian(e,r,0);break;case 3:r[n]=255&e>>>24,r[++n]=255&e>>>16,r[++n]=255&e>>>8,r[++n]=255&e;break;default:throw new TypeError("Expected 1 or 3 arguments.")}else switch(arguments.length){case 1:r=t.alloc(4*e.length),i.intToBigEndian(e,r,0);break;case 3:for(var o=0;o<e.length;++o)i.intToBigEndian(e[o],r,n),n+=4;break;default:throw new TypeError("Expected 1 or 3 arguments.")}return r},longToBigEndian:function(e,r,n){if(Array.isArray(e))switch(arguments.length){case 1:r=t.alloc(8*e.length),i.longToBigEndian(e,r,0);break;case 3:for(var o=0;o<e.length;++o)i.longToBigEndian(e[o],r,n),n+=8;break;default:throw new TypeError("Expected 1 or 3 arguments.")}else switch(arguments.length){case 1:r=t.alloc(8),i.longToBigEndian(e,r,0);break;case 3:var a=e.low,s=e.high;i.intToBigEndian(s,r,n),i.intToBigEndian(a,r,n+4);break;default:throw new TypeError("Expected 1 or 3 arguments.")}return r},bigEndianToInt:function(e,t,r){switch(arguments.length){case 2:var n=e[t]<<24;return n|=(255&e[++t])<<16,(n|=(255&e[++t])<<8)|255&e[++t];case 3:for(var o=0;o<r.length;++o)r[o]=i.bigEndianToInt(e,t),t+=4;break;default:throw new TypeError("Expected 2 or 3 arguments.")}},bigEndianToLong:function(e,t,r){switch(arguments.length){case 2:var o=i.bigEndianToInt(e,t),a=i.bigEndianToInt(e,t+4);return new n(a,o);case 3:for(var s=0;s<r.length;++s)r[s]=i.bigEndianToLong(e,t),t+=8;break;default:throw new TypeError("Expected 2 or 3 arguments.")}}}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){var n=r(5),i=r(10),o={};["SHA-1","SHA-256","SHA-384","SHA-512"].forEach(function(e){var r,a,s;o[e]={digest:(r=e,a=r.replace("SHA-","SHA").toLowerCase(),s={name:r},i.setupFallback(function(e){var t=i.nodeCrypto.createHash(a);return t.update(e),t.digest()},function(e){return i.subtleCrypto.digest(s,e).then(function(e){return t.from(e)})},function(e){var t=n.md[a].create();return t.update(e),t=t.digest().native(),Promise.resolve(t)}))}}),e.exports=o}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){var n=r(96),i=r(17),o=r(171),a=r(170),s=r(19),u=r(95),l=r(94),c=r(105),f=r(169),h=r(58),p=r(86),d=r(29),g=r(7);e.exports=function(e,r,y,v){if(!e)throw new Error("kty cannot be null");if(!r)throw new Error("keystore cannot be null");if(!y)throw new Error("props cannot be null");if("string"==typeof y&&(y=JSON.parse(y)),!v)throw new Error("cfg cannot be null");var m,b,w=[],C={},E={};y=i(y),m=n({},y[d.INTERNALS.THUMBPRINT_KEY]||{}),delete y[d.INTERNALS.THUMBPRINT_KEY],Object.keys(m).forEach(function(e){var r=m[e];b||(b=r,t.isBuffer(b)&&(b=g.base64url.encode(b))),t.isBuffer(r)||(r=g.base64url.decode(r),m[e]=r)}),y.kty=e,y.kid=y.kid||b||f();var S,T=Object.keys(d.COMMON_PROPS).map(function(e){return d.COMMON_PROPS[e].name});E.base=l(y,T),w=w.concat(Object.keys(E.base)),E.public=i(y),C.public=v.publicKey(E.public),C.public&&(w=w.concat(Object.keys(E.public))),E.private=i(y),C.private=v.privateKey(E.private),C.private&&(w=w.concat(Object.keys(E.private))),E.extra=u(y,w),S=C.public&&"length"in C.public?C.public.length:C.private&&"length"in C.private?C.private.length:NaN,Object.defineProperty(this,"keystore",{value:r,enumerable:!0}),Object.defineProperty(this,"length",{value:S,enumerable:!0}),Object.defineProperty(this,"kty",{value:e,enumerable:!0}),Object.defineProperty(this,"kid",{value:E.base.kid,enumerable:!0}),Object.defineProperty(this,"use",{value:E.base.use||"",enumerable:!0}),Object.defineProperty(this,"alg",{value:E.base.alg||"",enumerable:!0}),Object.defineProperty(this,"thumbprint",{value:function(e){if(e=(e||d.INTERNALS.THUMBPRINT_HASH).toUpperCase(),m[e])return Promise.resolve(m[e]);var t=d.thumbprint(v,E,e);return t.then(function(t){return t&&(m[e]=t),t})}}),Object.defineProperty(this,"algorithms",{value:function(t){var r=[];this.use&&"sig"!==this.use||(t&&p.MODE_SIGN!==t||r.push(p.MODE_SIGN),t&&p.MODE_VERIFY!==t||r.push(p.MODE_VERIFY)),this.use&&"enc"!==this.use||(t&&p.MODE_ENCRYPT!==t||r.push(p.MODE_ENCRYPT),t&&p.MODE_DECRYPT!==t||r.push(p.MODE_DECRYPT),t&&p.MODE_WRAP!==t||r.push(p.MODE_WRAP),t&&p.MODE_UNWRAP!==t||r.push(p.MODE_UNWRAP));var n,i=this,s=r.map(function(e){return v.algorithms.call(i,C,e)});return s=o(s),s=c(s),this.alg&&(n="oct"===e?[this.alg,"dir"]:[this.alg],s=a(s,n)),s}}),Object.defineProperty(this,"supports",{value:function(e,t){return-1!==this.algorithms(t).indexOf(e)}}),Object.defineProperty(this,"has",{value:function(e,t){var r=!1;return(r=(r=(r=r||!!(E.base&&e in E.base))||!!(C.public&&e in C.public))||!!(E.extra&&e in E.extra))||!!(t&&C.private&&e in C.private)}}),Object.defineProperty(this,"get",{value:function(e,t){var r;return E.base&&e in E.base?r=E.base:C.public&&e in C.public?r=C.public:E.extra&&e in E.extra?r=E.extra:t&&C.private&&e in C.private&&(r=C.private),r&&r[e]||null}}),Object.defineProperty(this,"toJSON",{value:function(e,t){Array.isArray(e)&&(t=e,e=!1);var r={};return r=s(r,E.base,E.public,"boolean"==typeof e&&e?E.private:{},E.extra),u(r,t||[])}}),Object.defineProperty(this,"toPEM",{value:function(e){if(null===e&&(e=!1),!v.convertToPEM)throw new Error("Unsupported key type for PEM encoding");var t=e?C.private:C.public;if(!t)throw new Error("Invalid key");return v.convertToPEM.call(this,t,e)}}),Object.defineProperty(this,"toObject",{value:function(e,t){Array.isArray(e)&&(t=e,e=!1);var r={};return r=s(r,E.base,C.public,"boolean"==typeof e&&e?C.private:{},E.extra),u(r,(t||[]).concat("length"))}}),Object.defineProperty(this,"sign",{value:function(e,t,r){if(-1===this.algorithms("sign").indexOf(e))return Promise.reject(new Error("unsupported algorithm"));var n=v.signKey.call(this,e,C);return n?(r=r?i(r):{},v.signProps&&(r=s(r,v.signProps.call(this,e,r))),h.sign(e,n,t,r)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"verify",{value:function(e,t,r,n){if(-1===this.algorithms("verify").indexOf(e))return Promise.reject(new Error("unsupported algorithm"));var o=v.verifyKey.call(this,e,C);return o?(n=n?i(n):{},v.verifyProps&&(n=s(n,v.verifyProps.call(this,e,n))),h.verify(e,o,t,r,n)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"encrypt",{value:function(e,t,r){if(-1===this.algorithms("encrypt").indexOf(e))return Promise.reject(new Error("unsupported algorithm"));var n=v.encryptKey.call(this,e,C);return n?(r=r?i(r):{},v.encryptProps&&(r=s(r,v.encryptProps.call(this,e,r))),h.encrypt(e,n,t,r)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"decrypt",{value:function(e,t,r){if(-1===this.algorithms("decrypt").indexOf(e))return Promise.reject(new Error("unsupported algorithm"));var n=v.decryptKey.call(this,e,C);return n?(r=r?i(r):{},v.decryptProps&&(r=s(r,v.decryptProps.call(this,e,r))),h.decrypt(e,n,t,r)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"wrap",{value:function(e,t,r){if(-1===this.algorithms("wrap").indexOf(e))return Promise.reject(new Error("unsupported algorithm"));var n=v.wrapKey.call(this,e,C);return n?(r=r?i(r):{},v.wrapProps&&(r=s(r,v.wrapProps.call(this,e,r))),h.encrypt(e,n,t,r)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"unwrap",{value:function(e,t,r){if(-1===this.algorithms("unwrap").indexOf(e))return Promise.reject(new Error("unsupported algorithm"));var n=v.unwrapKey.call(this,e,C);return n?(r=r?i(r):{},v.unwrapProps&&(r=s(r,v.unwrapProps.call(this,e,r))),h.decrypt(e,n,t,r)):Promise.reject(new Error("improper key"))}})}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){var n=r(17),i=r(19),o=r(5),a=r(7),s={BaseKey:r(38),helpers:r(29)},u=function(){var e={};Object.defineProperty(this,"register",{value:function(t){if(!t||"string"!=typeof t.kty||!t.kty)throw new Error("invalid Key factory");var r=t.kty;return e[r]=t,this}}),Object.defineProperty(this,"unregister",{value:function(t){if(!t||"string"!=typeof t.kty||!t.kty)throw new Error("invalid Key factory");var r=t.kty;return t===e[r]&&delete e[r],this}}),Object.defineProperty(this,"get",{value:function(t){return e[t||""]||void 0}}),Object.defineProperty(this,"all",{value:function(){return Object.keys(e).map(function(t){return e[t]})}})},l=new u;function c(e,r){var n,i={},u=[],c=r.form,f=r.body,h=null;switch(r=o.asn1.fromDer(f),c){case"private":e.all().some(function(e){if(n)return!1;if(!e.validators)return!1;var t=e.validators.oid,a=e.validators.privateKey;return!!a&&(i={},u=[],(n=o.asn1.validate(r,a,i,u))&&(i.keyOid=o.asn1.oidToDer(t),i.parsed=!0),n)}),i.type="private";break;case"pkcs8":n=o.asn1.validate(r,s.helpers.validators.privateKey,i,u),i.type="private";break;case"public":case"spki":n=o.asn1.validate(r,s.helpers.validators.publicKey,i,u),i.type="public";break;case"pkix":case"x509":if(n=o.asn1.validate(r,s.helpers.validators.certificate,i,u)){i=function(e){return["certIssuer","certSubject"].forEach(function(t){var r=o.pki.RDNAttributesAsArray(e[t]),n=e[t]={};r.forEach(function(e){n[e.name||e.type]=e.value})}),e}(i);var p=o.md.sha1.create();p.update(f),h=a.base64url.encode(t.from(p.digest().toHex(),"hex"))}i.type="public"}return n?(i.keyOid&&(i.keyOid=o.asn1.derToOid(i.keyOid)),n=null,l.all().forEach(function(e){n||e&&"function"==typeof e.import&&(n=e.import(i))}),n&&i.certSubject&&i.certSubject.commonName&&(n.kid=i.certSubject.commonName),n&&h&&(n.x5t=h),n):null}var f=function(e,r){var a={};Object.defineProperty(this,"generate",{value:function(t,r,o){var a=e.get(t);if(!a)return Promise.reject(new Error("unsupported key type"));(o=n(o||{})).kty=t;var s=this;return a.generate(r).then(function(e){return e=i(o,e,{kty:t}),s.add(e)})}}),Object.defineProperty(this,"add",{value:function(r,i,u){var l;if(u=u||{},t.isBuffer(r)||"string"==typeof r)if("json"===(i=(i||"json").toLowerCase()))r=JSON.parse(r.toString("utf8"));else try{if(l="pem"===i?function(e){var t={};if(!o.pem.decode(e).some(function(e){switch(e.type){case"CERTIFICATE":t.form="pkix";break;case"PUBLIC KEY":t.form="spki";break;case"PRIVATE KEY":t.form="pkcs8";break;case"EC PRIVATE KEY":case"RSA PRIVATE KEY":t.form="private";break;default:return!1}return t.body=e.body,!0}))throw new Error("supported PEM type not found");return t}(r):{body:r.toString("binary"),form:i},!(r=c(e,l)))throw new Error("no importer for key");Object.keys(u).forEach(function(e){r[e]=u[e]})}catch(e){return Promise.reject(e)}else r=f.isKey(r)?r.toJSON(!0):n(r);var h=e.get(r.kty);if(!h)return Promise.reject(new Error("unsupported key type"));var p=this;return h.prepare(r).then(function(e){return new s.BaseKey(r.kty,p,r,e)}).then(function(e){var t=e.kid||"";return(a[t]=a[t]||[]).push(e),e})}}),Object.defineProperty(this,"remove",{value:function(e){if(e){var t=a[e.kid];if(t){var r=t.indexOf(e);-1!==r&&(t.splice(r,1),t.length||delete a[e.kid])}}}}),Object.defineProperty(this,"all",{value:function(e,t){void 0!==(e=e||{}).kid&&null!==e.kid&&"string"!=typeof e.kid&&(e.kid=String(e.kid));var n=[],i=function(t){return(!e.kty||!t.kty||e.kty===t.kty)&&(!e.use||!t.use||e.use===t.use)&&(!e.alg||("dir"===e.alg||!t.alg||e.alg===t.alg)&&t.supports(e.alg))};return Object.keys(a).forEach(function(t){if(!e.kid||e.kid===t){var r=a[t].filter(i);r.length&&(n=n.concat(r))}}),!t&&r&&(n=n.concat(r.all(e))),n}}),Object.defineProperty(this,"get",{value:function(e,t,n){"boolean"==typeof e?(n=e,t=e=null):"object"==typeof e&&(n=t,t=e,e=null),t=t||{},e&&(t.kid=e),void 0!==t.kid&&null!==t.kid&&"string"!=typeof t.kid&&(t.kid=String(t.kid));var i=this.all(t,!0);return i.length||!r||n||(i=r.get(t,n)),i[0]||null}}),Object.defineProperty(this,"temp",{value:function(){return new f(e,this)}}),Object.defineProperty(this,"toJSON",{value:function(e){var t=[];return Object.keys(a).forEach(function(r){var n=a[r].map(function(t){return t.toJSON(e)});t=t.concat(n)}),{keys:t}}})};f.isKeyStore=function(e){return!!e&&"object"==typeof e&&"function"==typeof e.get&&"function"==typeof e.all&&"function"==typeof e.generate&&"function"==typeof e.add&&"function"==typeof e.remove},f.createKeyStore=function(){return new f(l)},f.asKeyStore=function(e){if(f.isKeyStore(e))return Promise.resolve(e);var t,r=f.createKeyStore();if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e))t=e;else{if(!("keys"in e))return Promise.reject(new Error("invalid keystore"));t=e.keys}t=t.map(function(e){return r.add(e)});var n=Promise.all(t);return n.then(function(){return r})},f.isKey=function(e){return!!e&&"object"==typeof e&&!!f.isKeyStore(e.keystore)&&"string"==typeof e.kty&&"number"==typeof e.length&&"function"==typeof e.algorithms&&"function"==typeof e.supports&&"function"==typeof e.encrypt&&"function"==typeof e.decrypt&&"function"==typeof e.wrap&&"function"==typeof e.unwrap&&"function"==typeof e.sign&&"function"==typeof e.verify},f.createKey=function(e,t,r){return f.createKeyStore().generate(e,t,r)},f.asKey=function(e,t,r){return f.isKey(e)?Promise.resolve(e):e=f.createKeyStore().add(e,t,r)},e.exports={KeyRegistry:u,KeyStore:f,registry:l}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){var n=r(23),i={encode:function(e,r){return e instanceof ArrayBuffer&&(e=new Uint8Array(e)),t.isBuffer(e)||(e=t.from(e,r)),n.encode(e)},decode:n.toBuffer};e.exports=i}).call(this,r(1).Buffer)},function(e,t,r){var n,i=r(2);function o(e,t,r){this.data=[],null!=e&&("number"==typeof e?this.fromNumber(e,t,r):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function a(){return new o(null)}function s(e,t,r,n,i,o){for(var a=16383&t,s=t>>14;--o>=0;){var u=16383&this.data[e],l=this.data[e++]>>14,c=s*u+l*a;i=((u=a*u+((16383&c)<<14)+r.data[n]+i)>>28)+(c>>14)+s*l,r.data[n++]=268435455&u}return i}e.exports=i.jsbn=i.jsbn||{},i.jsbn.BigInteger=o,"undefined"==typeof navigator?(o.prototype.am=s,n=28):"Microsoft Internet Explorer"==navigator.appName?(o.prototype.am=function(e,t,r,n,i,o){for(var a=32767&t,s=t>>15;--o>=0;){var u=32767&this.data[e],l=this.data[e++]>>15,c=s*u+l*a;i=((u=a*u+((32767&c)<<15)+r.data[n]+(1073741823&i))>>>30)+(c>>>15)+s*l+(i>>>30),r.data[n++]=1073741823&u}return i},n=30):"Netscape"!=navigator.appName?(o.prototype.am=function(e,t,r,n,i,o){for(;--o>=0;){var a=t*this.data[e++]+r.data[n]+i;i=Math.floor(a/67108864),r.data[n++]=67108863&a}return i},n=26):(o.prototype.am=s,n=28),o.prototype.DB=n,o.prototype.DM=(1<<n)-1,o.prototype.DV=1<<n,o.prototype.FV=Math.pow(2,52),o.prototype.F1=52-n,o.prototype.F2=2*n-52;var u,l,c="0123456789abcdefghijklmnopqrstuvwxyz",f=new Array;for(u="0".charCodeAt(0),l=0;l<=9;++l)f[u++]=l;for(u="a".charCodeAt(0),l=10;l<36;++l)f[u++]=l;for(u="A".charCodeAt(0),l=10;l<36;++l)f[u++]=l;function h(e){return c.charAt(e)}function p(e,t){var r=f[e.charCodeAt(t)];return null==r?-1:r}function d(e){var t=a();return t.fromInt(e),t}function g(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function y(e){this.m=e}function v(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function m(e,t){return e&t}function b(e,t){return e|t}function w(e,t){return e^t}function C(e,t){return e&~t}function E(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function S(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function T(){}function A(e){return e}function _(e){this.r2=a(),this.q3=a(),o.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}y.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},y.prototype.revert=function(e){return e},y.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},y.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},y.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},v.prototype.convert=function(e){var t=a();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(o.ZERO)>0&&this.m.subTo(t,t),t},v.prototype.revert=function(e){var t=a();return e.copyTo(t),this.reduce(t),t},v.prototype.reduce=function(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e.data[t],n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},v.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},v.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},o.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s},o.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0},o.prototype.fromString=function(e,t){var r;if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return void this.fromRadix(e,t);r=2}this.t=0,this.s=0;for(var n=e.length,i=!1,a=0;--n>=0;){var s=8==r?255&e[n]:p(e,n);s<0?"-"==e.charAt(n)&&(i=!0):(i=!1,0==a?this.data[this.t++]=s:a+r>this.DB?(this.data[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this.data[this.t++]=s>>this.DB-a):this.data[this.t-1]|=s<<a,(a+=r)>=this.DB&&(a-=this.DB))}8==r&&0!=(128&e[0])&&(this.s=-1,a>0&&(this.data[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),i&&o.ZERO.subTo(this,this)},o.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t},o.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s},o.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s},o.prototype.lShiftTo=function(e,t){var r,n=e%this.DB,i=this.DB-n,o=(1<<i)-1,a=Math.floor(e/this.DB),s=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)t.data[r+a+1]=this.data[r]>>i|s,s=(this.data[r]&o)<<n;for(r=a-1;r>=0;--r)t.data[r]=0;t.data[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()},o.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,i=this.DB-n,o=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)t.data[a-r-1]|=(this.data[a]&o)<<i,t.data[a-r]=this.data[a]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&o)<<i),t.t=this.t-r,t.clamp()}},o.prototype.subTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()},o.prototype.multiplyTo=function(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t.data[i]=0;for(i=0;i<n.t;++i)t.data[i+r.t]=r.am(0,n.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&o.ZERO.subTo(t,t)},o.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()},o.prototype.divRemTo=function(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t)return null!=t&&t.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=a());var s=a(),u=this.s,l=e.s,c=this.DB-g(n.data[n.t-1]);c>0?(n.lShiftTo(c,s),i.lShiftTo(c,r)):(n.copyTo(s),i.copyTo(r));var f=s.t,h=s.data[f-1];if(0!=h){var p=h*(1<<this.F1)+(f>1?s.data[f-2]>>this.F2:0),d=this.FV/p,y=(1<<this.F1)/p,v=1<<this.F2,m=r.t,b=m-f,w=null==t?a():t;for(s.dlShiftTo(b,w),r.compareTo(w)>=0&&(r.data[r.t++]=1,r.subTo(w,r)),o.ONE.dlShiftTo(f,w),w.subTo(s,s);s.t<f;)s.data[s.t++]=0;for(;--b>=0;){var C=r.data[--m]==h?this.DM:Math.floor(r.data[m]*d+(r.data[m-1]+v)*y);if((r.data[m]+=s.am(0,C,r,b,0,f))<C)for(s.dlShiftTo(b,w),r.subTo(w,r);r.data[m]<--C;)r.subTo(w,r)}null!=t&&(r.drShiftTo(f,t),u!=l&&o.ZERO.subTo(t,t)),r.t=f,r.clamp(),c>0&&r.rShiftTo(c,r),u<0&&o.ZERO.subTo(r,r)}}},o.prototype.invDigit=function(){if(this.t<1)return 0;var e=this.data[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},o.prototype.isEven=function(){return 0==(this.t>0?1&this.data[0]:this.s)},o.prototype.exp=function(e,t){if(e>4294967295||e<1)return o.ONE;var r=a(),n=a(),i=t.convert(this),s=g(e)-1;for(i.copyTo(r);--s>=0;)if(t.sqrTo(r,n),(e&1<<s)>0)t.mulTo(n,i,r);else{var u=r;r=n,n=u}return t.revert(r)},o.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var r,n=(1<<t)-1,i=!1,o="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(r=this.data[a]>>s)>0&&(i=!0,o=h(r));a>=0;)s<t?(r=(this.data[a]&(1<<s)-1)<<t-s,r|=this.data[--a]>>(s+=this.DB-t)):(r=this.data[a]>>(s-=t)&n,s<=0&&(s+=this.DB,--a)),r>0&&(i=!0),i&&(o+=h(r));return i?o:"0"},o.prototype.negate=function(){var e=a();return o.ZERO.subTo(this,e),e},o.prototype.abs=function(){return this.s<0?this.negate():this},o.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this.data[r]-e.data[r]))return t;return 0},o.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+g(this.data[this.t-1]^this.s&this.DM)},o.prototype.mod=function(e){var t=a();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(o.ZERO)>0&&e.subTo(t,t),t},o.prototype.modPowInt=function(e,t){var r;return r=e<256||t.isEven()?new y(t):new v(t),this.exp(e,r)},o.ZERO=d(0),o.ONE=d(1),T.prototype.convert=A,T.prototype.revert=A,T.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r)},T.prototype.sqrTo=function(e,t){e.squareTo(t)},_.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=a();return e.copyTo(t),this.reduce(t),t},_.prototype.revert=function(e){return e},_.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},_.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},_.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var k=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],I=(1<<26)/k[k.length-1];o.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},o.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=d(r),i=a(),o=a(),s="";for(this.divRemTo(n,i,o);i.signum()>0;)s=(r+o.intValue()).toString(e).substr(1)+s,i.divRemTo(n,i,o);return o.intValue().toString(e)+s},o.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,a=0,s=0,u=0;u<e.length;++u){var l=p(e,u);l<0?"-"==e.charAt(u)&&0==this.signum()&&(i=!0):(s=t*s+l,++a>=r&&(this.dMultiply(n),this.dAddOffset(s,0),a=0,s=0))}a>0&&(this.dMultiply(Math.pow(t,a)),this.dAddOffset(s,0)),i&&o.ZERO.subTo(this,this)},o.prototype.fromNumber=function(e,t,r){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(o.ONE.shiftLeft(e-1),b,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(o.ONE.shiftLeft(e-1),this);else{var n=new Array,i=7&e;n.length=1+(e>>3),t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}},o.prototype.bitwiseTo=function(e,t,r){var n,i,o=Math.min(e.t,this.t);for(n=0;n<o;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(i=e.s&this.DM,n=o;n<this.t;++n)r.data[n]=t(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<e.t;++n)r.data[n]=t(i,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()},o.prototype.changeBit=function(e,t){var r=o.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r},o.prototype.addTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()},o.prototype.dMultiply=function(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},o.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}},o.prototype.multiplyLowerTo=function(e,t,r){var n,i=Math.min(this.t+e.t,t);for(r.s=0,r.t=i;i>0;)r.data[--i]=0;for(n=r.t-this.t;i<n;++i)r.data[i+this.t]=this.am(0,e.data[i],r,i,0,this.t);for(n=Math.min(e.t,t);i<n;++i)this.am(0,e.data[i],r,i,0,t-i);r.clamp()},o.prototype.multiplyUpperTo=function(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)},o.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(0==t)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r},o.prototype.millerRabin=function(e){var t=this.subtract(o.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n,i=t.shiftRight(r),a={nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(256*Math.random())}},s=0;s<e;++s){do{n=new o(this.bitLength(),a)}while(n.compareTo(o.ONE)<=0||n.compareTo(t)>=0);var u=n.modPow(i,this);if(0!=u.compareTo(o.ONE)&&0!=u.compareTo(t)){for(var l=1;l++<r&&0!=u.compareTo(t);)if(0==(u=u.modPowInt(2,this)).compareTo(o.ONE))return!1;if(0!=u.compareTo(t))return!1}}return!0},o.prototype.clone=function(){var e=a();return this.copyTo(e),e},o.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},o.prototype.byteValue=function(){return 0==this.t?this.s:this.data[0]<<24>>24},o.prototype.shortValue=function(){return 0==this.t?this.s:this.data[0]<<16>>16},o.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},o.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var r,n=this.DB-e*this.DB%8,i=0;if(e-- >0)for(n<this.DB&&(r=this.data[e]>>n)!=(this.s&this.DM)>>n&&(t[i++]=r|this.s<<this.DB-n);e>=0;)n<8?(r=(this.data[e]&(1<<n)-1)<<8-n,r|=this.data[--e]>>(n+=this.DB-8)):(r=this.data[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(t[i++]=r);return t},o.prototype.equals=function(e){return 0==this.compareTo(e)},o.prototype.min=function(e){return this.compareTo(e)<0?this:e},o.prototype.max=function(e){return this.compareTo(e)>0?this:e},o.prototype.and=function(e){var t=a();return this.bitwiseTo(e,m,t),t},o.prototype.or=function(e){var t=a();return this.bitwiseTo(e,b,t),t},o.prototype.xor=function(e){var t=a();return this.bitwiseTo(e,w,t),t},o.prototype.andNot=function(e){var t=a();return this.bitwiseTo(e,C,t),t},o.prototype.not=function(){for(var e=a(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e},o.prototype.shiftLeft=function(e){var t=a();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},o.prototype.shiftRight=function(e){var t=a();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},o.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this.data[e])return e*this.DB+E(this.data[e]);return this.s<0?this.t*this.DB:-1},o.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=S(this.data[r]^t);return e},o.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this.data[t]&1<<e%this.DB)},o.prototype.setBit=function(e){return this.changeBit(e,b)},o.prototype.clearBit=function(e){return this.changeBit(e,C)},o.prototype.flipBit=function(e){return this.changeBit(e,w)},o.prototype.add=function(e){var t=a();return this.addTo(e,t),t},o.prototype.subtract=function(e){var t=a();return this.subTo(e,t),t},o.prototype.multiply=function(e){var t=a();return this.multiplyTo(e,t),t},o.prototype.divide=function(e){var t=a();return this.divRemTo(e,t,null),t},o.prototype.remainder=function(e){var t=a();return this.divRemTo(e,null,t),t},o.prototype.divideAndRemainder=function(e){var t=a(),r=a();return this.divRemTo(e,t,r),new Array(t,r)},o.prototype.modPow=function(e,t){var r,n,i=e.bitLength(),o=d(1);if(i<=0)return o;r=i<18?1:i<48?3:i<144?4:i<768?5:6,n=i<8?new y(t):t.isEven()?new _(t):new v(t);var s=new Array,u=3,l=r-1,c=(1<<r)-1;if(s[1]=n.convert(this),r>1){var f=a();for(n.sqrTo(s[1],f);u<=c;)s[u]=a(),n.mulTo(f,s[u-2],s[u]),u+=2}var h,p,m=e.t-1,b=!0,w=a();for(i=g(e.data[m])-1;m>=0;){for(i>=l?h=e.data[m]>>i-l&c:(h=(e.data[m]&(1<<i+1)-1)<<l-i,m>0&&(h|=e.data[m-1]>>this.DB+i-l)),u=r;0==(1&h);)h>>=1,--u;if((i-=u)<0&&(i+=this.DB,--m),b)s[h].copyTo(o),b=!1;else{for(;u>1;)n.sqrTo(o,w),n.sqrTo(w,o),u-=2;u>0?n.sqrTo(o,w):(p=o,o=w,w=p),n.mulTo(w,s[h],o)}for(;m>=0&&0==(e.data[m]&1<<i);)n.sqrTo(o,w),p=o,o=w,w=p,--i<0&&(i=this.DB-1,--m)}return n.revert(o)},o.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return o.ZERO;for(var r=e.clone(),n=this.clone(),i=d(1),a=d(0),s=d(0),u=d(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),t?(i.isEven()&&a.isEven()||(i.addTo(this,i),a.subTo(e,a)),i.rShiftTo(1,i)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;n.isEven();)n.rShiftTo(1,n),t?(s.isEven()&&u.isEven()||(s.addTo(this,s),u.subTo(e,u)),s.rShiftTo(1,s)):u.isEven()||u.subTo(e,u),u.rShiftTo(1,u);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(s,i),a.subTo(u,a)):(n.subTo(r,n),t&&s.subTo(i,s),u.subTo(a,u))}return 0!=n.compareTo(o.ONE)?o.ZERO:u.compareTo(e)>=0?u.subtract(e):u.signum()<0?(u.addTo(e,u),u.signum()<0?u.add(e):u):u},o.prototype.pow=function(e){return this.exp(e,new T)},o.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),r.rShiftTo(o,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r},o.prototype.isProbablePrime=function(e){var t,r=this.abs();if(1==r.t&&r.data[0]<=k[k.length-1]){for(t=0;t<k.length;++t)if(r.data[0]==k[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<k.length;){for(var n=k[t],i=t+1;i<k.length&&n<I;)n*=k[i++];for(n=r.modInt(n);t<i;)if(n%k[t++]==0)return!1}return r.millerRabin(e)}},function(e,t,r){var n=r(2);if(r(13),r(41),r(22),r(65),r(61),r(9),r(3),void 0===i)var i=n.jsbn.BigInteger;var o=n.asn1;n.pki=n.pki||{},e.exports=n.pki.rsa=n.rsa=n.rsa||{};var a=n.pki,s=[6,4,2,4,2,4,6,2],u={name:"PrivateKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},l={name:"RSAPrivateKey",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},c={name:"RSAPublicKey",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},f=n.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:o.Class.UNIVERSAL,type:o.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},h=function(e){var t;if(!(e.algorithm in a.oids)){var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}t=a.oids[e.algorithm];var n=o.oidToDer(t).getBytes(),i=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]),s=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]);s.value.push(o.create(o.Class.UNIVERSAL,o.Type.OID,!1,n)),s.value.push(o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,""));var u=o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(s),i.value.push(u),o.toDer(i).getBytes()},p=function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);var o;t.dP||(t.dP=t.d.mod(t.p.subtract(i.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(i.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));do{o=new i(n.util.bytesToHex(n.random.getBytes(t.n.bitLength()/8)),16)}while(o.compareTo(t.n)>=0||!o.gcd(t.n).equals(i.ONE));for(var a=(e=e.multiply(o.modPow(t.e,t.n)).mod(t.n)).mod(t.p).modPow(t.dP,t.p),s=e.mod(t.q).modPow(t.dQ,t.q);a.compareTo(s)<0;)a=a.add(t.p);var u=a.subtract(s).multiply(t.qInv).mod(t.p).multiply(t.q).add(s);return u.multiply(o.modInverse(t.n)).mod(t.n)};function d(e,t,r){var i=n.util.createBuffer(),o=Math.ceil(t.n.bitLength()/8);if(e.length>o-11){var a=new Error("Message is too long for PKCS#1 v1.5 padding.");throw a.length=e.length,a.max=o-11,a}i.putByte(0),i.putByte(r);var s,u=o-3-e.length;if(0===r||1===r){s=0===r?0:255;for(var l=0;l<u;++l)i.putByte(s)}else for(;u>0;){var c=0,f=n.random.getBytes(u);for(l=0;l<u;++l)0===(s=f.charCodeAt(l))?++c:i.putByte(s);u=c}return i.putByte(0),i.putBytes(e),i}function g(e,t,r,i){var o=Math.ceil(t.n.bitLength()/8),a=n.util.createBuffer(e),s=a.getByte(),u=a.getByte();if(0!==s||r&&0!==u&&1!==u||!r&&2!=u||r&&0===u&&void 0===i)throw new Error("Encryption block is invalid.");var l=0;if(0===u){l=o-3-i;for(var c=0;c<l;++c)if(0!==a.getByte())throw new Error("Encryption block is invalid.")}else if(1===u)for(l=0;a.length()>1;){if(255!==a.getByte()){--a.read;break}++l}else if(2===u)for(l=0;a.length()>1;){if(0===a.getByte()){--a.read;break}++l}if(0!==a.getByte()||l!==o-3-a.length())throw new Error("Encryption block is invalid.");return a.getBytes()}function y(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=n.util.hexToBytes(t);return r.length>1&&(0===r.charCodeAt(0)&&0==(128&r.charCodeAt(1))||255===r.charCodeAt(0)&&128==(128&r.charCodeAt(1)))?r.substr(1):r}function v(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function m(e){return"undefined"!=typeof window&&"object"==typeof window.crypto&&"object"==typeof window.crypto.subtle&&"function"==typeof window.crypto.subtle[e]}function b(e){return"undefined"!=typeof window&&"object"==typeof window.msCrypto&&"object"==typeof window.msCrypto.subtle&&"function"==typeof window.msCrypto.subtle[e]}function w(e){for(var t=n.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),i=0;i<t.length;++i)r[i]=t.charCodeAt(i);return r}a.rsa.encrypt=function(e,t,r){var o,a=r,s=Math.ceil(t.n.bitLength()/8);!1!==r&&!0!==r?(a=2===r,o=d(e,t,r)):(o=n.util.createBuffer()).putBytes(e);for(var u=new i(o.toHex(),16),l=p(u,t,a).toString(16),c=n.util.createBuffer(),f=s-Math.ceil(l.length/2);f>0;)c.putByte(0),--f;return c.putBytes(n.util.hexToBytes(l)),c.getBytes()},a.rsa.decrypt=function(e,t,r,o){var a=Math.ceil(t.n.bitLength()/8);if(e.length!==a){var s=new Error("Encrypted message length is invalid.");throw s.length=e.length,s.expected=a,s}var u=new i(n.util.createBuffer(e).toHex(),16);if(u.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var l=p(u,t,r).toString(16),c=n.util.createBuffer(),f=a-Math.ceil(l.length/2);f>0;)c.putByte(0),--f;return c.putBytes(n.util.hexToBytes(l)),!1!==o?g(c.getBytes(),t,r):c.getBytes()},a.rsa.createKeyPairGenerationState=function(e,t,r){"string"==typeof e&&(e=parseInt(e,10)),e=e||2048;var o,a=(r=r||{}).prng||n.random,s={nextBytes:function(e){for(var t=a.getBytesSync(e.length),r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}},u=r.algorithm||"PRIMEINC";if("PRIMEINC"!==u)throw new Error("Invalid key generation algorithm: "+u);return(o={algorithm:u,state:0,bits:e,rng:s,eInt:t||65537,e:new i(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null}).e.fromInt(o.eInt),o},a.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new i(null);r.fromInt(30);for(var n,o=0,u=function(e,t){return e|t},l=+new Date,c=0;null===e.keys&&(t<=0||c<t);){if(0===e.state){var f=null===e.p?e.pBits:e.qBits,h=f-1;0===e.pqState?(e.num=new i(f,e.rng),e.num.testBit(h)||e.num.bitwiseTo(i.ONE.shiftLeft(h),u,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),o=0,++e.pqState):1===e.pqState?e.num.bitLength()>f?e.pqState=0:e.num.isProbablePrime(v(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(s[o++%8],0):2===e.pqState?e.pqState=0===e.num.subtract(i.ONE).gcd(e.e).compareTo(i.ONE)?3:0:3===e.pqState&&(e.pqState=0,null===e.p?e.p=e.num:e.q=e.num,null!==e.p&&null!==e.q&&++e.state,e.num=null)}else if(1===e.state)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(2===e.state)e.p1=e.p.subtract(i.ONE),e.q1=e.q.subtract(i.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(3===e.state)0===e.phi.gcd(e.e).compareTo(i.ONE)?++e.state:(e.p=null,e.q=null,e.state=0);else if(4===e.state)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(5===e.state){var p=e.e.modInverse(e.phi);e.keys={privateKey:a.rsa.setPrivateKey(e.n,e.e,p,e.p,e.q,p.mod(e.p1),p.mod(e.q1),e.q.modInverse(e.p)),publicKey:a.rsa.setPublicKey(e.n,e.e)}}c+=(n=+new Date)-l,l=n}return null!==e.keys},a.rsa.generateKeyPair=function(e,t,r,s){if(1===arguments.length?"object"==typeof e?(r=e,e=void 0):"function"==typeof e&&(s=e,e=void 0):2===arguments.length?"number"==typeof e?"function"==typeof t?(s=t,t=void 0):"number"!=typeof t&&(r=t,t=void 0):(r=e,s=t,e=void 0,t=void 0):3===arguments.length&&("number"==typeof t?"function"==typeof r&&(s=r,r=void 0):(s=r,r=t,t=void 0)),r=r||{},void 0===e&&(e=r.bits||2048),void 0===t&&(t=r.e||65537),!n.options.usePureJavaScript&&s&&e>=256&&e<=16384&&(65537===t||3===t)){if(m("generateKey")&&m("exportKey"))return window.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:w(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(e){return window.crypto.subtle.exportKey("pkcs8",e.privateKey)}).then(void 0,function(e){s(e)}).then(function(e){if(e){var t=a.privateKeyFromAsn1(o.fromDer(n.util.createBuffer(e)));s(null,{privateKey:t,publicKey:a.setRsaPublicKey(t.n,t.e)})}});if(b("generateKey")&&b("exportKey")){var u=window.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:w(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);return u.oncomplete=function(e){var t=e.target.result,r=window.msCrypto.subtle.exportKey("pkcs8",t.privateKey);r.oncomplete=function(e){var t=e.target.result,r=a.privateKeyFromAsn1(o.fromDer(n.util.createBuffer(t)));s(null,{privateKey:r,publicKey:a.setRsaPublicKey(r.n,r.e)})},r.onerror=function(e){s(e)}},void(u.onerror=function(e){s(e)})}}var l=a.rsa.createKeyPairGenerationState(e,t,r);if(!s)return a.rsa.stepKeyPairGenerationState(l,0),l.keys;!function(e,t,r){"function"==typeof t&&(r=t,t={});var o={algorithm:{name:(t=t||{}).algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};function s(){u(e.pBits,function(t,n){return t?r(t):(e.p=n,null!==e.q?l(t,e.q):void u(e.qBits,l))})}function u(e,t){n.prime.generateProbablePrime(e,o,t)}function l(t,n){if(t)return r(t);if(e.q=n,e.p.compareTo(e.q)<0){var o=e.p;e.p=e.q,e.q=o}if(0!==e.p.subtract(i.ONE).gcd(e.e).compareTo(i.ONE))return e.p=null,void s();if(0!==e.q.subtract(i.ONE).gcd(e.e).compareTo(i.ONE))return e.q=null,void u(e.qBits,l);if(e.p1=e.p.subtract(i.ONE),e.q1=e.q.subtract(i.ONE),e.phi=e.p1.multiply(e.q1),0!==e.phi.gcd(e.e).compareTo(i.ONE))return e.p=e.q=null,void s();if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits)return e.q=null,void u(e.qBits,l);var c=e.e.modInverse(e.phi);e.keys={privateKey:a.rsa.setPrivateKey(e.n,e.e,c,e.p,e.q,c.mod(e.p1),c.mod(e.q1),e.q.modInverse(e.p)),publicKey:a.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}"prng"in t&&(o.prng=t.prng),s()}(l,r,s)},a.setRsaPublicKey=a.rsa.setPublicKey=function(e,t){var r={n:e,e:t,encrypt:function(e,t,i){if("string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===t)t={encode:function(e,t,r){return d(e,t,2).getBytes()}};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={encode:function(e,t){return n.pkcs1.encode_rsa_oaep(t,e,i)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(t))t={encode:function(e){return e}};else if("string"==typeof t)throw new Error('Unsupported encryption scheme: "'+t+'".');var o=t.encode(e,r,!0);return a.rsa.encrypt(o,r,!0)},verify:function(e,t,n){"string"==typeof n?n=n.toUpperCase():void 0===n&&(n="RSASSA-PKCS1-V1_5"),"RSASSA-PKCS1-V1_5"===n?n={verify:function(e,t){return t=g(t,r,!0),e===o.fromDer(t).value[1].value}}:"NONE"!==n&&"NULL"!==n&&null!==n||(n={verify:function(e,t){return e===g(t,r,!0)}});var i=a.rsa.decrypt(t,r,!0,!1);return n.verify(e,i,r.n.bitLength())}};return r},a.setRsaPrivateKey=a.rsa.setPrivateKey=function(e,t,r,i,o,s,u,l){var c={n:e,e:t,d:r,p:i,q:o,dP:s,dQ:u,qInv:l,decrypt:function(e,t,r){"string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5");var i=a.rsa.decrypt(e,c,!1,!1);if("RSAES-PKCS1-V1_5"===t)t={decode:g};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={decode:function(e,t){return n.pkcs1.decode_rsa_oaep(t,e,r)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(t))throw new Error('Unsupported encryption scheme: "'+t+'".');t={decode:function(e){return e}}}return t.decode(i,c,!1)},sign:function(e,t){var r=!1;"string"==typeof t&&(t=t.toUpperCase()),void 0===t||"RSASSA-PKCS1-V1_5"===t?(t={encode:h},r=1):"NONE"!==t&&"NULL"!==t&&null!==t||(t={encode:function(){return e}},r=1);var n=t.encode(e,c.n.bitLength());return a.rsa.encrypt(n,c,r)}};return c},a.wrapRsaPrivateKey=function(e){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(0).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(a.oids.rsaEncryption).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")]),o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,o.toDer(e).getBytes())])},a.privateKeyFromAsn1=function(e){var t,r,s,c,f,h,p,d,g={},y=[];if(o.validate(e,u,g,y)&&(e=o.fromDer(n.util.createBuffer(g.privateKey))),g={},y=[],!o.validate(e,l,g,y)){var v=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw v.errors=y,v}return t=n.util.createBuffer(g.privateKeyModulus).toHex(),r=n.util.createBuffer(g.privateKeyPublicExponent).toHex(),s=n.util.createBuffer(g.privateKeyPrivateExponent).toHex(),c=n.util.createBuffer(g.privateKeyPrime1).toHex(),f=n.util.createBuffer(g.privateKeyPrime2).toHex(),h=n.util.createBuffer(g.privateKeyExponent1).toHex(),p=n.util.createBuffer(g.privateKeyExponent2).toHex(),d=n.util.createBuffer(g.privateKeyCoefficient).toHex(),a.setRsaPrivateKey(new i(t,16),new i(r,16),new i(s,16),new i(c,16),new i(f,16),new i(h,16),new i(p,16),new i(d,16))},a.privateKeyToAsn1=a.privateKeyToRSAPrivateKey=function(e){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(0).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,y(e.n)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,y(e.e)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,y(e.d)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,y(e.p)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,y(e.q)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,y(e.dP)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,y(e.dQ)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,y(e.qInv))])},a.publicKeyFromAsn1=function(e){var t={},r=[];if(o.validate(e,f,t,r)){var s,u=o.derToOid(t.publicKeyOid);if(u!==a.oids.rsaEncryption)throw(s=new Error("Cannot read public key. Unknown OID.")).oid=u,s;e=t.rsaPublicKey}if(r=[],!o.validate(e,c,t,r))throw(s=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=r,s;var l=n.util.createBuffer(t.publicKeyModulus).toHex(),h=n.util.createBuffer(t.publicKeyExponent).toHex();return a.setRsaPublicKey(new i(l,16),new i(h,16))},a.publicKeyToAsn1=a.publicKeyToSubjectPublicKeyInfo=function(e){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(a.oids.rsaEncryption).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")]),o.create(o.Class.UNIVERSAL,o.Type.BITSTRING,!1,[a.publicKeyToRSAPublicKey(e)])])},a.publicKeyToRSAPublicKey=function(e){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,y(e.n)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,y(e.e))])}},function(e,t,r){var n=r(2);r(9),r(3),(e.exports=n.pss=n.pss||{}).create=function(e){3===arguments.length&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t,r=e.md,i=e.mgf,o=r.digestLength,a=e.salt||null;if("string"==typeof a&&(a=n.util.createBuffer(a)),"saltLength"in e)t=e.saltLength;else{if(null===a)throw new Error("Salt length not specified or specific salt not given.");t=a.length()}if(null!==a&&a.length()!==t)throw new Error("Given salt length does not match length of given salt.");var s=e.prng||n.random;return{encode:function(e,u){var l,c,f=u-1,h=Math.ceil(f/8),p=e.digest().getBytes();if(h<o+t+2)throw new Error("Message is too long to encrypt.");c=null===a?s.getBytesSync(t):a.bytes();var d=new n.util.ByteBuffer;d.fillWithByte(0,8),d.putBytes(p),d.putBytes(c),r.start(),r.update(d.getBytes());var g=r.digest().getBytes(),y=new n.util.ByteBuffer;y.fillWithByte(0,h-t-o-2),y.putByte(1),y.putBytes(c);var v=y.getBytes(),m=h-o-1,b=i.generate(g,m),w="";for(l=0;l<m;l++)w+=String.fromCharCode(v.charCodeAt(l)^b.charCodeAt(l));var C=65280>>8*h-f&255;return(w=String.fromCharCode(w.charCodeAt(0)&~C)+w.substr(1))+g+String.fromCharCode(188)},verify:function(e,a,s){var u,l=s-1,c=Math.ceil(l/8);if(a=a.substr(-c),c<o+t+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==a.charCodeAt(c-1))throw new Error("Encoded message does not end in 0xBC.");var f=c-o-1,h=a.substr(0,f),p=a.substr(f,o),d=65280>>8*c-l&255;if(0!=(h.charCodeAt(0)&d))throw new Error("Bits beyond keysize not zero as expected.");var g=i.generate(p,f),y="";for(u=0;u<f;u++)y+=String.fromCharCode(h.charCodeAt(u)^g.charCodeAt(u));y=String.fromCharCode(y.charCodeAt(0)&~d)+y.substr(1);var v=c-o-t-2;for(u=0;u<v;u++)if(0!==y.charCodeAt(u))throw new Error("Leftmost octets not zero as expected");if(1!==y.charCodeAt(v))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var m=y.substr(-t),b=new n.util.ByteBuffer;return b.fillWithByte(0,8),b.putBytes(e),b.putBytes(m),r.start(),r.update(b.getBytes()),p===r.digest().getBytes()}}}},function(e,t,r){var n=r(2);function i(e,t){n.cipher.registerAlgorithm(e,function(){return new n.des.Algorithm(e,t)})}r(46),r(103),r(3),e.exports=n.des=n.des||{},n.des.startEncrypting=function(e,t,r,n){var i=d({key:e,output:r,decrypt:!1,mode:n||(null===t?"ECB":"CBC")});return i.start(t),i},n.des.createEncryptionCipher=function(e,t){return d({key:e,output:null,decrypt:!1,mode:t})},n.des.startDecrypting=function(e,t,r,n){var i=d({key:e,output:r,decrypt:!0,mode:n||(null===t?"ECB":"CBC")});return i.start(t),i},n.des.createDecryptionCipher=function(e,t){return d({key:e,output:null,decrypt:!0,mode:t})},n.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(e,t){return p(r._keys,e,t,!1)},decrypt:function(e,t){return p(r._keys,e,t,!0)}}}),r._init=!1},n.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=n.util.createBuffer(e.key);if(0===this.name.indexOf("3DES")&&24!==t.length())throw new Error("Invalid Triple-DES key size: "+8*t.length());this._keys=function(e){for(var t,r=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],n=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],i=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],o=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],u=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],l=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],c=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],f=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],p=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],d=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],g=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],y=e.length()>8?3:1,v=[],m=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],b=0,w=0;w<y;w++){var C=e.getInt32(),E=e.getInt32();C^=(t=252645135&(C>>>4^E))<<4,C^=t=65535&((E^=t)>>>-16^C),C^=(t=858993459&(C>>>2^(E^=t<<-16)))<<2,C^=t=65535&((E^=t)>>>-16^C),C^=(t=1431655765&(C>>>1^(E^=t<<-16)))<<1,C^=t=16711935&((E^=t)>>>8^C),t=(C^=(t=1431655765&(C>>>1^(E^=t<<8)))<<1)<<8|(E^=t)>>>20&240,C=E<<24|E<<8&16711680|E>>>8&65280|E>>>24&240,E=t;for(var S=0;S<m.length;++S){m[S]?(C=C<<2|C>>>26,E=E<<2|E>>>26):(C=C<<1|C>>>27,E=E<<1|E>>>27);var T=r[(C&=-15)>>>28]|n[C>>>24&15]|i[C>>>20&15]|o[C>>>16&15]|a[C>>>12&15]|s[C>>>8&15]|u[C>>>4&15],A=l[(E&=-15)>>>28]|c[E>>>24&15]|f[E>>>20&15]|h[E>>>16&15]|p[E>>>12&15]|d[E>>>8&15]|g[E>>>4&15];t=65535&(A>>>16^T),v[b++]=T^t,v[b++]=A^t<<16}}return v}(t),this._init=!0}},i("DES-ECB",n.cipher.modes.ecb),i("DES-CBC",n.cipher.modes.cbc),i("DES-CFB",n.cipher.modes.cfb),i("DES-OFB",n.cipher.modes.ofb),i("DES-CTR",n.cipher.modes.ctr),i("3DES-ECB",n.cipher.modes.ecb),i("3DES-CBC",n.cipher.modes.cbc),i("3DES-CFB",n.cipher.modes.cfb),i("3DES-OFB",n.cipher.modes.ofb),i("3DES-CTR",n.cipher.modes.ctr);var o=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],a=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],s=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],u=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],l=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],c=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],f=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],h=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function p(e,t,r,n){var i,p,d=32===e.length?3:9;i=3===d?n?[30,-2,-2]:[0,32,2]:n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var g=t[0],y=t[1];g^=(p=252645135&(g>>>4^y))<<4,g^=(p=65535&(g>>>16^(y^=p)))<<16,g^=p=858993459&((y^=p)>>>2^g),g^=p=16711935&((y^=p<<2)>>>8^g),g=(g^=(p=1431655765&(g>>>1^(y^=p<<8)))<<1)<<1|g>>>31,y=(y^=p)<<1|y>>>31;for(var v=0;v<d;v+=3){for(var m=i[v+1],b=i[v+2],w=i[v];w!=m;w+=b){var C=y^e[w],E=(y>>>4|y<<28)^e[w+1];p=g,g=y,y=p^(a[C>>>24&63]|u[C>>>16&63]|c[C>>>8&63]|h[63&C]|o[E>>>24&63]|s[E>>>16&63]|l[E>>>8&63]|f[63&E])}p=g,g=y,y=p}y=y>>>1|y<<31,y^=p=1431655765&((g=g>>>1|g<<31)>>>1^y),y^=(p=16711935&(y>>>8^(g^=p<<1)))<<8,y^=(p=858993459&(y>>>2^(g^=p)))<<2,y^=p=65535&((g^=p)>>>16^y),y^=p=252645135&((g^=p<<16)>>>4^y),g^=p<<4,r[0]=g,r[1]=y}function d(e){var t,r="DES-"+((e=e||{}).mode||"CBC").toUpperCase(),i=(t=e.decrypt?n.cipher.createDecipher(r,e.key):n.cipher.createCipher(r,e.key)).start;return t.start=function(e,r){var o=null;r instanceof n.util.ByteBuffer&&(o=r,r={}),(r=r||{}).output=o,r.iv=e,i.call(t,r)},t}},function(e,t,r){(function(t){var n=r(2);r(27),r(16),r(3);var i,o=n.pkcs5=n.pkcs5||{};n.util.isNodejs&&!n.options.usePureJavaScript&&(i=r(102)),e.exports=n.pbkdf2=o.pbkdf2=function(e,r,o,a,s,u){if("function"==typeof s&&(u=s,s=null),n.util.isNodejs&&!n.options.usePureJavaScript&&i.pbkdf2&&(null===s||"object"!=typeof s)&&(i.pbkdf2Sync.length>4||!s||"sha1"===s))return"string"!=typeof s&&(s="sha1"),e=new t(e,"binary"),r=new t(r,"binary"),u?4===i.pbkdf2Sync.length?i.pbkdf2(e,r,o,a,function(e,t){if(e)return u(e);u(null,t.toString("binary"))}):i.pbkdf2(e,r,o,a,s,function(e,t){if(e)return u(e);u(null,t.toString("binary"))}):4===i.pbkdf2Sync.length?i.pbkdf2Sync(e,r,o,a).toString("binary"):i.pbkdf2Sync(e,r,o,a,s).toString("binary");if(void 0!==s&&null!==s||(s="sha1"),"string"==typeof s){if(!(s in n.md.algorithms))throw new Error("Unknown hash algorithm: "+s);s=n.md[s].create()}var l=s.digestLength;if(a>4294967295*l){var c=new Error("Derived key is too long.");if(u)return u(c);throw c}var f=Math.ceil(a/l),h=a-(f-1)*l,p=n.hmac.create();p.start(s,e);var d,g,y,v="";if(!u){for(var m=1;m<=f;++m){p.start(null,null),p.update(r),p.update(n.util.int32ToBytes(m)),d=y=p.digest().getBytes();for(var b=2;b<=o;++b)p.start(null,null),p.update(y),g=p.digest().getBytes(),d=n.util.xorBytes(d,g,l),y=g;v+=m<f?d:d.substr(0,h)}return v}function w(){if(m>f)return u(null,v);p.start(null,null),p.update(r),p.update(n.util.int32ToBytes(m)),d=y=p.digest().getBytes(),b=2,C()}function C(){if(b<=o)return p.start(null,null),p.update(y),g=p.digest().getBytes(),d=n.util.xorBytes(d,g,l),y=g,++b,n.util.setImmediate(C);v+=m<f?d:d.substr(0,h),++m,w()}m=1,w()}}).call(this,r(1).Buffer)},function(e,t,r){var n=r(2);r(3),e.exports=n.cipher=n.cipher||{},n.cipher.algorithms=n.cipher.algorithms||{},n.cipher.createCipher=function(e,t){var r=e;if("string"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+e);return new n.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})},n.cipher.createDecipher=function(e,t){var r=e;if("string"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+e);return new n.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})},n.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),n.cipher.algorithms[e]=t},n.cipher.getAlgorithm=function(e){return(e=e.toUpperCase())in n.cipher.algorithms?n.cipher.algorithms[e]:null};var i=n.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};i.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=n.util.createBuffer(),this.output=e.output||n.util.createBuffer(),this.mode.start(t)},i.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},i.prototype.finish=function(e){!e||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(t){return e(this.blockSize,t,!1)},this.mode.unpad=function(t){return e(this.blockSize,t,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t)||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t)))}},function(e,t,r){(function(t){var r;r=function(){"use strict";var e="undefined"!=typeof window,r=e&&/MSIE |Trident\//.test(navigator.userAgent),n={};e&&(n.supported="requestAnimationFrame"in window,n.supportsTouch="ontouchstart"in window,n.usingTouch=!1,n.dynamicInputDetection=!0,n.iOS=/iPhone|iPad|iPod/.test(navigator.platform)&&!window.MSStream,n.onUserInputChange=function(){});var i={POPPER:".tippy-popper",TOOLTIP:".tippy-tooltip",CONTENT:".tippy-content",BACKDROP:".tippy-backdrop",ARROW:".tippy-arrow",ROUND_ARROW:".tippy-roundarrow",REFERENCE:"[data-tippy]"},o={placement:"top",livePlacement:!0,trigger:"mouseenter focus",animation:"shift-away",html:!1,animateFill:!0,arrow:!1,delay:0,duration:[350,300],interactive:!1,interactiveBorder:2,theme:"dark",size:"regular",distance:10,offset:0,hideOnClick:!0,multiple:!1,followCursor:!1,inertia:!1,updateDuration:350,sticky:!1,appendTo:function(){return document.body},zIndex:9999,touchHold:!1,performance:!1,dynamicTitle:!1,flip:!0,flipBehavior:"flip",arrowType:"sharp",arrowTransform:"",maxWidth:"",target:null,allowTitleHTML:!0,popperOptions:{},createPopperInstanceOnInit:!1,onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){}},a=n.supported&&Object.keys(o);function s(e){return"[object Object]"===Object.prototype.toString.call(e)}function u(e){return[].slice.call(e)}function l(e){for(var t=["","webkit"],r=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<t.length;n++){var i=t[n],o=i?i+r:e;if(void 0!==document.body.style[o])return o}return null}var c=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function p(e){var t=function(t){return e.querySelector(t)};return{tooltip:t(i.TOOLTIP),backdrop:t(i.BACKDROP),content:t(i.CONTENT),arrow:t(i.ARROW)||t(i.ROUND_ARROW)}}function d(e){var t=e.getAttribute("title");t&&e.setAttribute("data-original-title",t),e.removeAttribute("title")}for(var g="undefined"!=typeof window&&"undefined"!=typeof document,y=["Edge","Trident","Firefox"],v=0,m=0;m<y.length;m+=1)if(g&&navigator.userAgent.indexOf(y[m])>=0){v=1;break}var b=g&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},v))}};function w(e){return e&&"[object Function]"==={}.toString.call(e)}function C(e,t){if(1!==e.nodeType)return[];var r=getComputedStyle(e,null);return t?r[t]:r}function E(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function S(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=C(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/(auto|scroll)/.test(r+i+n)?e:S(E(e))}function T(e){var t=e&&e.offsetParent,r=t&&t.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TD","TABLE"].indexOf(t.nodeName)&&"static"===C(t,"position")?T(t):t:e?e.ownerDocument.documentElement:document.documentElement}function A(e){return null!==e.parentNode?A(e.parentNode):e}function _(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var r=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,n=r?e:t,i=r?t:e,o=document.createRange();o.setStart(n,0),o.setEnd(i,0);var a,s,u=o.commonAncestorContainer;if(e!==u&&t!==u||n.contains(i))return"BODY"===(s=(a=u).nodeName)||"HTML"!==s&&T(a.firstElementChild)!==a?T(u):u;var l=A(e);return l.host?_(l.host,t):_(e,A(t).host)}function k(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var n=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||n)[t]}return e[t]}function I(e,t){var r="x"===t?"Left":"Top",n="Left"===r?"Right":"Bottom";return parseFloat(e["border"+r+"Width"],10)+parseFloat(e["border"+n+"Width"],10)}var x=void 0,B=function(){return void 0===x&&(x=-1!==navigator.appVersion.indexOf("MSIE 10")),x};function N(e,t,r,n){return Math.max(t["offset"+e],t["scroll"+e],r["client"+e],r["offset"+e],r["scroll"+e],B()?r["offset"+e]+n["margin"+("Height"===e?"Top":"Left")]+n["margin"+("Height"===e?"Bottom":"Right")]:0)}function L(){var e=document.body,t=document.documentElement,r=B()&&getComputedStyle(t);return{height:N("Height",e,t,r),width:N("Width",e,t,r)}}var R=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},O=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),P=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function F(e){return D({},e,{right:e.left+e.width,bottom:e.top+e.height})}function U(e){var t={};if(B())try{t=e.getBoundingClientRect();var r=k(e,"top"),n=k(e,"left");t.top+=r,t.left+=n,t.bottom+=r,t.right+=n}catch(e){}else t=e.getBoundingClientRect();var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?L():{},a=o.width||e.clientWidth||i.right-i.left,s=o.height||e.clientHeight||i.bottom-i.top,u=e.offsetWidth-a,l=e.offsetHeight-s;if(u||l){var c=C(e);u-=I(c,"x"),l-=I(c,"y"),i.width-=u,i.height-=l}return F(i)}function M(e,t){var r=B(),n="HTML"===t.nodeName,i=U(e),o=U(t),a=S(e),s=C(t),u=parseFloat(s.borderTopWidth,10),l=parseFloat(s.borderLeftWidth,10),c=F({top:i.top-o.top-u,left:i.left-o.left-l,width:i.width,height:i.height});if(c.marginTop=0,c.marginLeft=0,!r&&n){var f=parseFloat(s.marginTop,10),h=parseFloat(s.marginLeft,10);c.top-=u-f,c.bottom-=u-f,c.left-=l-h,c.right-=l-h,c.marginTop=f,c.marginLeft=h}return(r?t.contains(a):t===a&&"BODY"!==a.nodeName)&&(c=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=k(t,"top"),i=k(t,"left"),o=r?-1:1;return e.top+=n*o,e.bottom+=n*o,e.left+=i*o,e.right+=i*o,e}(c,t)),c}function j(e,t,r,n){var i={top:0,left:0},o=_(e,t);if("viewport"===n)i=function(e){var t=e.ownerDocument.documentElement,r=M(e,t),n=Math.max(t.clientWidth,window.innerWidth||0),i=Math.max(t.clientHeight,window.innerHeight||0),o=k(t),a=k(t,"left");return F({top:o-r.top+r.marginTop,left:a-r.left+r.marginLeft,width:n,height:i})}(o);else{var a=void 0;"scrollParent"===n?"BODY"===(a=S(E(t))).nodeName&&(a=e.ownerDocument.documentElement):a="window"===n?e.ownerDocument.documentElement:n;var s=M(a,o);if("HTML"!==a.nodeName||function e(t){var r=t.nodeName;return"BODY"!==r&&"HTML"!==r&&("fixed"===C(t,"position")||e(E(t)))}(o))i=s;else{var u=L(),l=u.height,c=u.width;i.top+=s.top-s.marginTop,i.bottom=l+s.top,i.left+=s.left-s.marginLeft,i.right=c+s.left}}return i.left+=r,i.top+=r,i.right-=r,i.bottom-=r,i}function H(e,t,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=j(r,n,o,i),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},u=Object.keys(s).map(function(e){return D({key:e},s[e],{area:(t=s[e],t.width*t.height)});var t}).sort(function(e,t){return t.area-e.area}),l=u.filter(function(e){var t=e.width,n=e.height;return t>=r.clientWidth&&n>=r.clientHeight}),c=l.length>0?l[0].key:u[0].key,f=e.split("-")[1];return c+(f?"-"+f:"")}function K(e,t,r){return M(r,_(t,r))}function V(e){var t=getComputedStyle(e),r=parseFloat(t.marginTop)+parseFloat(t.marginBottom),n=parseFloat(t.marginLeft)+parseFloat(t.marginRight);return{width:e.offsetWidth+n,height:e.offsetHeight+r}}function z(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function W(e,t,r){r=r.split("-")[0];var n=V(e),i={width:n.width,height:n.height},o=-1!==["right","left"].indexOf(r),a=o?"top":"left",s=o?"left":"top",u=o?"height":"width",l=o?"width":"height";return i[a]=t[a]+t[u]/2-n[u]/2,i[s]=r===s?t[s]-n[l]:t[z(s)],i}function q(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function G(e,t,r){return(void 0===r?e:e.slice(0,function(e,t,r){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===r});var n=q(e,function(e){return e[t]===r});return e.indexOf(n)}(e,"name",r))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var r=e.function||e.fn;e.enabled&&w(r)&&(t.offsets.popper=F(t.offsets.popper),t.offsets.reference=F(t.offsets.reference),t=r(t,e))}),t}function Y(e,t){return e.some(function(e){var r=e.name;return e.enabled&&r===t})}function X(e){for(var t=[!1,"ms","Webkit","Moz","O"],r=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<t.length-1;n++){var i=t[n],o=i?""+i+r:e;if(void 0!==document.body.style[o])return o}return null}function Z(e){var t=e.ownerDocument;return t?t.defaultView:window}function Q(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function J(e,t){Object.keys(t).forEach(function(r){var n="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&Q(t[r])&&(n="px"),e.style[r]=t[r]+n})}function $(e,t,r){var n=q(e,function(e){return e.name===t}),i=!!n&&e.some(function(e){return e.name===r&&e.enabled&&e.order<n.order});if(!i){var o="`"+t+"`",a="`"+r+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}var ee=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],te=ee.slice(3);function re(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=te.indexOf(e),n=te.slice(r+1).concat(te.slice(0,r));return t?n.reverse():n}var ne="flip",ie="clockwise",oe="counterclockwise";var ae={placement:"bottom",eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,r=t.split("-")[0],n=t.split("-")[1];if(n){var i=e.offsets,o=i.reference,a=i.popper,s=-1!==["bottom","top"].indexOf(r),u=s?"left":"top",l=s?"width":"height",c={start:P({},u,o[u]),end:P({},u,o[u]+o[l]-a[l])};e.offsets.popper=D({},a,c[n])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var r,n=t.offset,i=e.placement,o=e.offsets,a=o.popper,s=o.reference,u=i.split("-")[0];return r=Q(+n)?[+n,0]:function(e,t,r,n){var i=[0,0],o=-1!==["right","left"].indexOf(n),a=e.split(/(\+|\-)/).map(function(e){return e.trim()}),s=a.indexOf(q(a,function(e){return-1!==e.search(/,|\s/)}));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,l=-1!==s?[a.slice(0,s).concat([a[s].split(u)[0]]),[a[s].split(u)[1]].concat(a.slice(s+1))]:[a];return(l=l.map(function(e,n){var i=(1===n?!o:o)?"height":"width",a=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,r,n){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],a=i[2];if(!o)return e;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=r;break;case"%":case"%r":default:s=n}return F(s)[t]/100*o}return"vh"===a||"vw"===a?("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o:o}(e,i,t,r)})})).forEach(function(e,t){e.forEach(function(r,n){Q(r)&&(i[t]+=r*("-"===e[n-1]?-1:1))})}),i}(n,a,s,u),"left"===u?(a.top+=r[0],a.left-=r[1]):"right"===u?(a.top+=r[0],a.left+=r[1]):"top"===u?(a.left+=r[0],a.top-=r[1]):"bottom"===u&&(a.left+=r[0],a.top+=r[1]),e.popper=a,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var r=t.boundariesElement||T(e.instance.popper);e.instance.reference===r&&(r=T(r));var n=j(e.instance.popper,e.instance.reference,t.padding,r);t.boundaries=n;var i=t.priority,o=e.offsets.popper,a={primary:function(e){var r=o[e];return o[e]<n[e]&&!t.escapeWithReference&&(r=Math.max(o[e],n[e])),P({},e,r)},secondary:function(e){var r="right"===e?"left":"top",i=o[r];return o[e]>n[e]&&!t.escapeWithReference&&(i=Math.min(o[r],n[e]-("right"===e?o.width:o.height))),P({},r,i)}};return i.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";o=D({},o,a[t](e))}),e.offsets.popper=o,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,r=t.popper,n=t.reference,i=e.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(i),s=a?"right":"bottom",u=a?"left":"top",l=a?"width":"height";return r[s]<o(n[u])&&(e.offsets.popper[u]=o(n[u])-r[l]),r[u]>o(n[s])&&(e.offsets.popper[u]=o(n[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var r;if(!$(e.instance.modifiers,"arrow","keepTogether"))return e;var n=t.element;if("string"==typeof n){if(!(n=e.instance.popper.querySelector(n)))return e}else if(!e.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],o=e.offsets,a=o.popper,s=o.reference,u=-1!==["left","right"].indexOf(i),l=u?"height":"width",c=u?"Top":"Left",f=c.toLowerCase(),h=u?"left":"top",p=u?"bottom":"right",d=V(n)[l];s[p]-d<a[f]&&(e.offsets.popper[f]-=a[f]-(s[p]-d)),s[f]+d>a[p]&&(e.offsets.popper[f]+=s[f]+d-a[p]),e.offsets.popper=F(e.offsets.popper);var g=s[f]+s[l]/2-d/2,y=C(e.instance.popper),v=parseFloat(y["margin"+c],10),m=parseFloat(y["border"+c+"Width"],10),b=g-e.offsets.popper[f]-v-m;return b=Math.max(Math.min(a[l]-d,b),0),e.arrowElement=n,e.offsets.arrow=(P(r={},f,Math.round(b)),P(r,h,""),r),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(Y(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var r=j(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement),n=e.placement.split("-")[0],i=z(n),o=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case ne:a=[n,i];break;case ie:a=re(n);break;case oe:a=re(n,!0);break;default:a=t.behavior}return a.forEach(function(s,u){if(n!==s||a.length===u+1)return e;n=e.placement.split("-")[0],i=z(n);var l=e.offsets.popper,c=e.offsets.reference,f=Math.floor,h="left"===n&&f(l.right)>f(c.left)||"right"===n&&f(l.left)<f(c.right)||"top"===n&&f(l.bottom)>f(c.top)||"bottom"===n&&f(l.top)<f(c.bottom),p=f(l.left)<f(r.left),d=f(l.right)>f(r.right),g=f(l.top)<f(r.top),y=f(l.bottom)>f(r.bottom),v="left"===n&&p||"right"===n&&d||"top"===n&&g||"bottom"===n&&y,m=-1!==["top","bottom"].indexOf(n),b=!!t.flipVariations&&(m&&"start"===o&&p||m&&"end"===o&&d||!m&&"start"===o&&g||!m&&"end"===o&&y);(h||v||b)&&(e.flipped=!0,(h||v)&&(n=a[u+1]),b&&(o="end"===o?"start":"start"===o?"end":o),e.placement=n+(o?"-"+o:""),e.offsets.popper=D({},e.offsets.popper,W(e.instance.popper,e.offsets.reference,e.placement)),e=G(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,r=t.split("-")[0],n=e.offsets,i=n.popper,o=n.reference,a=-1!==["left","right"].indexOf(r),s=-1===["top","left"].indexOf(r);return i[a?"left":"top"]=o[r]-(s?i[a?"width":"height"]:0),e.placement=z(t),e.offsets.popper=F(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!$(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,r=q(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<r.top||t.left>r.right||t.top>r.bottom||t.right<r.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var r=t.x,n=t.y,i=e.offsets.popper,o=q(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a,s,u=void 0!==o?o:t.gpuAcceleration,l=U(T(e.instance.popper)),c={position:i.position},f={left:Math.floor(i.left),top:Math.floor(i.top),bottom:Math.floor(i.bottom),right:Math.floor(i.right)},h="bottom"===r?"top":"bottom",p="right"===n?"left":"right",d=X("transform");if(s="bottom"===h?-l.height+f.bottom:f.top,a="right"===p?-l.width+f.right:f.left,u&&d)c[d]="translate3d("+a+"px, "+s+"px, 0)",c[h]=0,c[p]=0,c.willChange="transform";else{var g="bottom"===h?-1:1,y="right"===p?-1:1;c[h]=s*g,c[p]=a*y,c.willChange=h+", "+p}var v={"x-placement":e.placement};return e.attributes=D({},v,e.attributes),e.styles=D({},c,e.styles),e.arrowStyles=D({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,r;return J(e.instance.popper,e.styles),t=e.instance.popper,r=e.attributes,Object.keys(r).forEach(function(e){!1!==r[e]?t.setAttribute(e,r[e]):t.removeAttribute(e)}),e.arrowElement&&Object.keys(e.arrowStyles).length&&J(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,r,n,i){var o=K(0,t,e),a=H(r.placement,o,t,e,r.modifiers.flip.boundariesElement,r.modifiers.flip.padding);return t.setAttribute("x-placement",a),J(t,{position:"absolute"}),r},gpuAcceleration:void 0}}},se=function(){function e(t,r){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};R(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=b(this.update.bind(this)),this.options=D({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=r&&r.jquery?r[0]:r,this.options.modifiers={},Object.keys(D({},e.Defaults.modifiers,i.modifiers)).forEach(function(t){n.options.modifiers[t]=D({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return D({name:e},n.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&w(e.onLoad)&&e.onLoad(n.reference,n.popper,n.options,e,n.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return O(e,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=K(this.state,this.popper,this.reference),e.placement=H(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.offsets.popper=W(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position="absolute",e=G(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,Y(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.left="",this.popper.style.position="",this.popper.style.top="",this.popper.style[X("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=function(e,t,r,n){r.updateBound=n,Z(e).addEventListener("resize",r.updateBound,{passive:!0});var i=S(e);return function e(t,r,n,i){var o="BODY"===t.nodeName,a=o?t.ownerDocument.defaultView:t;a.addEventListener(r,n,{passive:!0}),o||e(S(a.parentNode),r,n,i),i.push(a)}(i,"scroll",r.updateBound,r.scrollParents),r.scrollElement=i,r.eventsEnabled=!0,r}(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return function(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,Z(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}.call(this)}}]),e}();function ue(e){return e.getAttribute("x-placement").replace(/-.+/,"")}function le(e,t,r,n){return t.length?{scale:1===t.length?""+t[0]:r?t[0]+", "+t[1]:t[1]+", "+t[0],translate:1===t.length?n?-t[0]+"px":t[0]+"px":r?n?t[0]+"px, "+-t[1]+"px":t[0]+"px, "+t[1]+"px":n?-t[1]+"px, "+t[0]+"px":t[1]+"px, "+t[0]+"px"}[e]:""}function ce(e,t){return e?t?e:{X:"Y",Y:"X"}[e]:""}function fe(e,t,r){var n=ue(e),i="top"===n||"bottom"===n,o="right"===n||"bottom"===n,a=function(e){var t=r.match(e);return t?t[1]:""},s=function(e){var t=r.match(e);return t?t[1].split(",").map(parseFloat):[]},u=/translateX?Y?\(([^)]+)\)/,c=/scaleX?Y?\(([^)]+)\)/,f={translate:{axis:a(/translate([XY])/),numbers:s(u)},scale:{axis:a(/scale([XY])/),numbers:s(c)}},h=r.replace(u,"translate"+ce(f.translate.axis,i)+"("+le("translate",f.translate.numbers,i,o)+")").replace(c,"scale"+ce(f.scale.axis,i)+"("+le("scale",f.scale.numbers,i,o)+")");t.style[l("transform")]=h}function he(e){return-(e-o.distance)+"px"}function pe(e){requestAnimationFrame(function(){setTimeout(e,1)})}se.Utils=("undefined"!=typeof window?window:t).PopperUtils,se.placements=ee,se.Defaults=ae;var de={};if(e){var ge=Element.prototype;de=ge.matches||ge.matchesSelector||ge.webkitMatchesSelector||ge.mozMatchesSelector||ge.msMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),r=t.length;--r>=0&&t.item(r)!==this;);return r>-1}}var ye=de;function ve(e,t){return(Element.prototype.closest||function(e){for(var t=this;t;){if(ye.call(t,e))return t;t=t.parentElement}}).call(e,t)}function me(e,t){return Array.isArray(e)?e[t]:e}function be(e,t){e.forEach(function(e){e&&e.setAttribute("data-state",t)})}function we(e,t){e.filter(Boolean).forEach(function(e){e.style[l("transitionDuration")]=t+"ms"})}function Ce(e){var t=window.scrollX||window.pageXOffset,r=window.scrollY||window.pageYOffset;e.focus(),scroll(t,r)}var Ee={},Se=function(e){return function(t){return t===Ee&&e}},Te=function(){function e(t){for(var r in c(this,e),t)this[r]=t[r];this.state={destroyed:!1,visible:!1,enabled:!0},this._=Se({mutationObservers:[]})}return f(e,[{key:"enable",value:function(){this.state.enabled=!0}},{key:"disable",value:function(){this.state.enabled=!1}},{key:"show",value:function(e){var t=this;if(!this.state.destroyed&&this.state.enabled){var r=this.popper,n=this.reference,i=this.options,o=p(r),a=o.tooltip,s=o.backdrop,u=o.content;i.dynamicTitle&&!n.getAttribute("data-original-title")||(n.refObj||document.documentElement.contains(n)?(i.onShow.call(r,this),e=me(void 0!==e?e:i.duration,0),we([r,a,s],0),r.style.visibility="visible",this.state.visible=!0,function(e){var t,r=this.options;if(this.popperInstance?((t=this.popper.style)[l("transform")]=null,t.top=null,t.left=null,this.popperInstance.scheduleUpdate(),r.livePlacement&&!Ae.call(this)&&this.popperInstance.enableEventListeners()):(this.popperInstance=xe.call(this),r.livePlacement||this.popperInstance.disableEventListeners()),!Ae.call(this)){var n=p(this.popper).arrow;n&&(n.style.margin=""),this.popperInstance.reference=this.reference}(function(e,t,r){var n=e.popper,i=e.options,o=i.onCreate,a=i.onUpdate;i.onCreate=i.onUpdate=function(){n.offsetHeight,t&&t(),a(),i.onCreate=o,i.onUpdate=a}})(this.popperInstance,e),r.appendTo.contains(this.popper)||r.appendTo.appendChild(this.popper)}.call(this,function(){if(t.state.visible){if(Ae.call(t)||t.popperInstance.scheduleUpdate(),Ae.call(t)){t.popperInstance.disableEventListeners();var o=me(i.delay,0),c=t._(Ee).lastTriggerEvent;c&&t._(Ee).followCursorListener(o&&t._(Ee).lastMouseMoveEvent?t._(Ee).lastMouseMoveEvent:c)}we([a,s,s?u:null],e),s&&getComputedStyle(s)[l("transform")],i.interactive&&n.classList.add("tippy-active"),i.sticky&&function(){var e=this;pe(function t(){e.popperInstance&&e.popperInstance.scheduleUpdate(),e.popper.style[l("transitionDuration")]=e.options.updateDuration+"ms",e.state.visible?requestAnimationFrame(t):e.popper.style[l("transitionDuration")]=""})}.call(t),be([a,s],"visible"),Le.call(t,e,function(){i.updateDuration||a.classList.add("tippy-notransition"),i.interactive&&Ce(r),n.setAttribute("aria-describedby","tippy-"+t.id),i.onShown.call(r,t)})}})):this.destroy())}}},{key:"hide",value:function(e){var t=this;if(!this.state.destroyed&&this.state.enabled){var r=this.popper,n=this.reference,i=this.options,o=p(r),a=o.tooltip,s=o.backdrop,u=o.content;i.onHide.call(r,this),e=me(void 0!==e?e:i.duration,1),i.updateDuration||a.classList.remove("tippy-notransition"),i.interactive&&n.classList.remove("tippy-active"),r.style.visibility="hidden",this.state.visible=!1,we([a,s,s?u:null],e),be([a,s],"hidden"),i.interactive&&i.trigger.indexOf("click")>-1&&Ce(n),pe(function(){Le.call(t,e,function(){!t.state.visible&&i.appendTo.contains(r)&&(t._(Ee).isPreparingToShow||(document.removeEventListener("mousemove",t._(Ee).followCursorListener),t._(Ee).lastMouseMoveEvent=null),n.removeAttribute("aria-describedby"),t.popperInstance.disableEventListeners(),i.appendTo.removeChild(r),i.onHidden.call(r,t))})})}}},{key:"destroy",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.state.destroyed||(this.state.visible&&this.hide(0),this.listeners.forEach(function(t){e.reference.removeEventListener(t.event,t.handler)}),this.reference.setAttribute("title",this.reference.getAttribute("data-original-title")),delete this.reference._tippy,["data-original-title","data-tippy","data-tippy-delegate"].forEach(function(t){e.reference.removeAttribute(t)}),this.options.target&&t&&u(this.reference.querySelectorAll(this.options.target)).forEach(function(e){return e._tippy&&e._tippy.destroy()}),this.popperInstance&&this.popperInstance.destroy(),this._(Ee).mutationObservers.forEach(function(e){e.disconnect()}),this.state.destroyed=!0)}}]),e}();function Ae(){var e=this._(Ee).lastTriggerEvent;return this.options.followCursor&&!n.usingTouch&&e&&"focus"!==e.type}function _e(e){var t=this,r=this.options;if(Be.call(this),!this.state.visible)if(r.target)(function(e){var t=ve(e.target,this.options.target);if(t&&!t._tippy){var r=t.getAttribute("title")||this.title;r&&(t.setAttribute("title",r),Fe(t,h({},this.options,{target:null})),_e.call(t._tippy,e))}}).call(this,e);else if(this._(Ee).isPreparingToShow=!0,r.wait)r.wait.call(this.popper,this.show.bind(this),e);else{if(Ae.call(this)){this._(Ee).followCursorListener||function(){var e=this;this._(Ee).followCursorListener=function(t){var r=e._(Ee).lastMouseMoveEvent=t,n=r.clientX,i=r.clientY;e.popperInstance&&(e.popperInstance.reference={getBoundingClientRect:function(){return{width:0,height:0,top:i,left:n,right:n,bottom:i}},clientWidth:0,clientHeight:0},e.popperInstance.scheduleUpdate())}}.call(this);var n=p(this.popper).arrow;n&&(n.style.margin="0"),document.addEventListener("mousemove",this._(Ee).followCursorListener)}var i=me(r.delay,0);i?this._(Ee).showTimeout=setTimeout(function(){t.show()},i):this.show()}}function ke(){var e=this;if(Be.call(this),this.state.visible){this._(Ee).isPreparingToShow=!1;var t=me(this.options.delay,1);t?this._(Ee).hideTimeout=setTimeout(function(){e.state.visible&&e.hide()},t):this.hide()}}function Ie(){var e=this;return{onTrigger:function(t){if(e.state.enabled){var r=n.supportsTouch&&n.usingTouch&&["mouseenter","mouseover","focus"].indexOf(t.type)>-1;r&&e.options.touchHold||(e._(Ee).lastTriggerEvent=t,"click"===t.type&&"persistent"!==e.options.hideOnClick&&e.state.visible?ke.call(e):_e.call(e,t),r&&n.iOS&&e.reference.click&&e.reference.click())}},onMouseLeave:function(t){if(!(["mouseleave","mouseout"].indexOf(t.type)>-1&&n.supportsTouch&&n.usingTouch&&e.options.touchHold)){if(e.options.interactive){var r=ke.bind(e);return document.body.addEventListener("mouseleave",r),void document.addEventListener("mousemove",function t(n){var o=ve(n.target,i.REFERENCE),a=ve(n.target,i.POPPER)===e.popper,s=o===e.reference;a||s||function(e,t,r){if(!t.getAttribute("x-placement"))return!0;var n=e.clientX,i=e.clientY,o=r.interactiveBorder,a=r.distance,s=t.getBoundingClientRect(),u=ue(t),l=o+a,c={top:s.top-i>o,bottom:i-s.bottom>o,left:s.left-n>o,right:n-s.right>o};switch(u){case"top":c.top=s.top-i>l;break;case"bottom":c.bottom=i-s.bottom>l;break;case"left":c.left=s.left-n>l;break;case"right":c.right=n-s.right>l}return c.top||c.bottom||c.left||c.right}(n,e.popper,e.options)&&(document.body.removeEventListener("mouseleave",r),document.removeEventListener("mousemove",t),ke.call(e))})}ke.call(e)}},onBlur:function(t){t.target===e.reference&&t.relatedTarget&&!n.usingTouch&&(ve(t.relatedTarget,i.POPPER)||ke.call(e))},onDelegateShow:function(t){ve(t.target,e.options.target)&&_e.call(e,t)},onDelegateHide:function(t){ve(t.target,e.options.target)&&ke.call(e)}}}function xe(){var e=this,t=this.popper,r=this.reference,n=this.options,o=p(t).tooltip,a=n.popperOptions,s="round"===n.arrowType?i.ROUND_ARROW:i.ARROW,u=o.querySelector(s),l=h({placement:n.placement},a||{},{modifiers:h({},a?a.modifiers:{},{arrow:h({element:s},a&&a.modifiers?a.modifiers.arrow:{}),flip:h({enabled:n.flip,padding:n.distance+5,behavior:n.flipBehavior},a&&a.modifiers?a.modifiers.flip:{}),offset:h({offset:n.offset},a&&a.modifiers?a.modifiers.offset:{})}),onCreate:function(){o.style[ue(t)]=he(n.distance),u&&n.arrowTransform&&fe(t,u,n.arrowTransform)},onUpdate:function(){var e=o.style;e.top="",e.bottom="",e.left="",e.right="",e[ue(t)]=he(n.distance),u&&n.arrowTransform&&fe(t,u,n.arrowTransform)}});return Ne.call(this,{target:t,callback:function(){e.popperInstance.update()},options:{childList:!0,subtree:!0,characterData:!0}}),new se(r,t,l)}function Be(){var e=this._(Ee),t=e.showTimeout,r=e.hideTimeout;clearTimeout(t),clearTimeout(r)}function Ne(e){var t=e.target,r=e.callback,n=e.options;if(window.MutationObserver){var i=new MutationObserver(r);i.observe(t,n),this._(Ee).mutationObservers.push(i)}}function Le(e,t){if(!e)return t();var r=p(this.popper).tooltip,n=function(e,t){t&&r[e+"EventListener"]("ontransitionend"in window?"transitionend":"webkitTransitionEnd",t)},i=function e(i){i.target===r&&(n("remove",e),t())};n("remove",this._(Ee).transitionendListener),n("add",i),this._(Ee).transitionendListener=i}var Re=1;function Oe(e,t){return e.reduce(function(e,i){var o=Re,s=function(e,t){return t.arrow&&(t.animateFill=!1),t.appendTo&&"function"==typeof t.appendTo&&(t.appendTo=t.appendTo()),"function"==typeof t.html&&(t.html=t.html(e)),t}(i,t.performance?t:function(e,t){var r=a.reduce(function(r,n){var i=e.getAttribute("data-tippy-"+n.toLowerCase())||t[n];return"false"===i&&(i=!1),"true"===i&&(i=!0),isFinite(i)&&!isNaN(parseFloat(i))&&(i=parseFloat(i)),"target"!==n&&"string"==typeof i&&"["===i.trim().charAt(0)&&(i=JSON.parse(i)),r[n]=i,r},{});return h({},t,r)}(i,t)),u=i.getAttribute("title");if(!(u||s.target||s.html||s.dynamicTitle))return e;i.setAttribute(s.target?"data-tippy-delegate":"data-tippy",""),d(i);var c=function(e,t,r){var n=r.arrow,i=r.arrowType,o=r.arrowTransform,a=r.animateFill,s=r.inertia,u=r.animation,c=r.size,f=r.theme,h=r.html,p=r.zIndex,d=r.interactive,g=r.maxWidth,y=r.allowTitleHTML,v=document.createElement("div");v.setAttribute("class","tippy-popper"),v.setAttribute("role","tooltip"),v.setAttribute("id","tippy-"+e),v.style.zIndex=p,v.style.maxWidth=g;var m=document.createElement("div");if(m.setAttribute("class","tippy-tooltip"),m.setAttribute("data-size",c),m.setAttribute("data-animation",u),m.setAttribute("data-state","hidden"),f.split(" ").forEach(function(e){m.classList.add(e+"-theme")}),n){var b=document.createElement("div");b.style[l("transform")]=o,"round"===i?(b.classList.add("tippy-roundarrow"),b.innerHTML='<svg viewBox="0 0 24 8" xmlns="http://www.w3.org/2000/svg"><path d="M3 8s2.021-.015 5.253-4.218C9.584 2.051 10.797 1.007 12 1c1.203-.007 2.416 1.035 3.761 2.782C19.012 8.005 21 8 21 8H3z"/></svg>'):b.classList.add("tippy-arrow"),m.appendChild(b)}if(a){m.setAttribute("data-animatefill","");var w=document.createElement("div");w.setAttribute("data-state","hidden"),w.classList.add("tippy-backdrop"),m.appendChild(w)}s&&m.setAttribute("data-inertia",""),d&&m.setAttribute("data-interactive","");var C=document.createElement("div");if(C.setAttribute("class","tippy-content"),h){var E=void 0;h instanceof Element?(C.appendChild(h),E="#"+h.id||"tippy-html-template"):(C.innerHTML=document.querySelector(h).innerHTML,E=h),v.setAttribute("data-html",""),d&&v.setAttribute("tabindex","-1"),m.setAttribute("data-template-id",E)}else C[y?"innerHTML":"textContent"]=t;return m.appendChild(C),v.appendChild(m),v}(o,u,s),f=new Te({id:o,reference:i,popper:c,options:s,title:u,popperInstance:null});s.createPopperInstanceOnInit&&(f.popperInstance=xe.call(f),f.popperInstance.disableEventListeners());var g=Ie.call(f);return f.listeners=s.trigger.trim().split(" ").reduce(function(e,t){return e.concat(function(e,t,i,o){var a=i.onTrigger,s=i.onMouseLeave,u=i.onBlur,l=i.onDelegateShow,c=i.onDelegateHide,f=[];if("manual"===e)return f;var h=function(e,r){t.addEventListener(e,r),f.push({event:e,handler:r})};return o.target?(n.supportsTouch&&o.touchHold&&(h("touchstart",l),h("touchend",c)),"mouseenter"===e&&(h("mouseover",l),h("mouseout",c)),"focus"===e&&(h("focusin",l),h("focusout",c)),"click"===e&&h("click",l)):(h(e,a),n.supportsTouch&&o.touchHold&&(h("touchstart",a),h("touchend",s)),"mouseenter"===e&&h("mouseleave",s),"focus"===e&&h(r?"focusout":"blur",u)),f}(t,i,g,s))},[]),s.dynamicTitle&&Ne.call(f,{target:i,callback:function(){var e=p(c).content,t=i.getAttribute("title");t&&(e[s.allowTitleHTML?"innerHTML":"textContent"]=f.title=t,d(i))},options:{attributes:!0}}),i._tippy=f,c._tippy=f,c._reference=i,e.push(f),Re++,e},[])}function Pe(e){u(document.querySelectorAll(i.POPPER)).forEach(function(t){var r=t._tippy;if(r){var n=r.options;!(!0===n.hideOnClick||n.trigger.indexOf("focus")>-1)||e&&t===e.popper||r.hide()}})}var De=!1;function Fe(e,t){var r,a,l;return n.supported&&!De&&(a=function(){n.usingTouch||(n.usingTouch=!0,n.iOS&&document.body.classList.add("tippy-touch"),n.dynamicInputDetection&&window.performance&&document.addEventListener("mousemove",l),n.onUserInputChange("touch"))},r=void 0,l=function(){var e=performance.now();e-r<20&&(n.usingTouch=!1,document.removeEventListener("mousemove",l),n.iOS||document.body.classList.remove("tippy-touch"),n.onUserInputChange("mouse")),r=e},document.addEventListener("click",function(e){if(!(e.target instanceof Element))return Pe();var t=ve(e.target,i.REFERENCE),r=ve(e.target,i.POPPER);if(!r||!r._reference._tippy.options.interactive){if(t){var o=t._tippy.options;if(!o.multiple&&n.usingTouch||!o.multiple&&o.trigger.indexOf("click")>-1)return Pe(t._tippy);if(!0!==o.hideOnClick||o.trigger.indexOf("click")>-1)return}Pe()}}),document.addEventListener("touchstart",a),window.addEventListener("blur",function(){var e=document.activeElement;e&&e.blur&&ye.call(e,i.REFERENCE)&&e.blur()}),window.addEventListener("resize",function(){u(document.querySelectorAll(i.POPPER)).forEach(function(e){var t=e._tippy;t.options.livePlacement||t.popperInstance.scheduleUpdate()})}),n.supportsTouch||!navigator.maxTouchPoints&&!navigator.msMaxTouchPoints||document.addEventListener("pointerdown",a),De=!0),s(e)&&(e.refObj=!0,e.attributes=e.attributes||{},e.setAttribute=function(t,r){e.attributes[t]=r},e.getAttribute=function(t){return e.attributes[t]},e.removeAttribute=function(t){delete e.attributes[t]},e.addEventListener=function(){},e.removeEventListener=function(){},e.classList={classNames:{},add:function(t){return e.classList.classNames[t]=!0},remove:function(t){return delete e.classList.classNames[t],!0},contains:function(t){return!!e.classList.classNames[t]}}),t=h({},o,t),{selector:e,options:t,tooltips:n.supported?Oe(function(e){if(e instanceof Element||s(e))return[e];if(e instanceof NodeList)return u(e);if(Array.isArray(e))return e;try{return u(document.querySelectorAll(e))}catch(e){return[]}}(e),t):[],destroyAll:function(){this.tooltips.forEach(function(e){return e.destroy()}),this.tooltips=[]}}}return Fe.browser=n,Fe.defaults=o,Fe.disableAnimations=function(){o.updateDuration=o.duration=0,o.animateFill=!1},function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e&&n.supported){var r=document.head||document.querySelector("head"),i=document.createElement("style");i.type="text/css",r.insertBefore(i,r.firstChild),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}('.tippy-touch{cursor:pointer!important}.tippy-notransition{-webkit-transition:none!important;transition:none!important}.tippy-popper{max-width:350px;-webkit-perspective:700px;perspective:700px;z-index:9999;outline:0;-webkit-transition-timing-function:cubic-bezier(.165,.84,.44,1);transition-timing-function:cubic-bezier(.165,.84,.44,1);pointer-events:none;line-height:1.4}.tippy-popper[data-html]{max-width:96%;max-width:calc(100% - 20px)}.tippy-popper[x-placement^=top] .tippy-backdrop{border-radius:40% 40% 0 0}.tippy-popper[x-placement^=top] .tippy-roundarrow{bottom:-8px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.tippy-popper[x-placement^=top] .tippy-arrow{border-top:7px solid #333;border-right:7px solid transparent;border-left:7px solid transparent;bottom:-7px;margin:0 6px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-backdrop{-webkit-transform-origin:0 90%;transform-origin:0 90%}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(5.5) translate(-50%,25%);transform:scale(5.5) translate(-50%,25%);opacity:1}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1) translate(-50%,25%);transform:scale(1) translate(-50%,25%);opacity:0}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(-20px);transform:translateY(-20px)}.tippy-popper[x-placement^=top] [data-animation=perspective]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px) rotateX(0);transform:translateY(-10px) rotateX(0)}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) rotateX(90deg);transform:translateY(0) rotateX(90deg)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px) scale(1);transform:translateY(-10px) scale(1)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) scale(0);transform:translateY(0) scale(0)}.tippy-popper[x-placement^=bottom] .tippy-backdrop{border-radius:0 0 30% 30%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow{top:-8px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(0);transform:rotate(0)}.tippy-popper[x-placement^=bottom] .tippy-arrow{border-bottom:7px solid #333;border-right:7px solid transparent;border-left:7px solid transparent;top:-7px;margin:0 6px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-backdrop{-webkit-transform-origin:0 -90%;transform-origin:0 -90%}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(5.5) translate(-50%,-125%);transform:scale(5.5) translate(-50%,-125%);opacity:1}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1) translate(-50%,-125%);transform:scale(1) translate(-50%,-125%);opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(20px);transform:translateY(20px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateY(10px) rotateX(0);transform:translateY(10px) rotateX(0)}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) rotateX(-90deg);transform:translateY(0) rotateX(-90deg)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateY(10px) scale(1);transform:translateY(10px) scale(1)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) scale(0);transform:translateY(0) scale(0)}.tippy-popper[x-placement^=left] .tippy-backdrop{border-radius:30% 0 0 30%}.tippy-popper[x-placement^=left] .tippy-roundarrow{right:-16px;-webkit-transform-origin:33.33333333% 50%;transform-origin:33.33333333% 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.tippy-popper[x-placement^=left] .tippy-arrow{border-left:7px solid #333;border-top:7px solid transparent;border-bottom:7px solid transparent;right:-7px;margin:3px 0;-webkit-transform-origin:0 50%;transform-origin:0 50%}.tippy-popper[x-placement^=left] .tippy-backdrop{-webkit-transform-origin:90% 0;transform-origin:90% 0}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(5.5) translate(33%,-50%);transform:scale(5.5) translate(33%,-50%);opacity:1}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1.5) translate(33%,-50%);transform:scale(1.5) translate(33%,-50%);opacity:0}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(-20px);transform:translateX(-20px)}.tippy-popper[x-placement^=left] [data-animation=perspective]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px) rotateY(0);transform:translateX(-10px) rotateY(0)}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) rotateY(-90deg);transform:translateX(0) rotateY(-90deg)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateX(0);transform:translateX(0)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px) scale(1);transform:translateX(-10px) scale(1)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) scale(0);transform:translateX(0) scale(0)}.tippy-popper[x-placement^=right] .tippy-backdrop{border-radius:0 30% 30% 0}.tippy-popper[x-placement^=right] .tippy-roundarrow{left:-16px;-webkit-transform-origin:66.66666666% 50%;transform-origin:66.66666666% 50%}.tippy-popper[x-placement^=right] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.tippy-popper[x-placement^=right] .tippy-arrow{border-right:7px solid #333;border-top:7px solid transparent;border-bottom:7px solid transparent;left:-7px;margin:3px 0;-webkit-transform-origin:100% 50%;transform-origin:100% 50%}.tippy-popper[x-placement^=right] .tippy-backdrop{-webkit-transform-origin:-90% 0;transform-origin:-90% 0}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(5.5) translate(-133%,-50%);transform:scale(5.5) translate(-133%,-50%);opacity:1}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1.5) translate(-133%,-50%);transform:scale(1.5) translate(-133%,-50%);opacity:0}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(20px);transform:translateX(20px)}.tippy-popper[x-placement^=right] [data-animation=perspective]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateX(10px) rotateY(0);transform:translateX(10px) rotateY(0)}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) rotateY(90deg);transform:translateX(0) rotateY(90deg)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateX(0);transform:translateX(0)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateX(10px) scale(1);transform:translateX(10px) scale(1)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) scale(0);transform:translateX(0) scale(0)}.tippy-tooltip{position:relative;color:#fff;border-radius:4px;font-size:.9rem;padding:.3rem .6rem;text-align:center;will-change:transform;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:#333}.tippy-tooltip[data-size=small]{padding:.2rem .4rem;font-size:.75rem}.tippy-tooltip[data-size=large]{padding:.4rem .8rem;font-size:1rem}.tippy-tooltip[data-animatefill]{overflow:hidden;background-color:transparent}.tippy-tooltip[data-animatefill] .tippy-content{-webkit-transition:-webkit-clip-path cubic-bezier(.46,.1,.52,.98);transition:-webkit-clip-path cubic-bezier(.46,.1,.52,.98);transition:clip-path cubic-bezier(.46,.1,.52,.98);transition:clip-path cubic-bezier(.46,.1,.52,.98),-webkit-clip-path cubic-bezier(.46,.1,.52,.98)}.tippy-tooltip[data-interactive]{pointer-events:auto}.tippy-tooltip[data-inertia][data-state=visible]{-webkit-transition-timing-function:cubic-bezier(.53,2,.36,.85);transition-timing-function:cubic-bezier(.53,2,.36,.85)}.tippy-tooltip[data-inertia][data-state=hidden]{-webkit-transition-timing-function:ease;transition-timing-function:ease}.tippy-arrow,.tippy-roundarrow{position:absolute;width:0;height:0}.tippy-roundarrow{width:24px;height:8px;fill:#333;pointer-events:none}.tippy-roundarrow path{pointer-events:auto}.tippy-backdrop{position:absolute;will-change:transform;background-color:#333;border-radius:50%;width:26%;left:50%;top:50%;z-index:-1;-webkit-transition:all cubic-bezier(.46,.1,.52,.98);transition:all cubic-bezier(.46,.1,.52,.98);-webkit-backface-visibility:hidden;backface-visibility:hidden}.tippy-backdrop:after{content:"";float:left;padding-top:100%}body:not(.tippy-touch) .tippy-tooltip[data-animatefill][data-state=visible] .tippy-content{-webkit-clip-path:ellipse(100% 100% at 50% 50%);clip-path:ellipse(100% 100% at 50% 50%)}body:not(.tippy-touch) .tippy-tooltip[data-animatefill][data-state=hidden] .tippy-content{-webkit-clip-path:ellipse(5% 50% at 50% 50%);clip-path:ellipse(5% 50% at 50% 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=right] .tippy-tooltip[data-animatefill][data-state=visible] .tippy-content{-webkit-clip-path:ellipse(135% 100% at 0 50%);clip-path:ellipse(135% 100% at 0 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=right] .tippy-tooltip[data-animatefill][data-state=hidden] .tippy-content{-webkit-clip-path:ellipse(25% 100% at 0 50%);clip-path:ellipse(25% 100% at 0 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=left] .tippy-tooltip[data-animatefill][data-state=visible] .tippy-content{-webkit-clip-path:ellipse(135% 100% at 100% 50%);clip-path:ellipse(135% 100% at 100% 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=left] .tippy-tooltip[data-animatefill][data-state=hidden] .tippy-content{-webkit-clip-path:ellipse(25% 100% at 100% 50%);clip-path:ellipse(25% 100% at 100% 50%)}@media (max-width:360px){.tippy-popper{max-width:96%;max-width:calc(100% - 20px)}}'),Fe},e.exports=r()}).call(this,r(6))},function(e,t,r){var n=r(2);r(16),r(3);var i=e.exports=n.md5=n.md5||{};n.md.md5=n.md.algorithms.md5=i,i.create=function(){l||function(){o=String.fromCharCode(128),o+=n.util.fillString(String.fromCharCode(0),64),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],s=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],u=new Array(64);for(var e=0;e<64;++e)u[e]=Math.floor(4294967296*Math.abs(Math.sin(e+1)));l=!0}();var e=null,t=n.util.createBuffer(),r=new Array(16),i={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,o=0;o<r;++o)i.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},i}};return i.start(),i.update=function(o,a){"utf8"===a&&(o=n.util.encodeUtf8(o));var s=o.length;i.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var u=i.fullMessageLength.length-1;u>=0;--u)i.fullMessageLength[u]+=s[1],s[1]=s[0]+(i.fullMessageLength[u]/4294967296>>>0),i.fullMessageLength[u]=i.fullMessageLength[u]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(o),c(e,r,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var a=n.util.createBuffer();a.putBytes(t.bytes());var s=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;a.putBytes(o.substr(0,i.blockLength-s));for(var u,l=0,f=i.fullMessageLength.length-1;f>=0;--f)l=(u=8*i.fullMessageLength[f]+l)/4294967296>>>0,a.putInt32Le(u>>>0);var h={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};c(h,r,a);var p=n.util.createBuffer();return p.putInt32Le(h.h0),p.putInt32Le(h.h1),p.putInt32Le(h.h2),p.putInt32Le(h.h3),p},i};var o=null,a=null,s=null,u=null,l=!1;function c(e,t,r){for(var n,i,o,l,c,f,h,p=r.length();p>=64;){for(i=e.h0,o=e.h1,l=e.h2,c=e.h3,h=0;h<16;++h)t[h]=r.getInt32Le(),n=i+(c^o&(l^c))+u[h]+t[h],i=c,c=l,l=o,o+=n<<(f=s[h])|n>>>32-f;for(;h<32;++h)n=i+(l^c&(o^l))+u[h]+t[a[h]],i=c,c=l,l=o,o+=n<<(f=s[h])|n>>>32-f;for(;h<48;++h)n=i+(o^l^c)+u[h]+t[a[h]],i=c,c=l,l=o,o+=n<<(f=s[h])|n>>>32-f;for(;h<64;++h)n=i+(l^(o|~c))+u[h]+t[a[h]],i=c,c=l,l=o,o+=n<<(f=s[h])|n>>>32-f;e.h0=e.h0+i|0,e.h1=e.h1+o|0,e.h2=e.h2+l|0,e.h3=e.h3+c|0,p-=64}}},function(e,t,r){"use strict";(function(t,n,i){var o=r(35).nextTick;function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(void 0),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=m;var s,u=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?n:o;m.WritableState=v;var l=r(28);l.inherits=r(24);var c,f={deprecate:r(141)},h=r(81),p=r(34).Buffer,d=i.Uint8Array||function(){},g=r(80);function y(){}function v(e,t){s=s||r(20),e=e||{};var n=t instanceof s;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,l=e.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(l||0===l)?l:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(o(i,n),o(T,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),T(e,t))}(e,r,n,t,i);else{var a=E(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||C(e,r),n?u(w,e,r,a,i):w(e,r,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function m(e){if(s=s||r(20),!(c.call(m,this)||this instanceof s))return new m(e);this._writableState=new v(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),h.call(this)}function b(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function w(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),T(e,t)}function C(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var s=0,u=!0;r;)i[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;i.allBuffers=u,b(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,c=r.encoding,f=r.callback;if(b(e,t,!1,t.objectMode?1:l.length,l,c,f),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function E(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),T(e,t)})}function T(e,t){var r=E(t);return r&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}l.inherits(m,h),v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===m&&e&&e._writableState instanceof v}})):c=function(e){return e instanceof this},m.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},m.prototype.write=function(e,t,r){var n,i=this._writableState,a=!1,s=!i.objectMode&&(n=e,p.isBuffer(n)||n instanceof d);return s&&!p.isBuffer(e)&&(e=function(e){return p.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=y),i.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),o(t,r)}(this,r):(s||function(e,t,r,n){var i=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o(n,a),i=!1),i}(this,i,e,r))&&(i.pendingcb++,a=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=p.from(t,r)),t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,s,n,i,o);return u}(this,i,s,e,t,r)),a},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||C(this,e))},m.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},m.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},m.prototype._writev=null,m.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,T(e,t),r&&(t.finished?o(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),m.prototype.destroy=g.destroy,m.prototype._undestroy=g.undestroy,m.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,r(14),r(67).setImmediate,r(6))},function(e,t,r){(t=e.exports=r(82)).Stream=t,t.Readable=t,t.Writable=r(49),t.Duplex=r(20),t.Transform=r(78),t.PassThrough=r(140)},function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,a,s,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(o(r=this._events[e]))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(i(r))for(s=Array.prototype.slice.call(arguments,1),a=(l=r.slice()).length,u=0;u<a;u++)l[u].apply(this,s);return!0},r.prototype.addListener=function(e,t){var a;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(a=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!n(t))throw TypeError("listener must be a function");var r=!1;function i(){this.removeListener(e,i),r||(r=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},r.prototype.removeListener=function(e,t){var r,o,a,s;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(r=this._events[e]).length,o=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(r)){for(s=a;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){o=s;break}if(o<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,r){"use strict";var n={createEncrypt:r(146).createEncrypt,createDecrypt:r(123).createDecrypt};e.exports=n},function(e,t,r){"use strict";var n=r(17),i=r(5),o=r(7);function a(e,t){var r=t?["n","e"]:["n","e","d","p","q","dp","dq","qi"];return r=r.map(function(t){return new i.jsbn.BigInteger(e[t].toString("hex"),16)}),(t?i.pki.rsa.setPublicKey:i.pki.rsa.setPrivateKey).apply(i.pki.rsa,r)}e.exports={convertToForge:a,convertToJWK:function(e,t){var r=n(e);return(t?["n","e"]:["n","e","d","p","q","dp","dq","qi"]).forEach(function(e){r[e]=o.base64url.encode(r[e])}),delete r.key_ops,delete r.use,delete r.alg,t&&(delete r.d,delete r.p,delete r.q,delete r.dp,delete r.dq,delete r.qi),r},convertToPem:function(e,t){return e.__cachedPem?e.__cachedPem:(r=t?i.pki.publicKeyToPem(a(e,t)):i.pki.privateKeyToPem(a(e,t)),Object.defineProperty(e,"__cachedPem",{value:r}),r);var r}}},function(e,t,r){"use strict";(function(t){var n=r(17),i=r(89),o=r(5),a=r(7),s={"P-256":256,"P-384":384,"P-521":521};function u(e,t){var r=n(e);return(t?["x","y"]:["d"]).forEach(function(e){r[e]=a.asBuffer(r[e],"base64url")}),r}var l=t.from([4]);e.exports={convertToForge:function(e,t){var r=t?["x","y"]:["d"];return r=r.map(function(t){return new o.jsbn.BigInteger(e[t].toString("hex"),16)}),r=[e.crv].concat(r),(t?i.asPublicKey:i.asPrivateKey).apply(i,r)},convertToJWK:function(e,t){var r=n(e);return(t?["x","y"]:["x","y","d"]).forEach(function(e){r[e]=a.base64url.encode(r[e])}),delete r.key_ops,delete r.use,delete r.alg,t&&delete r.d,r},convertToObj:u,convertToBuffer:function(e,r){return e=u(e,r),r?t.concat([l,e.x,e.y]):e.d},curveSize:function(e){return s[e||""]||NaN}}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){var n=r(10),i=r(5),o=r(30),a=t.from("a6a6a6a6a6a6a6a6","hex");function s(e,r){for(var n=Math.max(e.length,r.length),i=t.alloc(n),o=0;n>o;o++)i[o]=(e[o]||0)^(r[o]||0);return i}function u(e,t){for(var r=[],n=0;e.length>n;n+=t)r.push(e.slice(n,n+t));return r}function l(e){var r=Math.floor(e/4294967296),n=e%4294967296,i=t.alloc(8);return i[0]=255&r>>>24,i[1]=255&r>>>16,i[2]=255&r>>>8,i[3]=255&r>>>0,i[4]=255&n>>>24,i[5]=255&n>>>16,i[6]=255&n>>>8,i[7]=255&n>>>0,i}var c={};["A128KW","A192KW","A256KW"].forEach(function(e){var r=parseInt(/A(\d+)KW/g.exec(e)[1]);c[e]={encrypt:function(e){function r(t,r){if(e!==t.length<<3)throw new Error("invalid key size");if(0<r.length&&0!=r.length%8)throw new Error("invalid data length")}return n.setupFallback(null,function(e,i){try{r(e,i)}catch(e){return Promise.reject(e)}var o={name:"AES-KW"},a=[n.subtleCrypto.importKey("raw",i,{name:"HMAC",hash:"SHA-256"},!0,["sign"]),n.subtleCrypto.importKey("raw",e,o,!0,["wrapKey"])];return(a=(a=Promise.all(a)).then(function(e){return n.subtleCrypto.wrapKey("raw",e[0],e[1],o)})).then(function(e){return{data:e=t.from(e)}})},function(e,n){try{r(e,n)}catch(e){return Promise.reject(e)}var c,f,h,p=i.cipher.createCipher("AES",new o(e)),d=u(n,8);c=a;for(var g=0;6>g;g++)for(var y=0;d.length>y;y++)h=d.length*g+y+1,f=t.concat([c,d[y]]),p.start(),p.update(new o(f)),p.finish(),c=s((f=p.output.native()).slice(0,8),l(h)),d[y]=f.slice(8,16);d=[c].concat(d);var v=t.concat(d);return Promise.resolve({data:v})})}(r),decrypt:function(e){function r(t,r){if(e!==t.length<<3)throw new Error("invalid key size");if(0<r.length-8&&0!=r.length%8)throw new Error("invalid data length")}return n.setupFallback(null,function(e,i){try{r(e,i)}catch(e){return Promise.reject(e)}var o={name:"AES-KW"},a=n.subtleCrypto.importKey("raw",e,o,!0,["unwrapKey"]);return(a=(a=a.then(function(e){return n.subtleCrypto.unwrapKey("raw",i,e,o,{name:"HMAC",hash:"SHA-256"},!0,["sign"])})).then(function(e){return n.subtleCrypto.exportKey("raw",e)})).then(function(e){return t.from(e)})},function(e,n){try{r(e,n)}catch(e){return Promise.reject(e)}var c,f,h=i.cipher.createDecipher("AES",new o(e)),p=u(n,8);c=p[0],p=p.slice(1);for(var d=5;0<=d;--d)for(var g=p.length-1;0<=g;--g)f=s(c,l(p.length*d+g+1)),f=t.concat([f,p[g]]),h.start(),h.update(new o(f)),h.finish(),c=(f=h.output.native()).slice(0,8),p[g]=f.slice(8,16);if(c.toString()!==a.toString())return Promise.reject(new Error("decryption failed"));var y=t.concat(p);return Promise.resolve(y)})}(r)}}),e.exports=c}).call(this,r(1).Buffer)},function(e,t){e.exports=n;var r=null;try{r=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function n(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function i(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=i;var o={},a={};function s(e,t){var r,n,i;return t?(i=0<=(e>>>=0)&&e<256)&&(n=a[e])?n:(r=l(e,(0|e)<0?-1:0,!0),i&&(a[e]=r),r):(i=-128<=(e|=0)&&e<128)&&(n=o[e])?n:(r=l(e,e<0?-1:0,!1),i&&(o[e]=r),r)}function u(e,t){if(isNaN(e))return t?m:v;if(t){if(e<0)return m;if(e>=d)return S}else{if(e<=-g)return T;if(e+1>=g)return E}return e<0?u(-e,t).neg():l(e%p|0,e/p|0,t)}function l(e,t,r){return new n(e,t,r)}n.fromInt=s,n.fromNumber=u,n.fromBits=l;var c=Math.pow;function f(e,t,r){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return v;if("number"==typeof t?(r=t,t=!1):t=!!t,(r=r||10)<2||36<r)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return f(e.substring(1),t,r).neg();for(var i=u(c(r,8)),o=v,a=0;a<e.length;a+=8){var s=Math.min(8,e.length-a),l=parseInt(e.substring(a,a+s),r);if(s<8){var h=u(c(r,s));o=o.mul(h).add(u(l))}else o=(o=o.mul(i)).add(u(l))}return o.unsigned=t,o}function h(e,t){return"number"==typeof e?u(e,t):"string"==typeof e?f(e,t):l(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}n.fromString=f,n.fromValue=h;var p=4294967296,d=p*p,g=d/2,y=s(1<<24),v=s(0);n.ZERO=v;var m=s(0,!0);n.UZERO=m;var b=s(1);n.ONE=b;var w=s(1,!0);n.UONE=w;var C=s(-1);n.NEG_ONE=C;var E=l(-1,2147483647,!1);n.MAX_VALUE=E;var S=l(-1,-1,!0);n.MAX_UNSIGNED_VALUE=S;var T=l(0,-2147483648,!1);n.MIN_VALUE=T;var A=n.prototype;A.toInt=function(){return this.unsigned?this.low>>>0:this.low},A.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},A.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(T)){var t=u(e),r=this.div(t),n=r.mul(t).sub(this);return r.toString(e)+n.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=u(c(e,6),this.unsigned),o=this,a="";;){var s=o.div(i),l=(o.sub(s.mul(i)).toInt()>>>0).toString(e);if((o=s).isZero())return l+a;for(;l.length<6;)l="0"+l;a=""+l+a}},A.getHighBits=function(){return this.high},A.getHighBitsUnsigned=function(){return this.high>>>0},A.getLowBits=function(){return this.low},A.getLowBitsUnsigned=function(){return this.low>>>0},A.getNumBitsAbs=function(){if(this.isNegative())return this.eq(T)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},A.isZero=function(){return 0===this.high&&0===this.low},A.eqz=A.isZero,A.isNegative=function(){return!this.unsigned&&this.high<0},A.isPositive=function(){return this.unsigned||this.high>=0},A.isOdd=function(){return 1==(1&this.low)},A.isEven=function(){return 0==(1&this.low)},A.equals=function(e){return i(e)||(e=h(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},A.eq=A.equals,A.notEquals=function(e){return!this.eq(e)},A.neq=A.notEquals,A.ne=A.notEquals,A.lessThan=function(e){return this.comp(e)<0},A.lt=A.lessThan,A.lessThanOrEqual=function(e){return this.comp(e)<=0},A.lte=A.lessThanOrEqual,A.le=A.lessThanOrEqual,A.greaterThan=function(e){return this.comp(e)>0},A.gt=A.greaterThan,A.greaterThanOrEqual=function(e){return this.comp(e)>=0},A.gte=A.greaterThanOrEqual,A.ge=A.greaterThanOrEqual,A.compare=function(e){if(i(e)||(e=h(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},A.comp=A.compare,A.negate=function(){return!this.unsigned&&this.eq(T)?T:this.not().add(b)},A.neg=A.negate,A.add=function(e){i(e)||(e=h(e));var t=this.high>>>16,r=65535&this.high,n=this.low>>>16,o=65535&this.low,a=e.high>>>16,s=65535&e.high,u=e.low>>>16,c=0,f=0,p=0,d=0;return p+=(d+=o+(65535&e.low))>>>16,f+=(p+=n+u)>>>16,c+=(f+=r+s)>>>16,c+=t+a,l((p&=65535)<<16|(d&=65535),(c&=65535)<<16|(f&=65535),this.unsigned)},A.subtract=function(e){return i(e)||(e=h(e)),this.add(e.neg())},A.sub=A.subtract,A.multiply=function(e){if(this.isZero())return v;if(i(e)||(e=h(e)),r)return l(r.mul(this.low,this.high,e.low,e.high),r.get_high(),this.unsigned);if(e.isZero())return v;if(this.eq(T))return e.isOdd()?T:v;if(e.eq(T))return this.isOdd()?T:v;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(y)&&e.lt(y))return u(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,n=65535&this.high,o=this.low>>>16,a=65535&this.low,s=e.high>>>16,c=65535&e.high,f=e.low>>>16,p=65535&e.low,d=0,g=0,m=0,b=0;return m+=(b+=a*p)>>>16,g+=(m+=o*p)>>>16,m&=65535,g+=(m+=a*f)>>>16,d+=(g+=n*p)>>>16,g&=65535,d+=(g+=o*f)>>>16,g&=65535,d+=(g+=a*c)>>>16,d+=t*p+n*f+o*c+a*s,l((m&=65535)<<16|(b&=65535),(d&=65535)<<16|(g&=65535),this.unsigned)},A.mul=A.multiply,A.divide=function(e){if(i(e)||(e=h(e)),e.isZero())throw Error("division by zero");var t,n,o;if(r)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?r.div_u:r.div_s)(this.low,this.high,e.low,e.high),r.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?m:v;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return m;if(e.gt(this.shru(1)))return w;o=m}else{if(this.eq(T))return e.eq(b)||e.eq(C)?T:e.eq(T)?b:(t=this.shr(1).div(e).shl(1)).eq(v)?e.isNegative()?b:C:(n=this.sub(e.mul(t)),o=t.add(n.div(e)));if(e.eq(T))return this.unsigned?m:v;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=v}for(n=this;n.gte(e);){t=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(t)/Math.LN2),s=a<=48?1:c(2,a-48),f=u(t),p=f.mul(e);p.isNegative()||p.gt(n);)p=(f=u(t-=s,this.unsigned)).mul(e);f.isZero()&&(f=b),o=o.add(f),n=n.sub(p)}return o},A.div=A.divide,A.modulo=function(e){return i(e)||(e=h(e)),r?l((this.unsigned?r.rem_u:r.rem_s)(this.low,this.high,e.low,e.high),r.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},A.mod=A.modulo,A.rem=A.modulo,A.not=function(){return l(~this.low,~this.high,this.unsigned)},A.and=function(e){return i(e)||(e=h(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},A.or=function(e){return i(e)||(e=h(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},A.xor=function(e){return i(e)||(e=h(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},A.shiftLeft=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},A.shl=A.shiftLeft,A.shiftRight=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},A.shr=A.shiftRight,A.shiftRightUnsigned=function(e){if(i(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):l(32===e?t:t>>>e-32,0,this.unsigned)},A.shru=A.shiftRightUnsigned,A.shr_u=A.shiftRightUnsigned,A.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},A.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},A.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},A.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},A.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},function(e,t,r){"use strict";(function(t){var n=r(15),i=r(5),o=r(30),a=r(10),s={};["HS1","HS256","HS384","HS512"].forEach(function(e){s[e]={sign:function(e){var r=e.replace("HS","SHA").toLowerCase(),o=e.replace("HS","SHA-");function s(e,t){return(e=(e||n.HASHLENGTH[o])/8)>t.length?Promise.reject(new Error("invalid key length")):Promise.resolve(t)}return a.setupFallback(function(e,t,n){return s((n=n||{}).length,e).then(function(){var n=a.nodeCrypto.createHmac(r,e);n.update(t);var i=n.digest();return{data:t,mac:i}})},function(e,r,n){var i={name:"HMAC",hash:{name:o}};return s((n=n||{}).length,e).then(function(){return a.subtleCrypto.importKey("raw",e,i,!0,["sign"])}).then(function(e){return a.subtleCrypto.sign(i,e,r)}).then(function(e){var n=t.from(e);return{data:r,mac:n}})},function(e,t,n){return s((n=n||{}).length,e).then(function(){var n=i.hmac.create();return n.start(r,e.toString("binary")),n.update(t),n=n.digest().native(),{data:t,mac:n}})})}(e),verify:function(e){var r=e.replace("HS","SHA").toLowerCase(),s=e.replace("HS","SHA-");function u(e,t,r){e=(e||n.HASHLENGTH[s])/8;for(var i=!0,o=0;e>o;o++)i=i&&t[o]===r[o];return i}return a.setupFallback(function(e,t,n,i){i=i||{};var o=a.nodeCrypto.createHmac(r,e);o.update(t);var s=o.digest();if(!u(i.length,n,s))throw new Error("verification failed");return{data:t,mac:s,valid:!0}},function(e,r,n,i){var o={name:"HMAC",hash:{name:s}};return((i=i||{}).length?a.subtleCrypto.importKey("raw",e,o,!0,["sign"]).then(function(e){return a.subtleCrypto.sign(o,e,r)}).then(function(e){var r=t.from(e);return u(i.length,n,r)}):a.subtleCrypto.importKey("raw",e,o,!0,["verify"]).then(function(e){return a.subtleCrypto.verify(o,e,n,r)})).then(function(e){return e?{data:r,mac:n,valid:!0}:Promise.reject(new Error("verifaction failed"))})},function(e,t,n,a){a=a||{};var s=i.hmac.create();return s.start(r,new o(e)),s.update(t),s=s.digest().native(),u(a.length,n,s)?Promise.resolve({data:t,mac:n,valid:!0}):Promise.reject(new Error("verification failed"))})}(e)}}),e.exports=s}).call(this,r(1).Buffer)},function(e,t,r){"use strict";var n={},i={},o={},a={},s={},u={};[r(166),r(164),r(55),r(90),r(159),r(158),r(156),r(87),r(57),r(155),r(154),r(153),r(37)].forEach(function(e){Object.keys(e).forEach(function(t){var r=e[t];"function"==typeof r.encrypt&&(s[t]=r.encrypt),"function"==typeof r.decrypt&&(u[t]=r.decrypt),"function"==typeof r.sign&&(o[t]=r.sign),"function"==typeof r.verify&&(a[t]=r.verify),"function"==typeof r.digest&&(n[t]=r.digest),"function"==typeof r.derive&&(i[t]=r.derive)})}),t.digest=function(e,t,r){var i=n[e];return i?i(t,r):Promise.reject(new Error("unsupported algorithm: "+e))},t.derive=function(e,t,r){var n=i[e];return n?n(t,r):Promise.reject(new Error("unsupported algorithm: "+e))},t.sign=function(e,t,r,n){var i=o[e];return i?i(t,r,n||{}):Promise.reject(new Error("unsupported algorithm: "+e))},t.verify=function(e,t,r,n,i){var o=a[e];return o?o(t,r,n,i||{}):Promise.reject(new Error("unsupported algorithm: "+e))},t.encrypt=function(e,t,r,n){var i=s[e];return i?i(t,r,n||{}):Promise.reject(new Error("unsupported algorithm: "+e))},t.decrypt=function(e,t,r,n){var i=u[e];return i?i(t,r,n||{}):Promise.reject(new Error("unsupported algorithm: "+e))}},function(e,t,r){var n=r(2);r(16),r(3);var i=e.exports=n.sha512=n.sha512||{};n.md.sha512=n.md.algorithms.sha512=i;var o=n.sha384=n.sha512.sha384=n.sha512.sha384||{};o.create=function(){return i.create("SHA-384")},n.md.sha384=n.md.algorithms.sha384=o,n.sha512.sha256=n.sha512.sha256||{create:function(){return i.create("SHA-512/256")}},n.md["sha512/256"]=n.md.algorithms["sha512/256"]=n.sha512.sha256,n.sha512.sha224=n.sha512.sha224||{create:function(){return i.create("SHA-512/224")}},n.md["sha512/224"]=n.md.algorithms["sha512/224"]=n.sha512.sha224,i.create=function(e){if(s||(a=String.fromCharCode(128),a+=n.util.fillString(String.fromCharCode(0),128),u=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(l={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],l["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],l["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],l["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],s=!0),void 0===e&&(e="SHA-512"),!(e in l))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=l[e],r=null,i=n.util.createBuffer(),o=new Array(80),f=0;f<80;++f)o[f]=new Array(2);var h=64;switch(e){case"SHA-384":h=48;break;case"SHA-512/256":h=32;break;case"SHA-512/224":h=28}var p={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:h,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){p.messageLength=0,p.fullMessageLength=p.messageLength128=[];for(var e=p.messageLengthSize/4,o=0;o<e;++o)p.fullMessageLength.push(0);for(i=n.util.createBuffer(),r=new Array(t.length),o=0;o<t.length;++o)r[o]=t[o].slice(0);return p}};return p.start(),p.update=function(e,t){"utf8"===t&&(e=n.util.encodeUtf8(e));var a=e.length;p.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var s=p.fullMessageLength.length-1;s>=0;--s)p.fullMessageLength[s]+=a[1],a[1]=a[0]+(p.fullMessageLength[s]/4294967296>>>0),p.fullMessageLength[s]=p.fullMessageLength[s]>>>0,a[0]=a[1]/4294967296>>>0;return i.putBytes(e),c(r,o,i),(i.read>2048||0===i.length())&&i.compact(),p},p.digest=function(){var t=n.util.createBuffer();t.putBytes(i.bytes());var s,u=p.fullMessageLength[p.fullMessageLength.length-1]+p.messageLengthSize&p.blockLength-1;t.putBytes(a.substr(0,p.blockLength-u));for(var l=8*p.fullMessageLength[0],f=0;f<p.fullMessageLength.length-1;++f)l+=(s=8*p.fullMessageLength[f+1])/4294967296>>>0,t.putInt32(l>>>0),l=s>>>0;t.putInt32(l);var h=new Array(r.length);for(f=0;f<r.length;++f)h[f]=r[f].slice(0);c(h,o,t);var d,g=n.util.createBuffer();for(d="SHA-512"===e?h.length:"SHA-384"===e?h.length-2:h.length-4,f=0;f<d;++f)g.putInt32(h[f][0]),f===d-1&&"SHA-512/224"===e||g.putInt32(h[f][1]);return g},p};var a=null,s=!1,u=null,l=null;function c(e,t,r){for(var n,i,o,a,s,l,c,f,h,p,d,g,y,v,m,b,w,C,E,S,T,A,_,k,I,x,B,N,L,R,O,P,D,F=r.length();F>=128;){for(B=0;B<16;++B)t[B][0]=r.getInt32()>>>0,t[B][1]=r.getInt32()>>>0;for(;B<80;++B)n=(((N=(R=t[B-2])[0])>>>19|(L=R[1])<<13)^(L>>>29|N<<3)^N>>>6)>>>0,i=((N<<13|L>>>19)^(L<<3|N>>>29)^(N<<26|L>>>6))>>>0,o=(((N=(P=t[B-15])[0])>>>1|(L=P[1])<<31)^(N>>>8|L<<24)^N>>>7)>>>0,a=((N<<31|L>>>1)^(N<<24|L>>>8)^(N<<25|L>>>7))>>>0,O=t[B-7],D=t[B-16],L=i+O[1]+a+D[1],t[B][0]=n+O[0]+o+D[0]+(L/4294967296>>>0)>>>0,t[B][1]=L>>>0;for(d=e[0][0],g=e[0][1],y=e[1][0],v=e[1][1],m=e[2][0],b=e[2][1],w=e[3][0],C=e[3][1],E=e[4][0],S=e[4][1],T=e[5][0],A=e[5][1],_=e[6][0],k=e[6][1],I=e[7][0],x=e[7][1],B=0;B<80;++B)c=((E>>>14|S<<18)^(E>>>18|S<<14)^(S>>>9|E<<23))>>>0,f=(_^E&(T^_))>>>0,s=((d>>>28|g<<4)^(g>>>2|d<<30)^(g>>>7|d<<25))>>>0,l=((d<<4|g>>>28)^(g<<30|d>>>2)^(g<<25|d>>>7))>>>0,h=(d&y|m&(d^y))>>>0,p=(g&v|b&(g^v))>>>0,L=x+(((E<<18|S>>>14)^(E<<14|S>>>18)^(S<<23|E>>>9))>>>0)+((k^S&(A^k))>>>0)+u[B][1]+t[B][1],n=I+c+f+u[B][0]+t[B][0]+(L/4294967296>>>0)>>>0,i=L>>>0,o=s+h+((L=l+p)/4294967296>>>0)>>>0,a=L>>>0,I=_,x=k,_=T,k=A,T=E,A=S,E=w+n+((L=C+i)/4294967296>>>0)>>>0,S=L>>>0,w=m,C=b,m=y,b=v,y=d,v=g,d=n+o+((L=i+a)/4294967296>>>0)>>>0,g=L>>>0;L=e[0][1]+g,e[0][0]=e[0][0]+d+(L/4294967296>>>0)>>>0,e[0][1]=L>>>0,L=e[1][1]+v,e[1][0]=e[1][0]+y+(L/4294967296>>>0)>>>0,e[1][1]=L>>>0,L=e[2][1]+b,e[2][0]=e[2][0]+m+(L/4294967296>>>0)>>>0,e[2][1]=L>>>0,L=e[3][1]+C,e[3][0]=e[3][0]+w+(L/4294967296>>>0)>>>0,e[3][1]=L>>>0,L=e[4][1]+S,e[4][0]=e[4][0]+E+(L/4294967296>>>0)>>>0,e[4][1]=L>>>0,L=e[5][1]+A,e[5][0]=e[5][0]+T+(L/4294967296>>>0)>>>0,e[5][1]=L>>>0,L=e[6][1]+k,e[6][0]=e[6][0]+_+(L/4294967296>>>0)>>>0,e[6][1]=L>>>0,L=e[7][1]+x,e[7][0]=e[7][0]+I+(L/4294967296>>>0)>>>0,e[7][1]=L>>>0,F-=128}}},function(e,t,r){var n=r(2);r(13),r(22),r(99),r(21),r(45),r(97),r(43),r(42),r(3),r(62);var i=n.asn1,o=e.exports=n.pki=n.pki||{};o.pemToDer=function(e){var t=n.pem.decode(e)[0];if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return n.util.createBuffer(t.body)},o.privateKeyFromPem=function(e){var t=n.pem.decode(e)[0];if("PRIVATE KEY"!==t.type&&"RSA PRIVATE KEY"!==t.type){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var a=i.fromDer(t.body);return o.privateKeyFromAsn1(a)},o.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:i.toDer(o.privateKeyToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},o.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:i.toDer(e).getBytes()};return n.pem.encode(r,{maxline:t})}},function(e,t,r){var n=r(2);r(3),r(41),r(9),function(){if(n.prime)e.exports=n.prime;else{var t=e.exports=n.prime=n.prime||{},r=n.jsbn.BigInteger,i=[6,4,2,4,2,4,6,2],o=new r(null);o.fromInt(30);var a=function(e,t){return e|t};t.generateProbablePrime=function(e,t,i){"function"==typeof t&&(i=t,t={});var o=(t=t||{}).algorithm||"PRIMEINC";"string"==typeof o&&(o={name:o}),o.options=o.options||{};var a=t.prng||n.random,l={nextBytes:function(e){for(var t=a.getBytesSync(e.length),r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}};if("PRIMEINC"===o.name)return function(e,t,i,o){return"workers"in i?function(e,t,i,o){if("undefined"==typeof Worker)return s(e,t,i,o);var a=u(e,t),l=i.workers,c=i.workLoad||100,f=30*c/8,h=i.workerScript||"forge/prime.worker.js";if(-1===l)return n.util.estimateCores(function(e,t){e&&(t=2),l=t-1,p()});function p(){l=Math.max(1,l);for(var n=[],i=0;i<l;++i)n[i]=new Worker(h);for(i=0;i<l;++i)n[i].addEventListener("message",p);var s=!1;function p(i){if(!s){var l=i.data;if(l.found){for(var h=0;h<n.length;++h)n[h].terminate();return s=!0,o(null,new r(l.prime,16))}a.bitLength()>e&&(a=u(e,t));var p=a.toString(16);i.target.postMessage({hex:p,workLoad:c}),a.dAddOffset(f,0)}}}p()}(e,t,i,o):s(e,t,i,o)}(e,l,o.options,i);throw new Error("Invalid prime generation algorithm: "+o.name)}}function s(e,t,r,o){var a=u(e,t),s=function(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}(a.bitLength());"millerRabinTests"in r&&(s=r.millerRabinTests);var l=10;"maxBlockTime"in r&&(l=r.maxBlockTime),function e(t,r,o,a,s,l,c){var f=+new Date;do{if(t.bitLength()>r&&(t=u(r,o)),t.isProbablePrime(s))return c(null,t);t.dAddOffset(i[a++%8],0)}while(l<0||+new Date-f<l);n.util.setImmediate(function(){e(t,r,o,a,s,l,c)})}(a,e,t,0,s,l,o)}function u(e,t){var n=new r(e,t),i=e-1;return n.testBit(i)||n.bitwiseTo(r.ONE.shiftLeft(i),a,n),n.dAddOffset(31-n.mod(o).byteValue(),0),n}}()},function(e,t,r){var n=r(2);r(18),r(13),r(44),r(16),r(175),r(22),r(21),r(43),r(42),r(3);var i=n.asn1,o=e.exports=n.pki=n.pki||{},a=o.oids,s={};s.CN=a.commonName,s.commonName="CN",s.C=a.countryName,s.countryName="C",s.L=a.localityName,s.localityName="L",s.ST=a.stateOrProvinceName,s.stateOrProvinceName="ST",s.O=a.organizationName,s.organizationName="O",s.OU=a.organizationalUnitName,s.organizationalUnitName="OU",s.E=a.emailAddress,s.emailAddress="E";var u=n.pki.rsa.publicKeyValidator,l={name:"Certificate",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:i.Class.UNIVERSAL,type:i.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:i.Class.UNIVERSAL,type:i.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:i.Class.UNIVERSAL,type:i.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:i.Class.UNIVERSAL,type:i.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},u,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:i.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:i.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},c={name:"rsapss",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:i.Class.UNIVERSAL,type:i.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:i.Class.UNIVERSAL,type:i.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:i.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:i.Class.UNIVERSAL,type:i.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:i.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:i.Class.UNIVERSAL,type:i.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},f={name:"CertificationRequestInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},u,{name:"CertificationRequestInfo.attributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0}]}]}]},h={name:"CertificationRequest",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[f,{name:"CertificationRequest.signatureAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function p(e,t){"string"==typeof t&&(t={shortName:t});for(var r,n=null,i=0;null===n&&i<e.attributes.length;++i)r=e.attributes[i],t.type&&t.type===r.type?n=r:t.name&&t.name===r.name?n=r:t.shortName&&t.shortName===r.shortName&&(n=r);return n}o.RDNAttributesAsArray=function(e,t){for(var r,n,o,u=[],l=0;l<e.value.length;++l){r=e.value[l];for(var c=0;c<r.value.length;++c)o={},n=r.value[c],o.type=i.derToOid(n.value[0].value),o.value=n.value[1].value,o.valueTagClass=n.value[1].type,o.type in a&&(o.name=a[o.type],o.name in s&&(o.shortName=s[o.name])),t&&(t.update(o.type),t.update(o.value)),u.push(o)}return u},o.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],u=i.derToOid(n.value[0].value),l=n.value[1].value,c=0;c<l.length;++c){var f={};if(f.type=u,f.value=l[c].value,f.valueTagClass=l[c].type,f.type in a&&(f.name=a[f.type],f.name in s&&(f.shortName=s[f.name])),f.type===a.extensionRequest){f.extensions=[];for(var h=0;h<f.value.length;++h)f.extensions.push(o.certificateExtensionFromAsn1(f.value[h]))}t.push(f)}return t};var d=function(e,t,r){var n={};if(e!==a["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:a.sha1},mgf:{algorithmOid:a.mgf1,hash:{algorithmOid:a.sha1}},saltLength:20});var o={},s=[];if(!i.validate(t,c,o,s)){var u=new Error("Cannot read RSASSA-PSS parameter block.");throw u.errors=s,u}return void 0!==o.hashOid&&(n.hash=n.hash||{},n.hash.algorithmOid=i.derToOid(o.hashOid)),void 0!==o.maskGenOid&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=i.derToOid(o.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=i.derToOid(o.maskGenHashOid)),void 0!==o.saltLength&&(n.saltLength=o.saltLength.charCodeAt(0)),n};function g(e){for(var t,r,o=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),a=e.attributes,s=0;s<a.length;++s){var u=(t=a[s]).value,l=i.Type.PRINTABLESTRING;"valueTagClass"in t&&(l=t.valueTagClass)===i.Type.UTF8&&(u=n.util.encodeUtf8(u)),r=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.type).getBytes()),i.create(i.Class.UNIVERSAL,l,!1,u)])]),o.value.push(r)}return o}function y(e){for(var t,r=0;r<e.length;++r){if(void 0===(t=e[r]).name&&(t.type&&t.type in o.oids?t.name=o.oids[t.type]:t.shortName&&t.shortName in s&&(t.name=o.oids[s[t.shortName]])),void 0===t.type){if(!(t.name&&t.name in o.oids))throw(u=new Error("Attribute type not specified.")).attribute=t,u;t.type=o.oids[t.name]}if(void 0===t.shortName&&t.name&&t.name in s&&(t.shortName=s[t.name]),t.type===a.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=i.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var n=0;n<t.extensions.length;++n)t.value.push(o.certificateExtensionToAsn1(v(t.extensions[n])))}var u;if(void 0===t.value)throw(u=new Error("Attribute value not specified.")).attribute=t,u}}function v(e,t){if(t=t||{},void 0===e.name&&e.id&&e.id in o.oids&&(e.name=o.oids[e.id]),void 0===e.id){if(!(e.name&&e.name in o.oids))throw(C=new Error("Extension ID not specified.")).extension=e,C;e.id=o.oids[e.name]}if(void 0!==e.value)return e;if("keyUsage"===e.name){var r=0,s=0,u=0;e.digitalSignature&&(s|=128,r=7),e.nonRepudiation&&(s|=64,r=6),e.keyEncipherment&&(s|=32,r=5),e.dataEncipherment&&(s|=16,r=4),e.keyAgreement&&(s|=8,r=3),e.keyCertSign&&(s|=4,r=2),e.cRLSign&&(s|=2,r=1),e.encipherOnly&&(s|=1,r=0),e.decipherOnly&&(u|=128,r=7);var l=String.fromCharCode(r);0!==u?l+=String.fromCharCode(s)+String.fromCharCode(u):0!==s&&(l+=String.fromCharCode(s)),e.value=i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,l)}else if("basicConstraints"===e.name)e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(i.create(i.Class.UNIVERSAL,i.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in e&&e.value.value.push(i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.pathLenConstraint).getBytes()));else if("extKeyUsage"===e.name){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);var c=e.value.value;for(var f in e)!0===e[f]&&(f in a?c.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a[f]).getBytes())):-1!==f.indexOf(".")&&c.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(f).getBytes())))}else if("nsCertType"===e.name)r=0,s=0,e.client&&(s|=128,r=7),e.server&&(s|=64,r=6),e.email&&(s|=32,r=5),e.objsign&&(s|=16,r=4),e.reserved&&(s|=8,r=3),e.sslCA&&(s|=4,r=2),e.emailCA&&(s|=2,r=1),e.objCA&&(s|=1,r=0),l=String.fromCharCode(r),0!==s&&(l+=String.fromCharCode(s)),e.value=i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,l);else if("subjectAltName"===e.name||"issuerAltName"===e.name){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);for(var h=0;h<e.altNames.length;++h){if(l=(m=e.altNames[h]).value,7===m.type&&m.ip){if(null===(l=n.util.bytesFromIP(m.ip)))throw(C=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e,C}else 8===m.type&&(l=m.oid?i.oidToDer(i.oidToDer(m.oid)):i.oidToDer(l));e.value.value.push(i.create(i.Class.CONTEXT_SPECIFIC,m.type,!1,l))}}else if("subjectKeyIdentifier"===e.name&&t.cert){var p=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=p.toHex(),e.value=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,p.getBytes())}else if("authorityKeyIdentifier"===e.name&&t.cert){if(e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),c=e.value.value,e.keyIdentifier){var d=!0===e.keyIdentifier?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;c.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!1,d))}if(e.authorityCertIssuer){var y=[i.create(i.Class.CONTEXT_SPECIFIC,4,!0,[g(!0===e.authorityCertIssuer?t.cert.issuer:e.authorityCertIssuer)])];c.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,y))}if(e.serialNumber){var v=n.util.hexToBytes(!0===e.serialNumber?t.cert.serialNumber:e.serialNumber);c.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!1,v))}}else if("cRLDistributionPoints"===e.name){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),c=e.value.value;var m,b=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),w=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);for(h=0;h<e.altNames.length;++h){if(l=(m=e.altNames[h]).value,7===m.type&&m.ip){if(null===(l=n.util.bytesFromIP(m.ip)))throw(C=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e,C}else 8===m.type&&(l=m.oid?i.oidToDer(i.oidToDer(m.oid)):i.oidToDer(l));w.value.push(i.create(i.Class.CONTEXT_SPECIFIC,m.type,!1,l))}b.value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[w])),c.push(b)}var C;if(void 0===e.value)throw(C=new Error("Extension value not specified.")).extension=e,C;return e}function m(e,t){switch(e){case a["RSASSA-PSS"]:var r=[];return void 0!==t.hash.algorithmOid&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.hash.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])])),void 0!==t.mgf.algorithmOid&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.mgf.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.mgf.hash.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])])])),void 0!==t.saltLength&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.saltLength).getBytes())])),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,r);default:return i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")}}o.certificateFromPem=function(e,t,r){var a=n.pem.decode(e)[0];if("CERTIFICATE"!==a.type&&"X509 CERTIFICATE"!==a.type&&"TRUSTED CERTIFICATE"!==a.type){var s=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw s.headerType=a.type,s}if(a.procType&&"ENCRYPTED"===a.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var u=i.fromDer(a.body,r);return o.certificateFromAsn1(u,t)},o.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:i.toDer(o.certificateToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},o.publicKeyFromPem=function(e){var t=n.pem.decode(e)[0];if("PUBLIC KEY"!==t.type&&"RSA PUBLIC KEY"!==t.type){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var a=i.fromDer(t.body);return o.publicKeyFromAsn1(a)},o.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:i.toDer(o.publicKeyToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},o.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:i.toDer(o.publicKeyToRSAPublicKey(e)).getBytes()};return n.pem.encode(r,{maxline:t})},o.getPublicKeyFingerprint=function(e,t){var r,a=(t=t||{}).md||n.md.sha1.create();switch(t.type||"RSAPublicKey"){case"RSAPublicKey":r=i.toDer(o.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":r=i.toDer(o.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}a.start(),a.update(r);var s=a.digest();if("hex"===t.encoding){var u=s.toHex();return t.delimiter?u.match(/.{2}/g).join(t.delimiter):u}if("binary"===t.encoding)return s.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".');return s},o.certificationRequestFromPem=function(e,t,r){var a=n.pem.decode(e)[0];if("CERTIFICATE REQUEST"!==a.type){var s=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw s.headerType=a.type,s}if(a.procType&&"ENCRYPTED"===a.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var u=i.fromDer(a.body,r);return o.certificationRequestFromAsn1(u,t)},o.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:i.toDer(o.certificationRequestToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},o.createCertificate=function(){var e={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return p(e.issuer,t)},e.issuer.addField=function(t){y([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return p(e.subject,t)},e.subject.addField=function(t){y([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){y(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){y(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)v(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){"string"==typeof t&&(t={name:t});for(var r,n=null,i=0;null===n&&i<e.extensions.length;++i)r=e.extensions[i],t.id&&r.id===t.id?n=r:t.name&&r.name===t.name&&(n=r);return n},e.sign=function(t,r){e.md=r||n.md.sha1.create();var s=a[e.md.algorithm+"WithRSAEncryption"];if(!s){var u=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw u.algorithm=e.md.algorithm,u}e.signatureOid=e.siginfo.algorithmOid=s,e.tbsCertificate=o.getTBSCertificate(e);var l=i.toDer(e.tbsCertificate);e.md.update(l.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var s=t.issuer,u=e.subject;throw(g=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.")).expectedIssuer=s.attributes,g.actualIssuer=u.attributes,g}var l=t.md;if(null===l){if(t.signatureOid in a)switch(a[t.signatureOid]){case"sha1WithRSAEncryption":l=n.md.sha1.create();break;case"md5WithRSAEncryption":l=n.md.md5.create();break;case"sha256WithRSAEncryption":l=n.md.sha256.create();break;case"sha384WithRSAEncryption":l=n.md.sha384.create();break;case"sha512WithRSAEncryption":l=n.md.sha512.create();break;case"RSASSA-PSS":l=n.md.sha256.create()}if(null===l)throw(g=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=t.signatureOid,g;var c=t.tbsCertificate||o.getTBSCertificate(t),f=i.toDer(c);l.update(f.getBytes())}if(null!==l){var h;switch(t.signatureOid){case a.sha1WithRSAEncryption:h=void 0;break;case a["RSASSA-PSS"]:var p,d,g;if(void 0===(p=a[t.signatureParameters.mgf.hash.algorithmOid])||void 0===n.md[p])throw(g=new Error("Unsupported MGF hash function.")).oid=t.signatureParameters.mgf.hash.algorithmOid,g.name=p,g;if(void 0===(d=a[t.signatureParameters.mgf.algorithmOid])||void 0===n.mgf[d])throw(g=new Error("Unsupported MGF function.")).oid=t.signatureParameters.mgf.algorithmOid,g.name=d,g;if(d=n.mgf[d].create(n.md[p].create()),void 0===(p=a[t.signatureParameters.hash.algorithmOid])||void 0===n.md[p])throw{message:"Unsupported RSASSA-PSS hash function.",oid:t.signatureParameters.hash.algorithmOid,name:p};h=n.pss.create(n.md[p].create(),d,t.signatureParameters.saltLength)}r=e.publicKey.verify(l.digest().getBytes(),t.signature,h)}return r},e.isIssuer=function(t){var r=!1,n=e.issuer,i=t.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){var o,a;r=!0;for(var s=0;r&&s<n.attributes.length;++s)o=n.attributes[s],a=i.attributes[s],o.type===a.type&&o.value===a.value||(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return o.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=a.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var i=e.extensions[r];if(i.id===t){var o=e.generateSubjectKeyIdentifier().getBytes();return n.util.hexToBytes(i.subjectKeyIdentifier)===o}}return!1},e},o.certificateFromAsn1=function(e,t){var r={},s=[];if(!i.validate(e,l,r,s))throw(h=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.")).errors=s,h;if(i.derToOid(r.publicKeyOid)!==o.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var u=o.createCertificate();u.version=r.certVersion?r.certVersion.charCodeAt(0):0;var c=n.util.createBuffer(r.certSerialNumber);u.serialNumber=c.toHex(),u.signatureOid=n.asn1.derToOid(r.certSignatureOid),u.signatureParameters=d(u.signatureOid,r.certSignatureParams,!0),u.siginfo.algorithmOid=n.asn1.derToOid(r.certinfoSignatureOid),u.siginfo.parameters=d(u.siginfo.algorithmOid,r.certinfoSignatureParams,!1),u.signature=r.certSignature;var f=[];if(void 0!==r.certValidity1UTCTime&&f.push(i.utcTimeToDate(r.certValidity1UTCTime)),void 0!==r.certValidity2GeneralizedTime&&f.push(i.generalizedTimeToDate(r.certValidity2GeneralizedTime)),void 0!==r.certValidity3UTCTime&&f.push(i.utcTimeToDate(r.certValidity3UTCTime)),void 0!==r.certValidity4GeneralizedTime&&f.push(i.generalizedTimeToDate(r.certValidity4GeneralizedTime)),f.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(f.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(u.validity.notBefore=f[0],u.validity.notAfter=f[1],u.tbsCertificate=r.tbsCertificate,t){var h;if(u.md=null,u.signatureOid in a)switch(a[u.signatureOid]){case"sha1WithRSAEncryption":u.md=n.md.sha1.create();break;case"md5WithRSAEncryption":u.md=n.md.md5.create();break;case"sha256WithRSAEncryption":u.md=n.md.sha256.create();break;case"sha384WithRSAEncryption":u.md=n.md.sha384.create();break;case"sha512WithRSAEncryption":u.md=n.md.sha512.create();break;case"RSASSA-PSS":u.md=n.md.sha256.create()}if(null===u.md)throw(h=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=u.signatureOid,h;var g=i.toDer(u.tbsCertificate);u.md.update(g.getBytes())}var v=n.md.sha1.create();u.issuer.getField=function(e){return p(u.issuer,e)},u.issuer.addField=function(e){y([e]),u.issuer.attributes.push(e)},u.issuer.attributes=o.RDNAttributesAsArray(r.certIssuer,v),r.certIssuerUniqueId&&(u.issuer.uniqueId=r.certIssuerUniqueId),u.issuer.hash=v.digest().toHex();var m=n.md.sha1.create();return u.subject.getField=function(e){return p(u.subject,e)},u.subject.addField=function(e){y([e]),u.subject.attributes.push(e)},u.subject.attributes=o.RDNAttributesAsArray(r.certSubject,m),r.certSubjectUniqueId&&(u.subject.uniqueId=r.certSubjectUniqueId),u.subject.hash=m.digest().toHex(),r.certExtensions?u.extensions=o.certificateExtensionsFromAsn1(r.certExtensions):u.extensions=[],u.publicKey=o.publicKeyFromAsn1(r.subjectPublicKeyInfo),u},o.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],i=0;i<n.value.length;++i)t.push(o.certificateExtensionFromAsn1(n.value[i]));return t},o.certificateExtensionFromAsn1=function(e){var t={};if(t.id=i.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===i.Type.BOOLEAN?(t.critical=0!==e.value[1].value.charCodeAt(0),t.value=e.value[2].value):t.value=e.value[1].value,t.id in a)if(t.name=a[t.id],"keyUsage"===t.name){var r=0,o=0;(u=i.fromDer(t.value)).value.length>1&&(r=u.value.charCodeAt(1),o=u.value.length>2?u.value.charCodeAt(2):0),t.digitalSignature=128==(128&r),t.nonRepudiation=64==(64&r),t.keyEncipherment=32==(32&r),t.dataEncipherment=16==(16&r),t.keyAgreement=8==(8&r),t.keyCertSign=4==(4&r),t.cRLSign=2==(2&r),t.encipherOnly=1==(1&r),t.decipherOnly=128==(128&o)}else if("basicConstraints"===t.name){(u=i.fromDer(t.value)).value.length>0&&u.value[0].type===i.Type.BOOLEAN?t.cA=0!==u.value[0].value.charCodeAt(0):t.cA=!1;var s=null;u.value.length>0&&u.value[0].type===i.Type.INTEGER?s=u.value[0].value:u.value.length>1&&(s=u.value[1].value),null!==s&&(t.pathLenConstraint=i.derToInteger(s))}else if("extKeyUsage"===t.name)for(var u=i.fromDer(t.value),l=0;l<u.value.length;++l){var c=i.derToOid(u.value[l].value);c in a?t[a[c]]=!0:t[c]=!0}else if("nsCertType"===t.name)r=0,(u=i.fromDer(t.value)).value.length>1&&(r=u.value.charCodeAt(1)),t.client=128==(128&r),t.server=64==(64&r),t.email=32==(32&r),t.objsign=16==(16&r),t.reserved=8==(8&r),t.sslCA=4==(4&r),t.emailCA=2==(2&r),t.objCA=1==(1&r);else if("subjectAltName"===t.name||"issuerAltName"===t.name){var f;t.altNames=[],u=i.fromDer(t.value);for(var h=0;h<u.value.length;++h){var p={type:(f=u.value[h]).type,value:f.value};switch(t.altNames.push(p),f.type){case 1:case 2:case 6:break;case 7:p.ip=n.util.bytesToIP(f.value);break;case 8:p.oid=i.derToOid(f.value)}}}else"subjectKeyIdentifier"===t.name&&(u=i.fromDer(t.value),t.subjectKeyIdentifier=n.util.bytesToHex(u.value));return t},o.certificationRequestFromAsn1=function(e,t){var r={},s=[];if(!i.validate(e,h,r,s))throw(l=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.")).errors=s,l;if(i.derToOid(r.publicKeyOid)!==o.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var u=o.createCertificationRequest();if(u.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,u.signatureOid=n.asn1.derToOid(r.csrSignatureOid),u.signatureParameters=d(u.signatureOid,r.csrSignatureParams,!0),u.siginfo.algorithmOid=n.asn1.derToOid(r.csrSignatureOid),u.siginfo.parameters=d(u.siginfo.algorithmOid,r.csrSignatureParams,!1),u.signature=r.csrSignature,u.certificationRequestInfo=r.certificationRequestInfo,t){var l;if(u.md=null,u.signatureOid in a)switch(a[u.signatureOid]){case"sha1WithRSAEncryption":u.md=n.md.sha1.create();break;case"md5WithRSAEncryption":u.md=n.md.md5.create();break;case"sha256WithRSAEncryption":u.md=n.md.sha256.create();break;case"sha384WithRSAEncryption":u.md=n.md.sha384.create();break;case"sha512WithRSAEncryption":u.md=n.md.sha512.create();break;case"RSASSA-PSS":u.md=n.md.sha256.create()}if(null===u.md)throw(l=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=u.signatureOid,l;var c=i.toDer(u.certificationRequestInfo);u.md.update(c.getBytes())}var f=n.md.sha1.create();return u.subject.getField=function(e){return p(u.subject,e)},u.subject.addField=function(e){y([e]),u.subject.attributes.push(e)},u.subject.attributes=o.RDNAttributesAsArray(r.certificationRequestInfoSubject,f),u.subject.hash=f.digest().toHex(),u.publicKey=o.publicKeyFromAsn1(r.subjectPublicKeyInfo),u.getAttribute=function(e){return p(u,e)},u.addAttribute=function(e){y([e]),u.attributes.push(e)},u.attributes=o.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),u},o.createCertificationRequest=function(){var e={version:0,signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return p(e.subject,t)},e.subject.addField=function(t){y([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return p(e,t)},e.addAttribute=function(t){y([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){y(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){y(t),e.attributes=t},e.sign=function(t,r){e.md=r||n.md.sha1.create();var s=a[e.md.algorithm+"WithRSAEncryption"];if(!s){var u=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw u.algorithm=e.md.algorithm,u}e.signatureOid=e.siginfo.algorithmOid=s,e.certificationRequestInfo=o.getCertificationRequestInfo(e);var l=i.toDer(e.certificationRequestInfo);e.md.update(l.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(null===r){if(e.signatureOid in a)switch(a[e.signatureOid]){case"sha1WithRSAEncryption":r=n.md.sha1.create();break;case"md5WithRSAEncryption":r=n.md.md5.create();break;case"sha256WithRSAEncryption":r=n.md.sha256.create();break;case"sha384WithRSAEncryption":r=n.md.sha384.create();break;case"sha512WithRSAEncryption":r=n.md.sha512.create();break;case"RSASSA-PSS":r=n.md.sha256.create()}if(null===r)throw(h=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=e.signatureOid,h;var s=e.certificationRequestInfo||o.getCertificationRequestInfo(e),u=i.toDer(s);r.update(u.getBytes())}if(null!==r){var l;switch(e.signatureOid){case a.sha1WithRSAEncryption:break;case a["RSASSA-PSS"]:var c,f,h;if(void 0===(c=a[e.signatureParameters.mgf.hash.algorithmOid])||void 0===n.md[c])throw(h=new Error("Unsupported MGF hash function.")).oid=e.signatureParameters.mgf.hash.algorithmOid,h.name=c,h;if(void 0===(f=a[e.signatureParameters.mgf.algorithmOid])||void 0===n.mgf[f])throw(h=new Error("Unsupported MGF function.")).oid=e.signatureParameters.mgf.algorithmOid,h.name=f,h;if(f=n.mgf[f].create(n.md[c].create()),void 0===(c=a[e.signatureParameters.hash.algorithmOid])||void 0===n.md[c])throw(h=new Error("Unsupported RSASSA-PSS hash function.")).oid=e.signatureParameters.hash.algorithmOid,h.name=c,h;l=n.pss.create(n.md[c].create(),f,e.signatureParameters.saltLength)}t=e.publicKey.verify(r.digest().getBytes(),e.signature,l)}return t},e},o.getTBSCertificate=function(e){var t=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes())]),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(e.serialNumber)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.siginfo.algorithmOid).getBytes()),m(e.siginfo.algorithmOid,e.siginfo.parameters)]),g(e.issuer),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(e.validity.notBefore)),i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(e.validity.notAfter))]),g(e.subject),o.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&t.value.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.issuer.uniqueId)])),e.subject.uniqueId&&t.value.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!0,[i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.subject.uniqueId)])),e.extensions.length>0&&t.value.push(o.certificateExtensionsToAsn1(e.extensions)),t},o.getCertificationRequestInfo=function(e){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),g(e.subject),o.publicKeyToAsn1(e.publicKey),function(e){var t=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===e.attributes.length)return t;for(var r=e.attributes,o=0;o<r.length;++o){var a=r[o],s=a.value,u=i.Type.UTF8;"valueTagClass"in a&&(u=a.valueTagClass),u===i.Type.UTF8&&(s=n.util.encodeUtf8(s));var l=!1;"valueConstructed"in a&&(l=a.valueConstructed);var c=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.type).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,u,l,s)])]);t.value.push(c)}return t}(e)])},o.distinguishedNameToAsn1=function(e){return g(e)},o.certificateToAsn1=function(e){var t=e.tbsCertificate||o.getTBSCertificate(e);return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[t,i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.signatureOid).getBytes()),m(e.signatureOid,e.signatureParameters)]),i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},o.certificateExtensionsToAsn1=function(e){var t=i.create(i.Class.CONTEXT_SPECIFIC,3,!0,[]),r=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(o.certificateExtensionToAsn1(e[n]));return t},o.certificateExtensionToAsn1=function(e){var t=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);t.value.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.id).getBytes())),e.critical&&t.value.push(i.create(i.Class.UNIVERSAL,i.Type.BOOLEAN,!1,String.fromCharCode(255)));var r=e.value;return"string"!=typeof e.value&&(r=i.toDer(r).getBytes()),t.value.push(i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,r)),t},o.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||o.getCertificationRequestInfo(e);return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[t,i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.signatureOid).getBytes()),m(e.signatureOid,e.signatureParameters)]),i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},o.createCaStore=function(e){var t={certs:{}};function r(e){return a(e),t.certs[e.hash]||null}function a(e){if(!e.hash){var t=n.md.sha1.create();e.attributes=o.RDNAttributesAsArray(g(e),t),e.hash=t.digest().toHex()}}if(t.getIssuer=function(e){return r(e.issuer)},t.addCertificate=function(e){if("string"==typeof e&&(e=n.pki.certificateFromPem(e)),a(e.subject),!t.hasCertificate(e))if(e.subject.hash in t.certs){var r=t.certs[e.subject.hash];n.util.isArray(r)||(r=[r]),r.push(e),t.certs[e.subject.hash]=r}else t.certs[e.subject.hash]=e},t.hasCertificate=function(e){"string"==typeof e&&(e=n.pki.certificateFromPem(e));var t=r(e.subject);if(!t)return!1;n.util.isArray(t)||(t=[t]);for(var a=i.toDer(o.certificateToAsn1(e)).getBytes(),s=0;s<t.length;++s)if(a===i.toDer(o.certificateToAsn1(t[s])).getBytes())return!0;return!1},t.listAllCertificates=function(){var e=[];for(var r in t.certs)if(t.certs.hasOwnProperty(r)){var i=t.certs[r];if(n.util.isArray(i))for(var o=0;o<i.length;++o)e.push(i[o]);else e.push(i)}return e},t.removeCertificate=function(e){var s;if("string"==typeof e&&(e=n.pki.certificateFromPem(e)),a(e.subject),!t.hasCertificate(e))return null;var u=r(e.subject);if(!n.util.isArray(u))return s=t.certs[e.subject.hash],delete t.certs[e.subject.hash],s;for(var l=i.toDer(o.certificateToAsn1(e)).getBytes(),c=0;c<u.length;++c)l===i.toDer(o.certificateToAsn1(u[c])).getBytes()&&(s=u[c],u.splice(c,1));return 0===u.length&&delete t.certs[e.subject.hash],s},e)for(var s=0;s<e.length;++s){var u=e[s];t.addCertificate(u)}return t},o.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},o.verifyCertificateChain=function(e,t,r){var i=(t=t.slice(0)).slice(0),a=new Date,s=!0,u=null,l=0;do{var c=t.shift(),f=null,h=!1;if((a<c.validity.notBefore||a>c.validity.notAfter)&&(u={message:"Certificate is not valid yet or has expired.",error:o.certificateError.certificate_expired,notBefore:c.validity.notBefore,notAfter:c.validity.notAfter,now:a}),null===u){if(null===(f=t[0]||e.getIssuer(c))&&c.isIssuer(c)&&(h=!0,f=c),f){var p=f;n.util.isArray(p)||(p=[p]);for(var d=!1;!d&&p.length>0;){f=p.shift();try{d=f.verify(c)}catch(e){}}d||(u={message:"Certificate signature is invalid.",error:o.certificateError.bad_certificate})}null!==u||f&&!h||e.hasCertificate(c)||(u={message:"Certificate is not trusted.",error:o.certificateError.unknown_ca})}if(null===u&&f&&!c.isIssuer(f)&&(u={message:"Certificate issuer is invalid.",error:o.certificateError.bad_certificate}),null===u)for(var g={keyUsage:!0,basicConstraints:!0},y=0;null===u&&y<c.extensions.length;++y){var v=c.extensions[y];!v.critical||v.name in g||(u={message:"Certificate has an unsupported critical extension.",error:o.certificateError.unsupported_certificate})}if(null===u&&(!s||0===t.length&&(!f||h))){var m=c.getExtension("basicConstraints"),b=c.getExtension("keyUsage");null!==b&&(b.keyCertSign&&null!==m||(u={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:o.certificateError.bad_certificate})),null!==u||null===m||m.cA||(u={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:o.certificateError.bad_certificate}),null===u&&null!==b&&"pathLenConstraint"in m&&l-1>m.pathLenConstraint&&(u={message:"Certificate basicConstraints pathLenConstraint violated.",error:o.certificateError.bad_certificate})}var w=null===u||u.error,C=r?r(w,l,i):w;if(!0!==C)throw!0===w&&(u={message:"The application rejected the certificate.",error:o.certificateError.bad_certificate}),(C||0===C)&&("object"!=typeof C||n.util.isArray(C)?"string"==typeof C&&(u.error=C):(C.message&&(u.message=C.message),C.error&&(u.error=C.error))),u;u=null,s=!1,++l}while(t.length>0);return!0}},function(e,t,r){(function(t){var n=r(2);r(3);var i=null;!n.util.isNodejs||n.options.usePureJavaScript||t.versions["node-webkit"]||(i=r(102)),(e.exports=n.prng=n.prng||{}).create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,o=new Array(32),a=0;a<32;++a)o[a]=r.create();function s(){if(t.pools[0].messageLength>=32)return u();var e=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(e)),u()}function u(){t.reseeds=4294967295===t.reseeds?0:t.reseeds+1;var e=t.plugin.md.create();e.update(t.keyBytes);for(var r=1,n=0;n<32;++n)t.reseeds%r==0&&(e.update(t.pools[n].digest().getBytes()),t.pools[n].start()),r<<=1;t.keyBytes=e.digest().getBytes(),e.start(),e.update(t.keyBytes);var i=e.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(i),t.generated=0}function l(e){var t=null;if("undefined"!=typeof window){var r=window.crypto||window.msCrypto;r&&r.getRandomValues&&(t=function(e){return r.getRandomValues(e)})}var i=n.util.createBuffer();if(t)for(;i.length()<e;){var o=Math.max(1,Math.min(e-i.length(),65536)/4),a=new Uint32Array(Math.floor(o));try{t(a);for(var s=0;s<a.length;++s)i.putInt32(a[s])}catch(e){if(!("undefined"!=typeof QuotaExceededError&&e instanceof QuotaExceededError))throw e}}if(i.length()<e)for(var u,l,c,f=Math.floor(65536*Math.random());i.length()<e;)for(l=16807*(65535&f),l+=(32767&(u=16807*(f>>16)))<<16,f=4294967295&(l=(2147483647&(l+=u>>15))+(l>>31)),s=0;s<3;++s)c=f>>>(s<<3),c^=Math.floor(256*Math.random()),i.putByte(String.fromCharCode(255&c));return i.getBytes(e)}return t.pools=o,t.pool=0,t.generate=function(e,r){if(!r)return t.generateSync(e);var i=t.plugin.cipher,o=t.plugin.increment,a=t.plugin.formatKey,s=t.plugin.formatSeed,l=n.util.createBuffer();t.key=null,function c(f){if(f)return r(f);if(l.length()>=e)return r(null,l.getBytes(e));if(t.generated>1048575&&(t.key=null),null===t.key)return n.util.nextTick(function(){!function(e){if(t.pools[0].messageLength>=32)return u(),e();var r=32-t.pools[0].messageLength<<5;t.seedFile(r,function(r,n){if(r)return e(r);t.collect(n),u(),e()})}(c)});var h=i(t.key,t.seed);t.generated+=h.length,l.putBytes(h),t.key=a(i(t.key,o(t.seed))),t.seed=s(i(t.key,t.seed)),n.util.setImmediate(c)}()},t.generateSync=function(e){var r=t.plugin.cipher,i=t.plugin.increment,o=t.plugin.formatKey,a=t.plugin.formatSeed;t.key=null;for(var u=n.util.createBuffer();u.length()<e;){t.generated>1048575&&(t.key=null),null===t.key&&s();var l=r(t.key,t.seed);t.generated+=l.length,u.putBytes(l),t.key=o(r(t.key,i(t.seed))),t.seed=a(r(t.key,t.seed))}return u.getBytes(e)},i?(t.seedFile=function(e,t){i.randomBytes(e,function(e,r){if(e)return t(e);t(null,r.toString())})},t.seedFileSync=function(e){return i.randomBytes(e).toString()}):(t.seedFile=function(e,t){try{t(null,l(e))}catch(e){t(e)}},t.seedFileSync=l),t.collect=function(e){for(var r=e.length,n=0;n<r;++n)t.pools[t.pool].update(e.substr(n,1)),t.pool=31===t.pool?0:t.pool+1},t.collectInt=function(e,r){for(var n="",i=0;i<r;i+=8)n+=String.fromCharCode(e>>i&255);t.collect(n)},t.registerWorker=function(e){e===self?t.seedFile=function(e,t){self.addEventListener("message",function e(r){var n=r.data;n.forge&&n.forge.prng&&(self.removeEventListener("message",e),t(n.forge.prng.err,n.forge.prng.bytes))}),self.postMessage({forge:{prng:{needed:e}}})}:e.addEventListener("message",function(r){var n=r.data;n.forge&&n.forge.prng&&t.seedFile(n.forge.prng.needed,function(t,r){e.postMessage({forge:{prng:{err:t,bytes:r}}})})})},t}}).call(this,r(14))},function(e,t,r){var n=r(2);r(16),r(3);var i=e.exports=n.sha256=n.sha256||{};n.md.sha256=n.md.algorithms.sha256=i,i.create=function(){a||(o=String.fromCharCode(128),o+=n.util.fillString(String.fromCharCode(0),64),s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=!0);var e=null,t=n.util.createBuffer(),r=new Array(64),i={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,o=0;o<r;++o)i.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},i}};return i.start(),i.update=function(o,a){"utf8"===a&&(o=n.util.encodeUtf8(o));var s=o.length;i.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var l=i.fullMessageLength.length-1;l>=0;--l)i.fullMessageLength[l]+=s[1],s[1]=s[0]+(i.fullMessageLength[l]/4294967296>>>0),i.fullMessageLength[l]=i.fullMessageLength[l]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(o),u(e,r,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var a=n.util.createBuffer();a.putBytes(t.bytes());var s,l=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;a.putBytes(o.substr(0,i.blockLength-l));for(var c=8*i.fullMessageLength[0],f=0;f<i.fullMessageLength.length-1;++f)c+=(s=8*i.fullMessageLength[f+1])/4294967296>>>0,a.putInt32(c>>>0),c=s>>>0;a.putInt32(c);var h={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};u(h,r,a);var p=n.util.createBuffer();return p.putInt32(h.h0),p.putInt32(h.h1),p.putInt32(h.h2),p.putInt32(h.h3),p.putInt32(h.h4),p.putInt32(h.h5),p.putInt32(h.h6),p.putInt32(h.h7),p},i};var o=null,a=!1,s=null;function u(e,t,r){for(var n,i,o,a,u,l,c,f,h,p,d,g,y,v=r.length();v>=64;){for(u=0;u<16;++u)t[u]=r.getInt32();for(;u<64;++u)n=((n=t[u-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=((i=t[u-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[u]=n+t[u-7]+i+t[u-16]|0;for(l=e.h0,c=e.h1,f=e.h2,h=e.h3,p=e.h4,d=e.h5,g=e.h6,y=e.h7,u=0;u<64;++u)o=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),a=l&c|f&(l^c),n=y+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(g^p&(d^g))+s[u]+t[u],y=g,g=d,d=p,p=h+n>>>0,h=f,f=c,c=l,l=n+(i=o+a)>>>0;e.h0=e.h0+l|0,e.h1=e.h1+c|0,e.h2=e.h2+f|0,e.h3=e.h3+h|0,e.h4=e.h4+p|0,e.h5=e.h5+d|0,e.h6=e.h6+g|0,e.h7=e.h7+y|0,v-=64}}},function(e,t,r){var n=r(2);r(3),r(9),r(26);var i=e.exports=n.pkcs1=n.pkcs1||{};function o(e,t,r){r||(r=n.md.sha1.create());for(var i="",o=Math.ceil(t/r.digestLength),a=0;a<o;++a){var s=String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,255&a);r.start(),r.update(e+s),i+=r.digest().getBytes()}return i.substring(0,t)}i.encode_rsa_oaep=function(e,t,r){var i,a,s,u;"string"==typeof r?(i=r,a=arguments[3]||void 0,s=arguments[4]||void 0):r&&(i=r.label||void 0,a=r.seed||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(u=r.mgf1.md)),s?s.start():s=n.md.sha1.create(),u||(u=s);var l=Math.ceil(e.n.bitLength()/8),c=l-2*s.digestLength-2;if(t.length>c)throw(g=new Error("RSAES-OAEP input message length is too long.")).length=t.length,g.maxLength=c,g;i||(i=""),s.update(i,"raw");for(var f=s.digest(),h="",p=c-t.length,d=0;d<p;d++)h+="\0";var g,y=f.getBytes()+h+""+t;if(a){if(a.length!==s.digestLength)throw(g=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=a.length,g.digestLength=s.digestLength,g}else a=n.random.getBytes(s.digestLength);var v=o(a,l-s.digestLength-1,u),m=n.util.xorBytes(y,v,y.length),b=o(m,s.digestLength,u);return"\0"+n.util.xorBytes(a,b,a.length)+m},i.decode_rsa_oaep=function(e,t,r){var i,a,s;"string"==typeof r?(i=r,a=arguments[3]||void 0):r&&(i=r.label||void 0,a=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md));var u=Math.ceil(e.n.bitLength()/8);if(t.length!==u)throw(v=new Error("RSAES-OAEP encoded message length is invalid.")).length=t.length,v.expectedLength=u,v;if(void 0===a?a=n.md.sha1.create():a.start(),s||(s=a),u<2*a.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");i||(i=""),a.update(i,"raw");for(var l=a.digest().getBytes(),c=t.charAt(0),f=t.substring(1,a.digestLength+1),h=t.substring(1+a.digestLength),p=o(h,a.digestLength,s),d=o(n.util.xorBytes(f,p,f.length),u-a.digestLength-1,s),g=n.util.xorBytes(h,d,h.length),y=g.substring(0,a.digestLength),v="\0"!==c,m=0;m<a.digestLength;++m)v|=l.charAt(m)!==y.charAt(m);for(var b=1,w=a.digestLength,C=a.digestLength;C<g.length;C++){var E=g.charCodeAt(C);v|=E&(b?65534:0),w+=b&=1&E^1}if(v||1!==g.charCodeAt(w))throw new Error("Invalid RSAES-OAEP padding.");return g.substring(w+1)}},function(e,t,r){var n=r(2);r(3),n.mgf=n.mgf||{},(e.exports=n.mgf.mgf1=n.mgf1=n.mgf1||{}).create=function(e){return{generate:function(t,r){for(var i=new n.util.ByteBuffer,o=Math.ceil(r/e.digestLength),a=0;a<o;a++){var s=new n.util.ByteBuffer;s.putInt32(a),e.start(),e.update(t+s.getBytes()),i.putBuffer(e.digest())}return i.truncate(i.length()-r),i.getBytes()}}}},function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r(177),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(6))},function(e,t,r){"use strict";var n={createSign:r(180).createSign,createVerify:r(147).createVerify};e.exports=n},function(e,t,r){"use strict";(function(e){r.d(t,"a",function(){return f}),r.d(t,"b",function(){return h});var n=r(4),i=r(0),o=r(11),a=r.n(o),s=r(47),u=r.n(s),l=r(23),c=r.n(l);function f(t){var r=Object(n.c)();if(0===r.indexOf("HS")){var o=parseInt(r.substr(2));(i.p.checked?8*c.a.decode(i.r.value).length:8*e.from(i.r.value).length)<o?i.r._tippy.state.visible||i.r._tippy.show():i.r._tippy.hide()}else a.a.error("Secret input tooltip handler for wrong algorithm: ".concat(r))}function h(){u()(i.r,{trigger:"manual",placement:"right",arrow:!0,arrowTransform:"scale(0.75)",size:"large"})}}).call(this,r(1).Buffer)},function(e,t,r){e.exports=r(2),r(18),r(119),r(13),r(46),r(72),r(44),r(118),r(27),r(117),r(71),r(116),r(66),r(45),r(21),r(65),r(97),r(101),r(60),r(61),r(63),r(43),r(9),r(98),r(115),r(114),r(73),r(3)},function(e,t,r){var n=r(2);r(3),e.exports=n.log=n.log||{},n.log.levels=["none","error","warning","info","debug","verbose","max"];var i={},o=[],a=null;n.log.LEVEL_LOCKED=2,n.log.NO_LEVEL_CHECK=4,n.log.INTERPOLATE=8;for(var s=0;s<n.log.levels.length;++s){var u=n.log.levels[s];i[u]={index:s,name:u.toUpperCase()}}n.log.logMessage=function(e){for(var t=i[e.level].index,r=0;r<o.length;++r){var a=o[r];a.flags&n.log.NO_LEVEL_CHECK?a.f(e):t<=i[a.level].index&&a.f(a,e)}},n.log.prepareStandard=function(e){"standard"in e||(e.standard=i[e.level].name+" ["+e.category+"] "+e.message)},n.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]||e.arguments),e.full=n.util.format.apply(this,t)}},n.log.prepareStandardFull=function(e){"standardFull"in e||(n.log.prepareStandard(e),e.standardFull=e.standard)};var l=["error","warning","info","debug","verbose"];for(s=0;s<l.length;++s)!function(e){n.log[e]=function(t,r){var i=Array.prototype.slice.call(arguments).slice(2),o={timestamp:new Date,level:e,category:t,message:r,arguments:i};n.log.logMessage(o)}}(l[s]);if(n.log.makeLogger=function(e){var t={flags:0,f:e};return n.log.setLevel(t,"none"),t},n.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&n.log.LEVEL_LOCKED))for(var i=0;i<n.log.levels.length;++i)if(t==n.log.levels[i]){e.level=t,r=!0;break}return r},n.log.lock=function(e,t){void 0===t||t?e.flags|=n.log.LEVEL_LOCKED:e.flags&=~n.log.LEVEL_LOCKED},n.log.addLogger=function(e){o.push(e)},"undefined"!=typeof console&&"log"in console){var c;if(console.error&&console.warn&&console.info&&console.debug){var f={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},h=function(e,t){n.log.prepareStandard(t);var r=f[t.level],i=[t.standard];i=i.concat(t.arguments.slice()),r.apply(console,i)};c=n.log.makeLogger(h)}else h=function(e,t){n.log.prepareStandardFull(t),console.log(t.standardFull)},c=n.log.makeLogger(h);n.log.setLevel(c,"debug"),n.log.addLogger(c),a=c}else console={log:function(){}};if(null!==a){var p=n.util.getQueryVariables();"console.level"in p&&n.log.setLevel(a,p["console.level"].slice(-1)[0]),"console.lock"in p&&"true"==p["console.lock"].slice(-1)[0]&&n.log.lock(a)}n.log.consoleLogger=a},function(e,t,r){var n=r(2);e.exports=n.debug=n.debug||{},n.debug.storage={},n.debug.get=function(e,t){var r;return void 0===e?r=n.debug.storage:e in n.debug.storage&&(r=void 0===t?n.debug.storage[e]:n.debug.storage[e][t]),r},n.debug.set=function(e,t,r){e in n.debug.storage||(n.debug.storage[e]={}),n.debug.storage[e][t]=r},n.debug.clear=function(e,t){void 0===e?n.debug.storage={}:e in n.debug.storage&&(void 0===t?delete n.debug.storage[e]:delete n.debug.storage[e][t])}},function(e,t,r){var n=r(2);r(13),r(27),r(48),r(21),r(60),r(9),r(26),r(3);var i=function(e,t,r,i){var o=n.util.createBuffer(),a=e.length>>1,s=a+(1&e.length),u=e.substr(0,s),l=e.substr(a,s),c=n.util.createBuffer(),f=n.hmac.create();r=t+r;var h=Math.ceil(i/16),p=Math.ceil(i/20);f.start("MD5",u);var d=n.util.createBuffer();c.putBytes(r);for(var g=0;g<h;++g)f.start(null,null),f.update(c.getBytes()),c.putBuffer(f.digest()),f.start(null,null),f.update(c.bytes()+r),d.putBuffer(f.digest());f.start("SHA1",l);var y=n.util.createBuffer();for(c.clear(),c.putBytes(r),g=0;g<p;++g)f.start(null,null),f.update(c.getBytes()),c.putBuffer(f.digest()),f.start(null,null),f.update(c.bytes()+r),y.putBuffer(f.digest());return o.putBytes(n.util.xorBytes(d.getBytes(),y.getBytes(),i)),o},o=function(e,t,r){var i=!1;try{var o=e.deflate(t.fragment.getBytes());t.fragment=n.util.createBuffer(o),t.length=o.length,i=!0}catch(e){}return i},a=function(e,t,r){var i=!1;try{var o=e.inflate(t.fragment.getBytes());t.fragment=n.util.createBuffer(o),t.length=o.length,i=!0}catch(e){}return i},s=function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32()}return n.util.createBuffer(e.getBytes(r))},u=function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},l={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};l.SupportedVersions=[l.Versions.TLS_1_1,l.Versions.TLS_1_0],l.Version=l.SupportedVersions[0],l.MaxFragment=15360,l.ConnectionEnd={server:0,client:1},l.PRFAlgorithm={tls_prf_sha256:0},l.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},l.CipherType={stream:0,block:1,aead:2},l.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},l.CompressionMethod={none:0,deflate:1},l.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},l.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},l.Alert={},l.Alert.Level={warning:1,fatal:2},l.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},l.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},l.CipherSuites={},l.getCipherSuite=function(e){var t=null;for(var r in l.CipherSuites){var n=l.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t},l.handleUnexpected=function(e,t){!e.open&&e.entity===l.ConnectionEnd.client||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.unexpected_message}})},l.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(l.queue(e,l.createAlert(e,{level:l.Alert.Level.warning,description:l.Alert.Description.no_renegotiation})),l.flush(e)),e.process()},l.parseHelloMessage=function(e,t,r){var i=null,o=e.entity===l.ConnectionEnd.client;if(r<38)e.error(e,{message:o?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}});else{var a=t.fragment,u=a.length();if(i={version:{major:a.getByte(),minor:a.getByte()},random:n.util.createBuffer(a.getBytes(32)),session_id:s(a,1),extensions:[]},o?(i.cipher_suite=a.getBytes(2),i.compression_method=a.getByte()):(i.cipher_suites=s(a,2),i.compression_methods=s(a,1)),(u=r-(u-a.length()))>0){for(var c=s(a,2);c.length()>0;)i.extensions.push({type:[c.getByte(),c.getByte()],data:s(c,2)});if(!o)for(var f=0;f<i.extensions.length;++f){var h=i.extensions[f];if(0===h.type[0]&&0===h.type[1])for(var p=s(h.data,2);p.length()>0&&0===p.getByte();)e.session.extensions.server_name.serverNameList.push(s(p,2).getBytes())}}if(e.session.version&&(i.version.major!==e.session.version.major||i.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.protocol_version}});if(o)e.session.cipherSuite=l.getCipherSuite(i.cipher_suite);else for(var d=n.util.createBuffer(i.cipher_suites.bytes());d.length()>0&&(e.session.cipherSuite=l.getCipherSuite(d.getBytes(2)),null===e.session.cipherSuite););if(null===e.session.cipherSuite)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.handshake_failure},cipherSuite:n.util.bytesToHex(i.cipher_suite)});e.session.compressionMethod=o?i.compression_method:l.CompressionMethod.none}return i},l.createSecurityParameters=function(e,t){var r=e.entity===l.ConnectionEnd.client,n=t.random.bytes(),i=r?e.session.sp.client_random:n,o=r?n:l.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:l.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:o}},l.handleServerHello=function(e,t,r){var n=l.parseHelloMessage(e,t,r);if(!e.fail){if(!(n.version.minor<=e.version.minor))return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.protocol_version}});e.version.minor=n.version.minor,e.session.version=e.version;var i=n.session_id.bytes();i.length>0&&i===e.session.id?(e.expect=d,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=c,e.session.resuming=!1,l.createSecurityParameters(e,n)),e.session.id=i,e.process()}},l.handleClientHello=function(e,t,r){var i=l.parseHelloMessage(e,t,r);if(!e.fail){var o=i.session_id.bytes(),a=null;if(e.sessionCache&&(null===(a=e.sessionCache.getSession(o))?o="":(a.version.major!==i.version.major||a.version.minor>i.version.minor)&&(a=null,o="")),0===o.length&&(o=n.random.getBytes(32)),e.session.id=o,e.session.clientHelloVersion=i.version,e.session.sp={},a)e.version=e.session.version=a.version,e.session.sp=a.sp;else{for(var s,u=1;u<l.SupportedVersions.length&&!((s=l.SupportedVersions[u]).minor<=i.version.minor);++u);e.version={major:s.major,minor:s.minor},e.session.version=e.version}null!==a?(e.expect=C,e.session.resuming=!0,e.session.sp.client_random=i.random.bytes()):(e.expect=!1!==e.verifyClient?m:b,e.session.resuming=!1,l.createSecurityParameters(e,i)),e.open=!0,l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createServerHello(e)})),e.session.resuming?(l.queue(e,l.createRecord(e,{type:l.ContentType.change_cipher_spec,data:l.createChangeCipherSpec()})),e.state.pending=l.createConnectionState(e),e.state.current.write=e.state.pending.write,l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createFinished(e)}))):(l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createCertificate(e)})),e.fail||(l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createServerKeyExchange(e)})),!1!==e.verifyClient&&l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createCertificateRequest(e)})),l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createServerHelloDone(e)})))),l.flush(e),e.process()}},l.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}});var i,o,a=t.fragment,u={certificate_list:s(a,3)},c=[];try{for(;u.certificate_list.length()>0;)i=s(u.certificate_list,3),o=n.asn1.fromDer(i),i=n.pki.certificateFromAsn1(o,!0),c.push(i)}catch(t){return e.error(e,{message:"Could not parse certificate list.",cause:t,send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.bad_certificate}})}var h=e.entity===l.ConnectionEnd.client;!h&&!0!==e.verifyClient||0!==c.length?0===c.length?e.expect=h?f:b:(h?e.session.serverCertificate=c[0]:e.session.clientCertificate=c[0],l.verifyCertificateChain(e,c)&&(e.expect=h?f:b)):e.error(e,{message:h?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}}),e.process()},l.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.unsupported_certificate}});e.expect=h,e.process()},l.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.unsupported_certificate}});var i=t.fragment,o={enc_pre_master_secret:s(i,2).getBytes()},a=null;if(e.getPrivateKey)try{a=e.getPrivateKey(e,e.session.serverCertificate),a=n.pki.privateKeyFromPem(a)}catch(t){e.error(e,{message:"Could not get private key.",cause:t,send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}})}if(null===a)return e.error(e,{message:"No private key set.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}});try{var u=e.session.sp;u.pre_master_secret=a.decrypt(o.enc_pre_master_secret);var c=e.session.clientHelloVersion;if(c.major!==u.pre_master_secret.charCodeAt(0)||c.minor!==u.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch(e){u.pre_master_secret=n.random.getBytes(48)}e.expect=C,null!==e.session.clientCertificate&&(e.expect=w),e.process()},l.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_types:s(n,1),certificate_authorities:s(n,2)};e.session.certificateRequest=i,e.expect=p,e.process()},l.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}});var i=t.fragment;i.read-=4;var o=i.bytes();i.read+=4;var a={signature:s(i,2).getBytes()},u=n.util.createBuffer();u.putBuffer(e.session.md5.digest()),u.putBuffer(e.session.sha1.digest()),u=u.getBytes();try{if(!e.session.clientCertificate.publicKey.verify(u,a.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(o),e.session.sha1.update(o)}catch(t){return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.handshake_failure}})}e.expect=C,e.process()},l.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.record_overflow}});if(null===e.serverCertificate){var i={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.insufficient_security}},o=e.verify(e,i.alert.description,0,[]);if(!0!==o)return(o||0===o)&&("object"!=typeof o||n.util.isArray(o)?"number"==typeof o&&(i.alert.description=o):(o.message&&(i.message=o.message),o.alert&&(i.alert.description=o.alert))),e.error(e,i)}null!==e.session.certificateRequest&&(t=l.createRecord(e,{type:l.ContentType.handshake,data:l.createCertificate(e)}),l.queue(e,t)),t=l.createRecord(e,{type:l.ContentType.handshake,data:l.createClientKeyExchange(e)}),l.queue(e,t),e.expect=v;var a=function(e,t){null!==e.session.certificateRequest&&null!==e.session.clientCertificate&&l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createCertificateVerify(e,t)})),l.queue(e,l.createRecord(e,{type:l.ContentType.change_cipher_spec,data:l.createChangeCipherSpec()})),e.state.pending=l.createConnectionState(e),e.state.current.write=e.state.pending.write,l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createFinished(e)})),e.expect=d,l.flush(e),e.process()};if(null===e.session.certificateRequest||null===e.session.clientCertificate)return a(e,null);l.getClientSignature(e,a)},l.handleChangeCipherSpec=function(e,t){if(1!==t.fragment.getByte())return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}});var r=e.entity===l.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=l.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?g:E,e.process()},l.handleFinished=function(e,t,r){var o=t.fragment;o.read-=4;var a=o.bytes();o.read+=4;var s=t.fragment.getBytes();(o=n.util.createBuffer()).putBuffer(e.session.md5.digest()),o.putBuffer(e.session.sha1.digest());var u=e.entity===l.ConnectionEnd.client,c=u?"server finished":"client finished",f=e.session.sp;if((o=i(f.master_secret,c,o.getBytes(),12)).getBytes()!==s)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.decrypt_error}});e.session.md5.update(a),e.session.sha1.update(a),(e.session.resuming&&u||!e.session.resuming&&!u)&&(l.queue(e,l.createRecord(e,{type:l.ContentType.change_cipher_spec,data:l.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createFinished(e)}))),e.expect=u?y:S,e.handshaking=!1,++e.handshakes,e.peerCertificate=u?e.session.serverCertificate:e.session.clientCertificate,l.flush(e),e.isConnected=!0,e.connected(e),e.process()},l.handleAlert=function(e,t){var r,n=t.fragment,i={level:n.getByte(),description:n.getByte()};switch(i.description){case l.Alert.Description.close_notify:r="Connection closed.";break;case l.Alert.Description.unexpected_message:r="Unexpected message.";break;case l.Alert.Description.bad_record_mac:r="Bad record MAC.";break;case l.Alert.Description.decryption_failed:r="Decryption failed.";break;case l.Alert.Description.record_overflow:r="Record overflow.";break;case l.Alert.Description.decompression_failure:r="Decompression failed.";break;case l.Alert.Description.handshake_failure:r="Handshake failure.";break;case l.Alert.Description.bad_certificate:r="Bad certificate.";break;case l.Alert.Description.unsupported_certificate:r="Unsupported certificate.";break;case l.Alert.Description.certificate_revoked:r="Certificate revoked.";break;case l.Alert.Description.certificate_expired:r="Certificate expired.";break;case l.Alert.Description.certificate_unknown:r="Certificate unknown.";break;case l.Alert.Description.illegal_parameter:r="Illegal parameter.";break;case l.Alert.Description.unknown_ca:r="Unknown certificate authority.";break;case l.Alert.Description.access_denied:r="Access denied.";break;case l.Alert.Description.decode_error:r="Decode error.";break;case l.Alert.Description.decrypt_error:r="Decrypt error.";break;case l.Alert.Description.export_restriction:r="Export restriction.";break;case l.Alert.Description.protocol_version:r="Unsupported protocol version.";break;case l.Alert.Description.insufficient_security:r="Insufficient security.";break;case l.Alert.Description.internal_error:r="Internal error.";break;case l.Alert.Description.user_canceled:r="User canceled.";break;case l.Alert.Description.no_renegotiation:r="Renegotiation not supported.";break;default:r="Unknown error."}if(i.description===l.Alert.Description.close_notify)return e.close();e.error(e,{message:r,send:!1,origin:e.entity===l.ConnectionEnd.client?"server":"client",alert:i}),e.process()},l.handleHandshake=function(e,t){var r=t.fragment,i=r.getByte(),o=r.getInt24();if(o>r.length())return e.fragmented=t,t.fragment=n.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var a=r.bytes(o+4);r.read+=4,i in U[e.entity][e.expect]?(e.entity!==l.ConnectionEnd.server||e.open||e.fail||(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:n.md.md5.create(),sha1:n.md.sha1.create()}),i!==l.HandshakeType.hello_request&&i!==l.HandshakeType.certificate_verify&&i!==l.HandshakeType.finished&&(e.session.md5.update(a),e.session.sha1.update(a)),U[e.entity][e.expect][i](e,t,o)):l.handleUnexpected(e,t)},l.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()},l.handleHeartbeat=function(e,t){var r=t.fragment,i=r.getByte(),o=r.getInt16(),a=r.getBytes(o);if(i===l.HeartbeatMessageType.heartbeat_request){if(e.handshaking||o>a.length)return e.process();l.queue(e,l.createRecord(e,{type:l.ContentType.heartbeat,data:l.createHeartbeat(l.HeartbeatMessageType.heartbeat_response,a)})),l.flush(e)}else if(i===l.HeartbeatMessageType.heartbeat_response){if(a!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,n.util.createBuffer(a))}e.process()};var c=1,f=2,h=3,p=4,d=5,g=6,y=7,v=8,m=1,b=2,w=3,C=4,E=5,S=6,T=l.handleUnexpected,A=l.handleChangeCipherSpec,_=l.handleAlert,k=l.handleHandshake,I=l.handleApplicationData,x=l.handleHeartbeat,B=[];B[l.ConnectionEnd.client]=[[T,_,k,T,x],[T,_,k,T,x],[T,_,k,T,x],[T,_,k,T,x],[T,_,k,T,x],[A,_,T,T,x],[T,_,k,T,x],[T,_,k,I,x],[T,_,k,T,x]],B[l.ConnectionEnd.server]=[[T,_,k,T,x],[T,_,k,T,x],[T,_,k,T,x],[T,_,k,T,x],[A,_,T,T,x],[T,_,k,T,x],[T,_,k,I,x],[T,_,k,T,x]];var N=l.handleHelloRequest,L=l.handleServerHello,R=l.handleCertificate,O=l.handleServerKeyExchange,P=l.handleCertificateRequest,D=l.handleServerHelloDone,F=l.handleFinished,U=[];U[l.ConnectionEnd.client]=[[T,T,L,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T],[N,T,T,T,T,T,T,T,T,T,T,R,O,P,D,T,T,T,T,T,T],[N,T,T,T,T,T,T,T,T,T,T,T,O,P,D,T,T,T,T,T,T],[N,T,T,T,T,T,T,T,T,T,T,T,T,P,D,T,T,T,T,T,T],[N,T,T,T,T,T,T,T,T,T,T,T,T,T,D,T,T,T,T,T,T],[N,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T],[N,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,F],[N,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T],[N,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T]];var M=l.handleClientHello,j=l.handleClientKeyExchange,H=l.handleCertificateVerify;U[l.ConnectionEnd.server]=[[T,M,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T],[T,T,T,T,T,T,T,T,T,T,T,R,T,T,T,T,T,T,T,T,T],[T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,j,T,T,T,T],[T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,H,T,T,T,T,T],[T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T],[T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,F],[T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T],[T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T]],l.generateKeys=function(e,t){var r=i,n=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",n,48).bytes(),t.pre_master_secret=null),n=t.server_random+t.client_random;var o=2*t.mac_key_length+2*t.enc_key_length,a=e.version.major===l.Versions.TLS_1_0.major&&e.version.minor===l.Versions.TLS_1_0.minor;a&&(o+=2*t.fixed_iv_length);var s=r(t.master_secret,"key expansion",n,o),u={client_write_MAC_key:s.getBytes(t.mac_key_length),server_write_MAC_key:s.getBytes(t.mac_key_length),client_write_key:s.getBytes(t.enc_key_length),server_write_key:s.getBytes(t.enc_key_length)};return a&&(u.client_write_IV=s.getBytes(t.fixed_iv_length),u.server_write_IV=s.getBytes(t.fixed_iv_length)),u},l.createConnectionState=function(e){var t=e.entity===l.ConnectionEnd.client,r=function(){var e={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(e){return!0},compressionState:null,compressFunction:function(e){return!0},updateSequenceNumber:function(){4294967295===e.sequenceNumber[1]?(e.sequenceNumber[1]=0,++e.sequenceNumber[0]):++e.sequenceNumber[1]}};return e},n={read:r(),write:r()};if(n.read.update=function(e,t){return n.read.cipherFunction(t,n.read)?n.read.compressFunction(e,t,n.read)||e.error(e,{message:"Could not decompress record.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.decompression_failure}}):e.error(e,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.bad_record_mac}}),!e.fail},n.write.update=function(e,t){return n.write.compressFunction(e,t,n.write)?n.write.cipherFunction(t,n.write)||e.error(e,{message:"Could not encrypt record.",send:!1,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}}):e.error(e,{message:"Could not compress record.",send:!1,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}}),!e.fail},e.session){var i=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(i),i.keys=l.generateKeys(e,i),n.read.macKey=t?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key,n.write.macKey=t?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,i),i.compression_algorithm){case l.CompressionMethod.none:break;case l.CompressionMethod.deflate:n.read.compressFunction=a,n.write.compressFunction=o;break;default:throw new Error("Unsupported compression algorithm.")}}return n},l.createRandom=function(){var e=new Date,t=+e+6e4*e.getTimezoneOffset(),r=n.util.createBuffer();return r.putInt32(t),r.putBytes(n.random.getBytes(28)),r},l.createRecord=function(e,t){return t.data?{type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data}:null},l.createAlert=function(e,t){var r=n.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),l.createRecord(e,{type:l.ContentType.alert,data:r})},l.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=n.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var i=e.cipherSuites[r];t.putByte(i.id[0]),t.putByte(i.id[1])}var o=t.length(),a=n.util.createBuffer();a.putByte(l.CompressionMethod.none);var s=a.length(),c=n.util.createBuffer();if(e.virtualHost){var f=n.util.createBuffer();f.putByte(0),f.putByte(0);var h=n.util.createBuffer();h.putByte(0),u(h,2,n.util.createBuffer(e.virtualHost));var p=n.util.createBuffer();u(p,2,h),u(f,2,p),c.putBuffer(f)}var d=c.length();d>0&&(d+=2);var g=e.session.id,y=g.length+1+2+4+28+2+o+1+s+d,v=n.util.createBuffer();return v.putByte(l.HandshakeType.client_hello),v.putInt24(y),v.putByte(e.version.major),v.putByte(e.version.minor),v.putBytes(e.session.sp.client_random),u(v,1,n.util.createBuffer(g)),u(v,2,t),u(v,1,a),d>0&&u(v,2,c),v},l.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,i=n.util.createBuffer();return i.putByte(l.HandshakeType.server_hello),i.putInt24(r),i.putByte(e.version.major),i.putByte(e.version.minor),i.putBytes(e.session.sp.server_random),u(i,1,n.util.createBuffer(t)),i.putByte(e.session.cipherSuite.id[0]),i.putByte(e.session.cipherSuite.id[1]),i.putByte(e.session.compressionMethod),i},l.createCertificate=function(e){var t,r=e.entity===l.ConnectionEnd.client,i=null;e.getCertificate&&(t=r?e.session.certificateRequest:e.session.extensions.server_name.serverNameList,i=e.getCertificate(e,t));var o=n.util.createBuffer();if(null!==i)try{n.util.isArray(i)||(i=[i]);for(var a=null,s=0;s<i.length;++s){var c=n.pem.decode(i[s])[0];if("CERTIFICATE"!==c.type&&"X509 CERTIFICATE"!==c.type&&"TRUSTED CERTIFICATE"!==c.type){var f=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw f.headerType=c.type,f}if(c.procType&&"ENCRYPTED"===c.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var h=n.util.createBuffer(c.body);null===a&&(a=n.asn1.fromDer(h.bytes(),!1));var p=n.util.createBuffer();u(p,3,h),o.putBuffer(p)}i=n.pki.certificateFromAsn1(a),r?e.session.clientCertificate=i:e.session.serverCertificate=i}catch(t){return e.error(e,{message:"Could not send certificate list.",cause:t,send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.bad_certificate}})}var d=3+o.length(),g=n.util.createBuffer();return g.putByte(l.HandshakeType.certificate),g.putInt24(d),u(g,3,o),g},l.createClientKeyExchange=function(e){var t=n.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(n.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var i=(t=e.session.serverCertificate.publicKey.encrypt(r.pre_master_secret)).length+2,o=n.util.createBuffer();return o.putByte(l.HandshakeType.client_key_exchange),o.putInt24(i),o.putInt16(t.length),o.putBytes(t),o},l.createServerKeyExchange=function(e){return n.util.createBuffer()},l.getClientSignature=function(e,t){var r=n.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(e,t,r){var i=null;if(e.getPrivateKey)try{i=e.getPrivateKey(e,e.session.clientCertificate),i=n.pki.privateKeyFromPem(i)}catch(t){e.error(e,{message:"Could not get private key.",cause:t,send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}})}null===i?e.error(e,{message:"No private key set.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}}):t=i.sign(t,null),r(e,t)},e.getSignature(e,r,t)},l.createCertificateVerify=function(e,t){var r=t.length+2,i=n.util.createBuffer();return i.putByte(l.HandshakeType.certificate_verify),i.putInt24(r),i.putInt16(t.length),i.putBytes(t),i},l.createCertificateRequest=function(e){var t=n.util.createBuffer();t.putByte(1);var r=n.util.createBuffer();for(var i in e.caStore.certs){var o=e.caStore.certs[i],a=n.pki.distinguishedNameToAsn1(o.subject),s=n.asn1.toDer(a);r.putInt16(s.length()),r.putBuffer(s)}var c=1+t.length()+2+r.length(),f=n.util.createBuffer();return f.putByte(l.HandshakeType.certificate_request),f.putInt24(c),u(f,1,t),u(f,2,r),f},l.createServerHelloDone=function(e){var t=n.util.createBuffer();return t.putByte(l.HandshakeType.server_hello_done),t.putInt24(0),t},l.createChangeCipherSpec=function(){var e=n.util.createBuffer();return e.putByte(1),e},l.createFinished=function(e){var t=n.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===l.ConnectionEnd.client,o=e.session.sp,a=r?"client finished":"server finished";t=i(o.master_secret,a,t.getBytes(),12);var s=n.util.createBuffer();return s.putByte(l.HandshakeType.finished),s.putInt24(t.length()),s.putBuffer(t),s},l.createHeartbeat=function(e,t,r){void 0===r&&(r=t.length);var i=n.util.createBuffer();i.putByte(e),i.putInt16(r),i.putBytes(t);var o=i.length(),a=Math.max(16,o-r-3);return i.putBytes(n.random.getBytes(a)),i},l.queue=function(e,t){if(t&&(0!==t.fragment.length()||t.type!==l.ContentType.handshake&&t.type!==l.ContentType.alert&&t.type!==l.ContentType.change_cipher_spec)){if(t.type===l.ContentType.handshake){var r=t.fragment.bytes();e.session.md5.update(r),e.session.sha1.update(r),r=null}var i;if(t.fragment.length()<=l.MaxFragment)i=[t];else{i=[];for(var o=t.fragment.bytes();o.length>l.MaxFragment;)i.push(l.createRecord(e,{type:t.type,data:n.util.createBuffer(o.slice(0,l.MaxFragment))})),o=o.slice(l.MaxFragment);o.length>0&&i.push(l.createRecord(e,{type:t.type,data:n.util.createBuffer(o)}))}for(var a=0;a<i.length&&!e.fail;++a){var s=i[a];e.state.current.write.update(e,s)&&e.records.push(s)}}},l.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var K=function(e){switch(e){case!0:return!0;case n.pki.certificateError.bad_certificate:return l.Alert.Description.bad_certificate;case n.pki.certificateError.unsupported_certificate:return l.Alert.Description.unsupported_certificate;case n.pki.certificateError.certificate_revoked:return l.Alert.Description.certificate_revoked;case n.pki.certificateError.certificate_expired:return l.Alert.Description.certificate_expired;case n.pki.certificateError.certificate_unknown:return l.Alert.Description.certificate_unknown;case n.pki.certificateError.unknown_ca:return l.Alert.Description.unknown_ca;default:return l.Alert.Description.bad_certificate}};for(var V in l.verifyCertificateChain=function(e,t){try{n.pki.verifyCertificateChain(e.caStore,t,function(t,r,i){K(t);var o=e.verify(e,t,r,i);if(!0!==o){if("object"==typeof o&&!n.util.isArray(o)){var a=new Error("The application rejected the certificate.");throw a.send=!0,a.alert={level:l.Alert.Level.fatal,description:l.Alert.Description.bad_certificate},o.message&&(a.message=o.message),o.alert&&(a.alert.description=o.alert),a}o!==t&&(o=function(e){switch(o){case!0:return!0;case l.Alert.Description.bad_certificate:return n.pki.certificateError.bad_certificate;case l.Alert.Description.unsupported_certificate:return n.pki.certificateError.unsupported_certificate;case l.Alert.Description.certificate_revoked:return n.pki.certificateError.certificate_revoked;case l.Alert.Description.certificate_expired:return n.pki.certificateError.certificate_expired;case l.Alert.Description.certificate_unknown:return n.pki.certificateError.certificate_unknown;case l.Alert.Description.unknown_ca:return n.pki.certificateError.unknown_ca;default:return n.pki.certificateError.bad_certificate}}())}return o})}catch(t){var r=t;("object"!=typeof r||n.util.isArray(r))&&(r={send:!0,alert:{level:l.Alert.Level.fatal,description:K(t)}}),"send"in r||(r.send=!0),"alert"in r||(r.alert={level:l.Alert.Level.fatal,description:K(r.error)}),e.error(e,r)}return!e.fail},l.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{for(var i in(r={}).cache=e||{},r.capacity=Math.max(t||100,1),r.order=[],e)r.order.length<=t?r.order.push(i):delete e[i];r.getSession=function(e){var t=null,i=null;if(e?i=n.util.bytesToHex(e):r.order.length>0&&(i=r.order[0]),null!==i&&i in r.cache)for(var o in t=r.cache[i],delete r.cache[i],r.order)if(r.order[o]===i){r.order.splice(o,1);break}return t},r.setSession=function(e,t){if(r.order.length===r.capacity){var i=r.order.shift();delete r.cache[i]}i=n.util.bytesToHex(e),r.order.push(i),r.cache[i]=t}}return r},l.createConnection=function(e){var t;t=e.caStore?n.util.isArray(e.caStore)?n.pki.createCaStore(e.caStore):e.caStore:n.pki.createCaStore();var r=e.cipherSuites||null;if(null===r)for(var i in r=[],l.CipherSuites)r.push(l.CipherSuites[i]);var o=e.server?l.ConnectionEnd.server:l.ConnectionEnd.client,a=e.sessionCache?l.createSessionCache(e.sessionCache):null,s={version:{major:l.Version.major,minor:l.Version.minor},entity:o,sessionId:e.sessionId,caStore:t,sessionCache:a,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(e,t,r,n){return t},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:n.util.createBuffer(),tlsData:n.util.createBuffer(),data:n.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:function(t,r){r.origin=r.origin||(t.entity===l.ConnectionEnd.client?"client":"server"),r.send&&(l.queue(t,l.createAlert(t,r.alert)),l.flush(t));var n=!1!==r.fatal;n&&(t.fail=!0),e.error(t,r),n&&t.close(!1)},deflate:e.deflate||null,inflate:e.inflate||null,reset:function(e){s.version={major:l.Version.major,minor:l.Version.minor},s.record=null,s.session=null,s.peerCertificate=null,s.state={pending:null,current:null},s.expect=(s.entity,l.ConnectionEnd.client,0),s.fragmented=null,s.records=[],s.open=!1,s.handshakes=0,s.handshaking=!1,s.isConnected=!1,s.fail=!(e||void 0===e),s.input.clear(),s.tlsData.clear(),s.data.clear(),s.state.current=l.createConnectionState(s)}};return s.reset(),s.handshake=function(e){if(s.entity!==l.ConnectionEnd.client)s.error(s,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(s.handshaking)s.error(s,{message:"Handshake already in progress.",fatal:!1});else{s.fail&&!s.open&&0===s.handshakes&&(s.fail=!1),s.handshaking=!0;var t=null;(e=e||"").length>0&&(s.sessionCache&&(t=s.sessionCache.getSession(e)),null===t&&(e="")),0===e.length&&s.sessionCache&&null!==(t=s.sessionCache.getSession())&&(e=t.id),s.session={id:e,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:n.md.md5.create(),sha1:n.md.sha1.create()},t&&(s.version=t.version,s.session.sp=t.sp),s.session.sp.client_random=l.createRandom().getBytes(),s.open=!0,l.queue(s,l.createRecord(s,{type:l.ContentType.handshake,data:l.createClientHello(s)})),l.flush(s)}},s.process=function(e){var t=0;return e&&s.input.putBytes(e),s.fail||(null!==s.record&&s.record.ready&&s.record.fragment.isEmpty()&&(s.record=null),null===s.record&&(t=function(e){var t=0,r=e.input,i=r.length();if(i<5)t=5-i;else{e.record={type:r.getByte(),version:{major:r.getByte(),minor:r.getByte()},length:r.getInt16(),fragment:n.util.createBuffer(),ready:!1};var o=e.record.version.major===e.version.major;o&&e.session&&e.session.version&&(o=e.record.version.minor===e.version.minor),o||e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.protocol_version}})}return t}(s)),s.fail||null===s.record||s.record.ready||(t=function(e){var t=0,r=e.input,n=r.length();return n<e.record.length?t=e.record.length-n:(e.record.fragment.putBytes(r.getBytes(e.record.length)),r.compact(),e.state.current.read.update(e,e.record)&&(null!==e.fragmented&&(e.fragmented.type===e.record.type?(e.fragmented.fragment.putBuffer(e.record.fragment),e.record=e.fragmented):e.error(e,{message:"Invalid fragmented record.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.unexpected_message}})),e.record.ready=!0)),t}(s)),!s.fail&&null!==s.record&&s.record.ready&&function(e,t){var r=t.type-l.ContentType.change_cipher_spec,n=B[e.entity][e.expect];r in n?n[r](e,t):l.handleUnexpected(e,t)}(s,s.record)),t},s.prepare=function(e){return l.queue(s,l.createRecord(s,{type:l.ContentType.application_data,data:n.util.createBuffer(e)})),l.flush(s)},s.prepareHeartbeatRequest=function(e,t){return e instanceof n.util.ByteBuffer&&(e=e.bytes()),void 0===t&&(t=e.length),s.expectedHeartbeatPayload=e,l.queue(s,l.createRecord(s,{type:l.ContentType.heartbeat,data:l.createHeartbeat(l.HeartbeatMessageType.heartbeat_request,e,t)})),l.flush(s)},s.close=function(e){if(!s.fail&&s.sessionCache&&s.session){var t={id:s.session.id,version:s.session.version,sp:s.session.sp};t.sp.keys=null,s.sessionCache.setSession(t.id,t)}s.open&&(s.open=!1,s.input.clear(),(s.isConnected||s.handshaking)&&(s.isConnected=s.handshaking=!1,l.queue(s,l.createAlert(s,{level:l.Alert.Level.warning,description:l.Alert.Description.close_notify})),l.flush(s)),s.closed(s)),s.reset(e)},s},e.exports=n.tls=n.tls||{},l)"function"!=typeof l[V]&&(n.tls[V]=l[V]);n.tls.prf_tls1=i,n.tls.hmac_sha1=function(e,t,r){var i=n.hmac.create();i.start("SHA1",e);var o=n.util.createBuffer();return o.putInt32(t[0]),o.putInt32(t[1]),o.putByte(r.type),o.putByte(r.version.major),o.putByte(r.version.minor),o.putInt16(r.length),o.putBytes(r.fragment.bytes()),i.update(o.getBytes()),i.digest().getBytes()},n.tls.createSessionCache=l.createSessionCache,n.tls.createConnection=l.createConnection},function(e,t,r){"use strict";var n=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();e.exports=function(e,t,r,i){var o=n,a=i+r;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},function(e,t,r){"use strict";e.exports=function(e,t,r,n){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==r;){r-=a=r>2e3?2e3:r;do{o=o+(i=i+t[n++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}},function(e,t,r){(function(e,n){var i=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(s(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,o=n.length,a=String(e).replace(i,function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),u=n[r];r<o;u=n[++r])g(u)||!w(u)?a+=" "+u:a+=" "+s(u);return a},t.deprecate=function(r,i){if(m(e.process))return function(){return t.deprecate(r,i).apply(this,arguments)};if(!0===n.noDeprecation)return r;var o=!1;return function(){if(!o){if(n.throwDeprecation)throw new Error(i);n.traceDeprecation?console.trace(i):console.error(i),o=!0}return r.apply(this,arguments)}};var o,a={};function s(e,r){var n={seen:[],stylize:l};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),d(r)?n.showHidden=r:r&&t._extend(n,r),m(n.showHidden)&&(n.showHidden=!1),m(n.depth)&&(n.depth=2),m(n.colors)&&(n.colors=!1),m(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),c(n,e,n.depth)}function u(e,t){var r=s.styles[t];return r?"["+s.colors[r][0]+"m"+e+"["+s.colors[r][1]+"m":e}function l(e,t){return e}function c(e,r,n){if(e.customInspect&&r&&S(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return v(i)||(i=c(e,i,n)),i}var o=function(e,t){if(m(t))return e.stylize("undefined","undefined");if(v(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return y(t)?e.stylize(""+t,"number"):d(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}(e,r);if(o)return o;var a=Object.keys(r),s=function(e){var t={};return a.forEach(function(e,r){t[e]=!0}),t}();if(e.showHidden&&(a=Object.getOwnPropertyNames(r)),E(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(r);if(0===a.length){if(S(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(b(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(C(r))return e.stylize(Date.prototype.toString.call(r),"date");if(E(r))return f(r)}var l,w="",T=!1,A=["{","}"];return p(r)&&(T=!0,A=["[","]"]),S(r)&&(w=" [Function"+(r.name?": "+r.name:"")+"]"),b(r)&&(w=" "+RegExp.prototype.toString.call(r)),C(r)&&(w=" "+Date.prototype.toUTCString.call(r)),E(r)&&(w=" "+f(r)),0!==a.length||T&&0!=r.length?n<0?b(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),l=T?function(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)k(t,String(a))?o.push(h(e,t,r,n,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(e,t,r,n,i,!0))}),o}(e,r,n,s,a):a.map(function(t){return h(e,r,n,s,t,T)}),e.seen.pop(),function(e,t,r){return e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(l,w,A)):A[0]+w+A[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,r,n,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),k(n,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=g(r)?c(e,u.value,null):c(e,u.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),m(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function p(e){return Array.isArray(e)}function d(e){return"boolean"==typeof e}function g(e){return null===e}function y(e){return"number"==typeof e}function v(e){return"string"==typeof e}function m(e){return void 0===e}function b(e){return w(e)&&"[object RegExp]"===T(e)}function w(e){return"object"==typeof e&&null!==e}function C(e){return w(e)&&"[object Date]"===T(e)}function E(e){return w(e)&&("[object Error]"===T(e)||e instanceof Error)}function S(e){return"function"==typeof e}function T(e){return Object.prototype.toString.call(e)}function A(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(m(o)&&(o=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var r=n.pid;a[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else a[e]=function(){};return a[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=d,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=y,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=m,t.isRegExp=b,t.isObject=w,t.isDate=C,t.isError=E,t.isFunction=S,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(134);var _=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,r;console.log("%s - %s",(r=[A((e=new Date).getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":"),[e.getDate(),_[e.getMonth()],r].join(" ")),t.format.apply(t,arguments))},t.inherits=r(133),t._extend=function(e,t){if(!t||!w(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(this,r(6),r(14))},function(e,t,r){"use strict";(function(t){function n(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}function i(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var o=r(76),a=Object.prototype.hasOwnProperty,s=Array.prototype.slice,u="foo"===function(){}.name;function l(e){return Object.prototype.toString.call(e)}function c(e){return!i(e)&&"function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var f=e.exports=v,h=/\s*function\s+([^\(\s]*)\s*/;function p(e){if(o.isFunction(e)){if(u)return e.name;var t=e.toString().match(h);return t&&t[1]}}function d(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function g(e){if(u||!o.isFunction(e))return o.inspect(e);var t=p(e);return"[Function"+(t?": "+t:"")+"]"}function y(e,t,r,n,i){throw new f.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}function v(e,t){e||y(e,!0,t,"==",f.ok)}function m(e,t,r,a){if(e===t)return!0;if(i(e)&&i(t))return 0===n(e,t);if(o.isDate(e)&&o.isDate(t))return e.getTime()===t.getTime();if(o.isRegExp(e)&&o.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(c(e)&&c(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===n(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;var u=(a=a||{actual:[],expected:[]}).actual.indexOf(e);return-1!==u&&u===a.expected.indexOf(t)||(a.actual.push(e),a.expected.push(t),function(e,t,r,n){if(null===e||void 0===e||null===t||void 0===t)return!1;if(o.isPrimitive(e)||o.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=b(e),a=b(t);if(i&&!a||!i&&a)return!1;if(i)return m(e=s.call(e),t=s.call(t),r);var u,l,c=E(e),f=E(t);if(c.length!==f.length)return!1;for(c.sort(),f.sort(),l=c.length-1;l>=0;l--)if(c[l]!==f[l])return!1;for(l=c.length-1;l>=0;l--)if(!m(e[u=c[l]],t[u],r,n))return!1;return!0}(e,t,r,a))}return r?e===t:e==t}function b(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function w(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function C(e,t,r,n){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!i&&y(i,r,"Missing expected exception"+n);var a="string"==typeof n,s=!e&&o.isError(i),u=!e&&i&&!r;if((s&&a&&w(i,r)||u)&&y(i,r,"Got unwanted exception"+n),e&&i&&r&&!w(i,r)||!e&&i)throw i}f.AssertionError=function(e){var t;this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=d(g((t=this).actual),128)+" "+t.operator+" "+d(g(t.expected),128),this.generatedMessage=!0);var r=e.stackStartFunction||y;if(Error.captureStackTrace)Error.captureStackTrace(this,r);else{var n=new Error;if(n.stack){var i=n.stack,o=p(r),a=i.indexOf("\n"+o);if(a>=0){var s=i.indexOf("\n",a+1);i=i.substring(s+1)}this.stack=i}}},o.inherits(f.AssertionError,Error),f.fail=y,f.ok=v,f.equal=function(e,t,r){e!=t&&y(e,t,r,"==",f.equal)},f.notEqual=function(e,t,r){e==t&&y(e,t,r,"!=",f.notEqual)},f.deepEqual=function(e,t,r){m(e,t,!1)||y(e,t,r,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(e,t,r){m(e,t,!0)||y(e,t,r,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(e,t,r){m(e,t,!1)&&y(e,t,r,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=function e(t,r,n){m(t,r,!0)&&y(t,r,n,"notDeepStrictEqual",e)},f.strictEqual=function(e,t,r){e!==t&&y(e,t,r,"===",f.strictEqual)},f.notStrictEqual=function(e,t,r){e===t&&y(e,t,r,"!==",f.notStrictEqual)},f.throws=function(e,t,r){C(!0,e,t,r)},f.doesNotThrow=function(e,t,r){C(!1,e,t,r)},f.ifError=function(e){if(e)throw e};var E=Object.keys||function(e){var t=[];for(var r in e)a.call(e,r)&&t.push(r);return t}}).call(this,r(6))},function(e,t,r){"use strict";e.exports=o;var n=r(20),i=r(28);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e),this._transformState={afterTransform:function(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush(function(t,r){s(e,t,r)}):s(this,null,null)}function s(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=r(24),i.inherits(o,n),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,function(e){t(e),r.emit("close")})}},function(e,t,r){"use strict";var n=r(34).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=l,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=c,this.end=f,t=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�".repeat(r);if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�".repeat(r+1);if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�".repeat(r+2)}}(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function c(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�".repeat(this.lastTotal-this.lastNeed):t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){"use strict";var n=r(35).nextTick;function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(n(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){e.exports=r(51).EventEmitter},function(e,t,r){"use strict";(function(t,n){var i=r(35).nextTick;e.exports=b;var o,a=r(108);b.ReadableState=m,r(51).EventEmitter;var s=function(e,t){return e.listeners(t).length},u=r(81),l=r(34).Buffer,c=t.Uint8Array||function(){},f=r(28);f.inherits=r(24);var h=r(144),p=void 0;p=h&&h.debuglog?h.debuglog("stream"):function(){};var d,g=r(143),y=r(80);f.inherits(b,u);var v=["error","close","destroy","pause","resume"];function m(e,t){o=o||r(20),e=e||{};var n=t instanceof o;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=r(79).StringDecoder),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function b(e){if(o=o||r(20),!(this instanceof b))return new b(e);this._readableState=new m(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function w(e,t,r,n,i){var o,a=e._readableState;return null===t?(a.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,T(e)}}(e,a)):(i||(o=function(e,t){var r,n;return n=t,l.isBuffer(n)||n instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===l.prototype||(t=function(e){return l.from(e)}(t)),n?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):C(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?C(e,a,t,!1):_(e,a)):C(e,a,t,!1))):n||(a.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function C(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&T(e)),_(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=y.destroy,b.prototype._undestroy=y.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=l.from(e,t),t=""),r=!0),w(this,e,t,!1,r)},b.prototype.unshift=function(e){return w(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return d||(d=r(79).StringDecoder),this._readableState.decoder=new d(e),this._readableState.encoding=e,this};var E=8388608;function S(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=E?e=E:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function T(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(p("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i(A,e):A(e))}function A(e){p("emit readable"),e.emit("readable"),B(e)}function _(e,t){t.readingMore||(t.readingMore=!0,i(k,e,t))}function k(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(p("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function I(e){p("readable nexttick read 0"),e.read(0)}function x(e,t){t.reading||(p("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;for(p("flow",t.flowing);t.flowing&&null!==e.read(););}function N(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0==(e-=a)){a===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=l.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,a),0==(e-=a)){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}(e,t),n}(e,t.buffer,t.decoder),r);var r}function L(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i(R,t,e))}function R(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function O(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}b.prototype.read=function(e){p("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return p("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?L(this):T(this),null;if(0===(e=S(e,t))&&t.ended)return 0===t.length&&L(this),null;var n,i=t.needReadable;return p("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&p("length less than watermark",i=!0),t.ended||t.reading?p("reading or ended",i=!1):i&&(p("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=S(r,t))),null===(n=e>0?N(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&L(this)),null!==n&&this.emit("data",n),n},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,p("pipe count=%d opts=%j",o.pipesCount,t);var u=t&&!1===t.end||e===n.stdout||e===n.stderr?m:l;function l(){p("onend"),e.end()}o.endEmitted?i(u):r.once("end",u),e.on("unpipe",function t(n,i){p("onunpipe"),n===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,p("cleanup"),e.removeListener("close",y),e.removeListener("finish",v),e.removeListener("drain",c),e.removeListener("error",g),e.removeListener("unpipe",t),r.removeListener("end",l),r.removeListener("end",m),r.removeListener("data",d),f=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||c())});var c=function(e){return function(){var t=e._readableState;p("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,B(e))}}(r);e.on("drain",c);var f=!1,h=!1;function d(t){p("ondata"),h=!1,!1!==e.write(t)||h||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==O(o.pipes,e))&&!f&&(p("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,h=!0),r.pause())}function g(t){p("onerror",t),m(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",v),m()}function v(){p("onfinish"),e.removeListener("close",y),m()}function m(){p("unpipe"),r.unpipe(e)}return r.on("data",d),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",g),e.once("close",y),e.once("finish",v),e.emit("pipe",r),o.flowing||(p("pipe resume"),r.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var a=O(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},b.prototype.on=function(e,t){var r=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&T(this):i(I,this))}return r},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(p("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i(x,e,t))}(this,e)),this},b.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",function(){if(p("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){p("wrapped data"),r.decoder&&(i=r.decoder.write(i)),(!r.objectMode||null!==i&&void 0!==i)&&(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<v.length;o++)e.on(v[o],this.emit.bind(this,v[o]));return this._read=function(t){p("wrapped _read",t),n&&(n=!1,e.resume())},this},b._fromList=N}).call(this,r(6),r(14))},function(e,t,r){"use strict";(function(e){var n=r(1).Buffer,i=r(145).Transform,o=r(135),a=r(76),s=r(77).ok,u=r(1).kMaxLength,l="Cannot create final Buffer. It would be larger than 0x"+u.toString(16)+" bytes";o.Z_MIN_WINDOWBITS=8,o.Z_MAX_WINDOWBITS=15,o.Z_DEFAULT_WINDOWBITS=15,o.Z_MIN_CHUNK=64,o.Z_MAX_CHUNK=1/0,o.Z_DEFAULT_CHUNK=16384,o.Z_MIN_MEMLEVEL=1,o.Z_MAX_MEMLEVEL=9,o.Z_DEFAULT_MEMLEVEL=8,o.Z_MIN_LEVEL=-1,o.Z_MAX_LEVEL=9,o.Z_DEFAULT_LEVEL=o.Z_DEFAULT_COMPRESSION;for(var c=Object.keys(o),f=0;f<c.length;f++){var h=c[f];h.match(/^Z/)&&Object.defineProperty(t,h,{enumerable:!0,value:o[h],writable:!1})}for(var p={Z_OK:o.Z_OK,Z_STREAM_END:o.Z_STREAM_END,Z_NEED_DICT:o.Z_NEED_DICT,Z_ERRNO:o.Z_ERRNO,Z_STREAM_ERROR:o.Z_STREAM_ERROR,Z_DATA_ERROR:o.Z_DATA_ERROR,Z_MEM_ERROR:o.Z_MEM_ERROR,Z_BUF_ERROR:o.Z_BUF_ERROR,Z_VERSION_ERROR:o.Z_VERSION_ERROR},d=Object.keys(p),g=0;g<d.length;g++){var y=d[g];p[p[y]]=y}function v(e,t,r){var i=[],o=0;function a(){for(var t;null!==(t=e.read());)i.push(t),o+=t.length;e.once("readable",a)}function s(){var t,a=null;o>=u?a=new RangeError(l):t=n.concat(i,o),i=[],e.close(),r(a,t)}e.on("error",function(t){e.removeListener("end",s),e.removeListener("readable",a),r(t)}),e.on("end",s),e.end(t),a()}function m(e,t){if("string"==typeof t&&(t=n.from(t)),!n.isBuffer(t))throw new TypeError("Not a string or buffer");var r=e._finishFlushFlag;return e._processChunk(t,r)}function b(e){if(!(this instanceof b))return new b(e);k.call(this,e,o.DEFLATE)}function w(e){if(!(this instanceof w))return new w(e);k.call(this,e,o.INFLATE)}function C(e){if(!(this instanceof C))return new C(e);k.call(this,e,o.GZIP)}function E(e){if(!(this instanceof E))return new E(e);k.call(this,e,o.GUNZIP)}function S(e){if(!(this instanceof S))return new S(e);k.call(this,e,o.DEFLATERAW)}function T(e){if(!(this instanceof T))return new T(e);k.call(this,e,o.INFLATERAW)}function A(e){if(!(this instanceof A))return new A(e);k.call(this,e,o.UNZIP)}function _(e){return e===o.Z_NO_FLUSH||e===o.Z_PARTIAL_FLUSH||e===o.Z_SYNC_FLUSH||e===o.Z_FULL_FLUSH||e===o.Z_FINISH||e===o.Z_BLOCK}function k(e,r){var a=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||t.Z_DEFAULT_CHUNK,i.call(this,e),e.flush&&!_(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!_(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||o.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:o.Z_FINISH,e.chunkSize&&(e.chunkSize<t.Z_MIN_CHUNK||e.chunkSize>t.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<t.Z_MIN_WINDOWBITS||e.windowBits>t.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<t.Z_MIN_LEVEL||e.level>t.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<t.Z_MIN_MEMLEVEL||e.memLevel>t.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=t.Z_FILTERED&&e.strategy!=t.Z_HUFFMAN_ONLY&&e.strategy!=t.Z_RLE&&e.strategy!=t.Z_FIXED&&e.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!n.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new o.Zlib(r);var s=this;this._hadError=!1,this._handle.onerror=function(e,r){I(s),s._hadError=!0;var n=new Error(e);n.errno=r,n.code=t.codes[r],s.emit("error",n)};var u=t.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(u=e.level);var l=t.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(l=e.strategy),this._handle.init(e.windowBits||t.Z_DEFAULT_WINDOWBITS,u,e.memLevel||t.Z_DEFAULT_MEMLEVEL,l,e.dictionary),this._buffer=n.allocUnsafe(this._chunkSize),this._offset=0,this._level=u,this._strategy=l,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!a._handle},configurable:!0,enumerable:!0})}function I(t,r){r&&e.nextTick(r),t._handle&&(t._handle.close(),t._handle=null)}function x(e){e.emit("close")}Object.defineProperty(t,"codes",{enumerable:!0,value:Object.freeze(p),writable:!1}),t.Deflate=b,t.Inflate=w,t.Gzip=C,t.Gunzip=E,t.DeflateRaw=S,t.InflateRaw=T,t.Unzip=A,t.createDeflate=function(e){return new b(e)},t.createInflate=function(e){return new w(e)},t.createDeflateRaw=function(e){return new S(e)},t.createInflateRaw=function(e){return new T(e)},t.createGzip=function(e){return new C(e)},t.createGunzip=function(e){return new E(e)},t.createUnzip=function(e){return new A(e)},t.deflate=function(e,t,r){return"function"==typeof t&&(r=t,t={}),v(new b(t),e,r)},t.deflateSync=function(e,t){return m(new b(t),e)},t.gzip=function(e,t,r){return"function"==typeof t&&(r=t,t={}),v(new C(t),e,r)},t.gzipSync=function(e,t){return m(new C(t),e)},t.deflateRaw=function(e,t,r){return"function"==typeof t&&(r=t,t={}),v(new S(t),e,r)},t.deflateRawSync=function(e,t){return m(new S(t),e)},t.unzip=function(e,t,r){return"function"==typeof t&&(r=t,t={}),v(new A(t),e,r)},t.unzipSync=function(e,t){return m(new A(t),e)},t.inflate=function(e,t,r){return"function"==typeof t&&(r=t,t={}),v(new w(t),e,r)},t.inflateSync=function(e,t){return m(new w(t),e)},t.gunzip=function(e,t,r){return"function"==typeof t&&(r=t,t={}),v(new E(t),e,r)},t.gunzipSync=function(e,t){return m(new E(t),e)},t.inflateRaw=function(e,t,r){return"function"==typeof t&&(r=t,t={}),v(new T(t),e,r)},t.inflateRawSync=function(e,t){return m(new T(t),e)},a.inherits(k,i),k.prototype.params=function(r,n,i){if(r<t.Z_MIN_LEVEL||r>t.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+r);if(n!=t.Z_FILTERED&&n!=t.Z_HUFFMAN_ONLY&&n!=t.Z_RLE&&n!=t.Z_FIXED&&n!=t.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+n);if(this._level!==r||this._strategy!==n){var a=this;this.flush(o.Z_SYNC_FLUSH,function(){s(a._handle,"zlib binding closed"),a._handle.params(r,n),a._hadError||(a._level=r,a._strategy=n,i&&i())})}else e.nextTick(i)},k.prototype.reset=function(){return s(this._handle,"zlib binding closed"),this._handle.reset()},k.prototype._flush=function(e){this._transform(n.alloc(0),"",e)},k.prototype.flush=function(t,r){var i=this,a=this._writableState;("function"==typeof t||void 0===t&&!r)&&(r=t,t=o.Z_FULL_FLUSH),a.ended?r&&e.nextTick(r):a.ending?r&&this.once("end",r):a.needDrain?r&&this.once("drain",function(){return i.flush(t,r)}):(this._flushFlag=t,this.write(n.alloc(0),"",r))},k.prototype.close=function(t){I(this,t),e.nextTick(x,this)},k.prototype._transform=function(e,t,r){var i,a=this._writableState,s=(a.ending||a.ended)&&(!e||a.length===e.length);return null===e||n.isBuffer(e)?this._handle?(s?i=this._finishFlushFlag:(i=this._flushFlag,e.length>=a.length&&(this._flushFlag=this._opts.flush||o.Z_NO_FLUSH)),void this._processChunk(e,i,r)):r(new Error("zlib binding closed")):r(new Error("invalid input"))},k.prototype._processChunk=function(e,t,r){var i=e&&e.length,o=this._chunkSize-this._offset,a=0,c=this,f="function"==typeof r;if(!f){var h,p=[],d=0;this.on("error",function(e){h=e}),s(this._handle,"zlib binding closed");do{var g=this._handle.writeSync(t,e,a,i,this._buffer,this._offset,o)}while(!this._hadError&&m(g[0],g[1]));if(this._hadError)throw h;if(d>=u)throw I(this),new RangeError(l);var y=n.concat(p,d);return I(this),y}s(this._handle,"zlib binding closed");var v=this._handle.write(t,e,a,i,this._buffer,this._offset,o);function m(u,l){if(this&&(this.buffer=null,this.callback=null),!c._hadError){var h=o-l;if(s(h>=0,"have should not go down"),h>0){var g=c._buffer.slice(c._offset,c._offset+h);c._offset+=h,f?c.push(g):(p.push(g),d+=g.length)}if((0===l||c._offset>=c._chunkSize)&&(o=c._chunkSize,c._offset=0,c._buffer=n.allocUnsafe(c._chunkSize)),0===l){if(a+=i-u,i=u,!f)return!0;var y=c._handle.write(t,e,a,i,c._buffer,c._offset,c._chunkSize);return y.callback=m,void(y.buffer=e)}if(!f)return!1;r()}}v.buffer=e,v.callback=m},a.inherits(b,k),a.inherits(w,k),a.inherits(C,k),a.inherits(E,k),a.inherits(S,k),a.inherits(T,k),a.inherits(A,k)}).call(this,r(14))},function(e,t,r){"use strict";var n=r(15),i=r(25);e.exports={slice:function(e,t){return Array.prototype.slice.call(e,t||0)},generateCEK:function(e){var t=i.createKeyStore(),r=n.KEYLENGTH[e];if(r)return t.generate("oct",r);throw new Error("unsupported encryption algorithm")}}},function(e,t,r){"use strict";function n(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}e.exports=function(e){e?"string"==typeof e&&(e=e.split(" ")):e=[];var t,r=[],i=[],o=[],a=[],s=/^(!)?([^*]*)(\*?)([^*]*)$/;e.forEach(function(e){if(e){s.lastIndex=0;var u=s.exec(e);u&&(t="("+function(e,t,r){var i=[];return i.push("^"),e&&(e=n(e),i.push(e)),t&&i.push(e||r?".*":".+"),r&&(r=n(r),i.push(r)),i.push("$"),i.join("")}(u[2],u[3],u[4])+")",u[1]?(a.push(t),i.push(u[0])):(o.push(t),r.push(u[0])))}}),o=o.length?new RegExp(o.join("|")):null,a=a.length?new RegExp(a.join("|")):null,r.length||(r=["*"]),Object.defineProperty(this,"spec",{value:r.join(" ")+" "+i.join(" "),enumerable:!0}),Object.defineProperty(this,"match",{value:function(e){var t=Boolean(e);return t&&o&&(o.lastIndex=0,t=o.test(e)),t&&a&&(a.lastIndex=0,t=!a.test(e)),t}})}},function(e,t,r){"use strict";e.exports={MODE_SIGN:"sign",MODE_VERIFY:"verify",MODE_ENCRYPT:"encrypt",MODE_DECRYPT:"decrypt",MODE_WRAP:"wrap",MODE_UNWRAP:"unwrap"}},function(e,t,r){"use strict";(function(t){var n=r(15),i=r(57);var o={};["HKDF-SHA-1","HKDF-SHA-256","HKDF-SHA-384","HKDF-SHA-512"].forEach(function(e){o[e]={derive:function(e){var r=e.replace("HKDF-",""),o=e.replace("HKDF-SHA-","HS");return function(e,a){var s=n.HASHLENGTH[r]/8;"string"==typeof o&&(o=i[o].sign);var u=(a=a||{}).salt;u&&0!==u.length||(u=t.alloc(s));var l=a.info||t.alloc(0),c=a.length||s,f=Math.ceil(c/s),h=[],p=0;return o(u,e,{length:8*u.length}).then(function(e){return function e(r,n){return f===p++?t.concat(h).slice(0,c):(n||(n=t.alloc(0)),n=t.concat([n,l,t.from([p])]),n=(n=o(r,n)).then(function(t){return n=t.mac,h.push(n),e(r,n)}))}(e.mac)})}}(e)}}),e.exports=o}).call(this,r(1).Buffer)},function(e,t,r){"use strict";var n=r(5).jsbn.BigInteger;function i(){return new n(null)}function o(e){this.r2=i(),this.q3=i(),n.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function a(e,t){this.x=t,this.p=e}function s(e,t,r,i){this.curve=e,this.x=t,this.y=r,this.z=i||n.ONE,this.zinv=null}function u(e,t,r){this.p=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(r),this.infinity=new s(this,null,null),this.reducer=new o(this.p)}o.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=i();return e.copyTo(t),this.reduce(t),t},o.prototype.revert=function(e){return e},o.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},o.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},o.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},a.prototype.equals=function(e){return e===this||this.p.equals(e.p)&&this.x.equals(e.x)},a.prototype.toBigInteger=function(){return this.x},a.prototype.negate=function(){return new a(this.p,this.x.negate().mod(this.p))},a.prototype.add=function(e){return new a(this.p,this.x.add(e.toBigInteger()).mod(this.p))},a.prototype.subtract=function(e){return new a(this.p,this.x.subtract(e.toBigInteger()).mod(this.p))},a.prototype.multiply=function(e){return new a(this.p,this.x.multiply(e.toBigInteger()).mod(this.p))},a.prototype.square=function(){return new a(this.p,this.x.pow(2).mod(this.p))},a.prototype.divide=function(e){return new a(this.p,this.x.multiply(e.toBigInteger().modInverse(this.p)).mod(this.p))},s.prototype.getX=function(){this.zinv||(this.zinv=this.z.modInverse(this.curve.p));var e=this.x.toBigInteger().multiply(this.zinv);return this.curve.reduce(e),this.curve.fromBigInteger(e)},s.prototype.getY=function(){this.zinv||(this.zinv=this.z.modInverse(this.curve.p));var e=this.y.toBigInteger().multiply(this.zinv);return this.curve.reduce(e),this.curve.fromBigInteger(e)},s.prototype.equals=function(e){return e===this||(this.isInfinity()?e.isInfinity():e.isInfinity()?this.isInfinity():!!e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.p).equals(n.ZERO)&&e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.p).equals(n.ZERO))},s.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(n.ZERO)&&!this.y.toBigInteger().equals(n.ZERO)},s.prototype.negate=function(){return new s(this.curve,this.x,this.y.negate(),this.z)},s.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.p),r=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.p);if(n.ZERO.equals(r))return n.ZERO.equals(t)?this.twice():this.curve.getInfinity();var i=new n("3"),o=this.x.toBigInteger(),a=this.y.toBigInteger(),u=r.pow(2),l=u.multiply(r),c=o.multiply(u),f=t.pow(2).multiply(this.z),h=f.subtract(c.shiftLeft(1)).multiply(e.z).subtract(l).multiply(r).mod(this.curve.p),p=c.multiply(i).multiply(t).subtract(a.multiply(l)).subtract(f.multiply(t)).multiply(e.z).add(t.multiply(l)).mod(this.curve.p),d=l.multiply(this.z).multiply(e.z).mod(this.curve.p);return new s(this.curve,this.curve.fromBigInteger(h),this.curve.fromBigInteger(p),d)},s.prototype.twice=function(){if(this.isInfinity())return this;if(0===this.y.toBigInteger().signum())return this.curve.getInfinity();var e=new n("3"),t=this.x.toBigInteger(),r=this.y.toBigInteger(),i=r.multiply(this.z),o=i.multiply(r).mod(this.curve.p),a=this.curve.a.toBigInteger(),u=t.pow(2).multiply(e);n.ZERO.equals(a)||(u=u.add(this.z.pow(2).multiply(a)));var l=(u=u.mod(this.curve.p)).pow(2).subtract(t.shiftLeft(3).multiply(o)).shiftLeft(1).multiply(i).mod(this.curve.p),c=u.multiply(e).multiply(t).subtract(o.shiftLeft(1)).shiftLeft(2).multiply(o).subtract(u.pow(2).multiply(u)).mod(this.curve.p),f=i.pow(2).multiply(i).shiftLeft(3).mod(this.curve.p);return new s(this.curve,this.curve.fromBigInteger(l),this.curve.fromBigInteger(c),f)},s.prototype.multiply=function(e){if(this.isInfinity())return this;if(0===e.signum())return this.curve.getInfinity();var t,r=e,i=r.multiply(new n("3")),o=this.negate(),a=this;for(t=i.bitLength()-2;t>0;--t){a=a.twice();var s=i.testBit(t);s!==r.testBit(t)&&(a=a.add(s?this:o))}return a},s.prototype.multiplyTwo=function(e,t,r){var n;n=e.bitLength()>r.bitLength()?e.bitLength()-1:r.bitLength()-1;for(var i=this.curve.getInfinity(),o=this.add(t);n>=0;)i=i.twice(),e.testBit(n)?i=r.testBit(n)?i.add(o):i.add(this):r.testBit(n)&&(i=i.add(t)),--n;return i},u.prototype.getP=function(){return this.p},u.prototype.getA=function(){return this.a},u.prototype.getB=function(){return this.b},u.prototype.equals=function(e){return e===this||this.p.equals(e.p)&&this.a.equals(e.a)&&this.b.equals(e.b)},u.prototype.contains=function(e){var t=e.getX().toBigInteger(),r=e.getY().toBigInteger(),n=this.a.toBigInteger(),i=this.b.toBigInteger(),o=this.p,a=r.pow(2).mod(o),s=t.pow(3).add(n.multiply(t)).add(i).mod(o);return a.equals(s)},u.prototype.getInfinity=function(){return this.infinity},u.prototype.fromBigInteger=function(e){return new a(this.p,e)},u.prototype.reduce=function(e){this.reducer.reduce(e)},u.prototype.decodePointHex=function(e){switch(parseInt(e.substring(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var t=(e.length-2)/2,r=e.substr(2,t),i=e.substr(t+2,t);return new s(this,this.fromBigInteger(new n(r,16)),this.fromBigInteger(new n(i,16)));default:return null}},u.prototype.encodePointHex=function(e){if(e.isInfinity())return"00";var t=e.getX().toBigInteger().toString(16),r=e.getY().toBigInteger().toString(16),n=this.getP().toString(16).length;for(n%2!=0&&n++;t.length<n;)t="0"+t;for(;r.length<n;)r="0"+r;return"04"+t+r},e.exports={ECFieldElementFp:a,ECPointFp:s,ECCurveFp:u}},function(e,t,r){"use strict";(function(e){var n=r(5),i=n.jsbn.BigInteger,o=r(88),a=r(157);function s(e){return new i(e,16)}function u(t,r){r||(r=Math.ceil(t.bitLength()/8)),r*=2;var n=t.toString(16);for(n=n.substring(Math.max(n.length-r,0));r>n.length;)n="0"+n;return e.from(n,"hex")}function l(t){return"string"==typeof t&&(t=e.from(t,"binary")),s(t.toString("hex"))}function c(e){return Math.ceil(e.getN().bitLength()/8)}function f(e){var t=a[e];if(!t)throw new TypeError("unsupported named curve: "+e);return t}function h(e,t){var r=e.getN().bitLength(),n=8*t.length,i=l(t);return r<n&&(i=i.shiftRight(n-r)),i}function p(e,t,r){var n=f(e),i=n.getCurve(),a=new o.ECPointFp(i,i.fromBigInteger(t),i.fromBigInteger(r));this.curve=e,this.params=n,this.point=a;var s=c(n);this.x=u(t,s),this.y=u(r,s)}function d(e,t){var r=f(e);this.curve=e,this.params=r;var n=c(r);this.d=u(t,n)}p.prototype.isValid=function(){return this.params.curve.contains(this.point)},p.prototype.verify=function(e,t){var r=this.params.getN(),n=this.params.getG(),o=l(t.r),a=l(t.s);if(o.compareTo(i.ONE)<0||o.compareTo(r)>=0)return!1;if(a.compareTo(i.ONE)<0||o.compareTo(r)>=0)return!1;var s=h(this.params,e),u=a.modInverse(r),c=s.multiply(u).mod(r),f=o.multiply(u).mod(r),p=n.multiplyTwo(c,this.point,f).getX().toBigInteger();return(p=p.mod(r)).equals(o)},d.prototype.toPublicKey=function(){var e=l(this.d),t=this.params.getG().multiply(e);return new p(this.curve,t.getX().toBigInteger(),t.getY().toBigInteger())},d.prototype.sign=function(e){var t,r,o,a,s=c(this.params),f=this.params.getN(),p=this.params.getG(),d=h(this.params,e),g=l(this.d);do{do{do{o=l(n.random.getBytes(s))}while(o.equals(i.ZERO)||o.compareTo(f)>=0);t=p.multiply(o).getX().toBigInteger().mod(f)}while(t.equals(i.ZERO));a=g.multiply(t),a=d.add(a),r=o.modInverse(f).multiply(a).mod(f)}while(r.equals(i.ONE));var y=c(this.params);return{r:t=u(t,y),s:r=u(r,y)}},d.prototype.isValid=function(){var e=l(this.d),t=this.params.getN().subtract(i.ONE);return e.compareTo(i.ONE)>=0&&e.compareTo(t)<0},d.prototype.computeSecret=function(e){var t=l(this.d),r=e.point.multiply(t).getX().toBigInteger();return u(r,c(this.params))},t.generateKeyPair=function(e){var t=f(e),r=t.getN(),o=n.random.getBytes(c(t));o=l(o);var a=r.subtract(i.ONE),s=new d(e,o.mod(a).add(i.ONE));return{private:s,public:s.toPublicKey()}},t.asPublicKey=function(t,r,n){return"string"==typeof r?r=s(r):e.isBuffer(r)&&(r=l(r)),"string"==typeof n?n=s(n):e.isBuffer(n)&&(n=l(n)),new p(t,r,n)},t.asPrivateKey=function(t,r){return"string"==typeof r?r=s(r):e.isBuffer(r)&&(r=l(r)),new d(t,r)}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){var n=r(15),i=r(37),o={};["CONCAT-SHA-1","CONCAT-SHA-256","CONCAT-SHA-384","CONCAT-SHA-512"].forEach(function(e){o[e]={derive:function(e){return e=e.replace("CONCAT-",""),function(r,o){var a=(o=o||{}).length,s=n.HASHLENGTH[e];if(!a)return Promise.reject(new Error("invalid key length"));if(!o.otherInfo)return Promise.reject(new Error("invalid otherInfo"));var u=o.otherInfo,l=i[e].digest,c=Math.ceil(a/s),f=0,h=[];return function e(){if(c===f++)return t.concat(h).slice(0,a);var n=t.alloc(4+r.length+u.length);return n.writeUInt32BE(f,0),r.copy(n,4),u.copy(n,4+r.length),l(n).then(function(t){return h.push(t),e()})}()}}(e)}}),e.exports=o}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){var n=r(56),i=r(161),o=r(36),a=3774873600,s=new n(a>>8),u=e.exports={E1:a,E1B:225,E1L:s,LOOKUP:function(){for(var e=[],t=0;t<256;++t){for(var r=0,n=7;n>=0;--n)0!=(t&1<<n)&&(r^=a>>>7-n);e.push(r)}return e}(),arrayCopy:function(e,t,r,n,i){if(t<0||n<0||i<0)throw new TypeError("Invalid input.");if(r instanceof Uint8Array){if(n>=r.length||n+i>r.length)throw new TypeError("Invalid input.");(0!==t||i<e.length)&&(e=e instanceof Uint8Array?e.subarray(t,t+i):e.slice(t,t+i)),r.set(e,n)}else for(var o=0;o<i;++o)r[n+o]=e[t+o]},arrayEqual:function(e,t){e=e||[],t=t||[];for(var r=Math.min(e.length,t.length),n=e.length===t.length,i=0;i<r;i++)n=n&&void 0!==e[i]&&void 0!==t[i]&&e[i]===t[i];return n},asBytes:function(e,r){switch(arguments.length){case 1:return r=t.alloc(16),o.intToBigEndian(e,r,0),r;case 2:o.intToBigEndian(e,r,0);break;default:throw new TypeError("Expected 1 or 2 arguments.")}},asInts:function(e,t){switch(arguments.length){case 1:return i(t=[],0,0,4),o.bigEndianToInt(e,0,t),t;case 2:o.bigEndianToInt(e,0,t);break;default:throw new TypeError("Expected 1 or 2 arguments.")}},oneAsInts:function(){for(var e=[],t=0;t<4;++t)e.push(1<<31);return e},shiftRight:function(e,t){var r,n;switch(arguments.length){case 1:return r=e[0],e[0]=r>>>1,n=r<<31,r=e[1],e[1]=r>>>1|n,n=r<<31,r=e[2],e[2]=r>>>1|n,n=r<<31,r=e[3],e[3]=r>>>1|n,r<<31&4294967295;case 2:return r=e[0],t[0]=r>>>1,n=r<<31,r=e[1],t[1]=r>>>1|n,n=r<<31,r=e[2],t[2]=r>>>1|n,n=r<<31,r=e[3],t[3]=r>>>1|n,r<<31&4294967295;default:throw new TypeError("Expected 1 or 2 arguments.")}},shiftRightN:function(e,t,r){var n,i,o;switch(arguments.length){case 2:return i=e[0],n=32-t,e[0]=i>>>t,o=i<<n,i=e[1],e[1]=i>>>t|o,o=i<<n,i=e[2],e[2]=i>>>t|o,o=i<<n,i=e[3],e[3]=i>>>t|o,i<<n;case 3:return i=e[0],n=32-t,r[0]=i>>>t,o=i<<n,i=e[1],r[1]=i>>>t|o,o=i<<n,i=e[2],r[2]=i>>>t|o,o=i<<n,i=e[3],r[3]=i>>>t|o,i<<n;default:throw new TypeError("Expected 2 or 3 arguments.")}},xor:function(e,t,r){switch(arguments.length){case 2:e[0]^=t[0],e[1]^=t[1],e[2]^=t[2],e[3]^=t[3];break;case 3:r[0]=e[0]^t[0],r[1]=e[1]^t[1],r[2]=e[2]^t[2],r[3]=e[3]^t[3];break;default:throw new TypeError("Expected 2 or 3 arguments.")}},multiply:function(e,t){for(var r=e.slice(),n=[],i=0;i<4;++i)for(var o=t[i],a=31;a>=0;--a)0!=(o&1<<a)&&u.xor(n,r),0!==u.shiftRight(r)&&(r[0]^=u.E1);u.arrayCopy(n,0,e,0,4)},multiplyP:function(e,t){switch(arguments.length){case 1:0!==u.shiftRight(e)&&(e[0]^=u.E1);break;case 2:0!==u.shiftRight(e,t)&&(t[0]^=u.E1);break;default:throw new TypeError("Expected 1 or 2 arguments.")}},multiplyP8:function(e,t){var r;switch(arguments.length){case 1:r=u.shiftRightN(e,8),e[0]^=u.LOOKUP[r>>>24];break;case 2:r=u.shiftRightN(e,8,t),t[0]^=u.LOOKUP[r>>>24];break;default:throw new TypeError("Expected 1 or 2 arguments.")}}}}).call(this,r(1).Buffer)},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,i=r;return i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]}},function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);e.exports=function(){return r(n),n}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t,r){(function(t){var r=1/0,n=9007199254740991,i="[object Arguments]",o="[object Function]",a="[object GeneratorFunction]",s="[object Symbol]",u="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,c=u||l||Function("return this")();function f(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var h=Object.prototype,p=h.hasOwnProperty,d=h.toString,g=c.Symbol,y=h.propertyIsEnumerable,v=g?g.isConcatSpreadable:void 0,m=Math.max;function b(e){return C(e)||function(e){return function(e){return E(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?d.call(e):"";return t==o||t==a}(e)}(e)}(e)&&p.call(e,"callee")&&(!y.call(e,"callee")||d.call(e)==i)}(e)||!!(v&&e&&e[v])}function w(e){if("string"==typeof e||function(e){return"symbol"==typeof e||E(e)&&d.call(e)==s}(e))return e;var t=e+"";return"0"==t&&1/e==-r?"-0":t}var C=Array.isArray;function E(e){return!!e&&"object"==typeof e}var S,T,A=(S=function(e,t){return null==e?{}:function(e,t){return function(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var a=t[n],s=e[a];r(s,a)&&(o[a]=s)}return o}(e=Object(e),t,function(t,r){return r in e})}(e,function(e,t){for(var r=-1,n=e?e.length:0,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}(function e(t,r,n,i,o){var a=-1,s=t.length;for(n||(n=b),o||(o=[]);++a<s;){var u=t[a];r>0&&n(u)?r>1?e(u,r-1,n,i,o):f(o,u):i||(o[o.length]=u)}return o}(t,1),w))},T=m(void 0===T?S.length-1:T,0),function(){for(var e=arguments,t=-1,r=m(e.length-T,0),n=Array(r);++t<r;)n[t]=e[T+t];t=-1;for(var i=Array(T+1);++t<T;)i[t]=e[t];return i[T]=n,function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(S,this,i)});e.exports=A}).call(this,r(6))},function(e,t,r){(function(t){var r="__lodash_hash_undefined__",n=1/0,i=9007199254740991,o="[object Arguments]",a="[object Function]",s="[object GeneratorFunction]",u="[object Symbol]",l=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,f="object"==typeof t&&t&&t.Object===Object&&t,h="object"==typeof self&&self&&self.Object===Object&&self,p=f||h||Function("return this")();function d(e,t){return!(!e||!e.length)&&function(e,t,r){if(t!=t)return function(e,t,r,n){for(var i=e.length,o=-1;++o<i;)if(t(e[o],o,e))return o;return-1}(e,v);for(var n=-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}(e,t)>-1}function g(e,t){for(var r=-1,n=e?e.length:0,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function y(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function v(e){return e!=e}function m(e,t){return e.has(t)}function b(e,t){return function(r){return e(t(r))}}var w,C=Array.prototype,E=Function.prototype,S=Object.prototype,T=p["__core-js_shared__"],A=(w=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+w:"",_=E.toString,k=S.hasOwnProperty,I=S.toString,x=RegExp("^"+_.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),B=p.Symbol,N=b(Object.getPrototypeOf,Object),L=S.propertyIsEnumerable,R=C.splice,O=B?B.isConcatSpreadable:void 0,P=Object.getOwnPropertySymbols,D=Math.max,F=W(p,"Map"),U=W(Object,"create");function M(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function j(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function H(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function K(e){var t=-1,r=e?e.length:0;for(this.__data__=new H;++t<r;)this.add(e[t])}function V(e,t){for(var r,n,i=e.length;i--;)if((r=e[i][0])===(n=t)||r!=r&&n!=n)return i;return-1}function z(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function W(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!te(e)||A&&A in e)&&(ee(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?x:l).test(function(e){if(null!=e){try{return _.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(r)?r:void 0}M.prototype.clear=function(){this.__data__=U?U(null):{}},M.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},M.prototype.get=function(e){var t=this.__data__;if(U){var n=t[e];return n===r?void 0:n}return k.call(t,e)?t[e]:void 0},M.prototype.has=function(e){var t=this.__data__;return U?void 0!==t[e]:k.call(t,e)},M.prototype.set=function(e,t){return this.__data__[e]=U&&void 0===t?r:t,this},j.prototype.clear=function(){this.__data__=[]},j.prototype.delete=function(e){var t=this.__data__,r=V(t,e);return!(r<0||(r==t.length-1?t.pop():R.call(t,r,1),0))},j.prototype.get=function(e){var t=this.__data__,r=V(t,e);return r<0?void 0:t[r][1]},j.prototype.has=function(e){return V(this.__data__,e)>-1},j.prototype.set=function(e,t){var r=this.__data__,n=V(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},H.prototype.clear=function(){this.__data__={hash:new M,map:new(F||j),string:new M}},H.prototype.delete=function(e){return z(this,e).delete(e)},H.prototype.get=function(e){return z(this,e).get(e)},H.prototype.has=function(e){return z(this,e).has(e)},H.prototype.set=function(e,t){return z(this,e).set(e,t),this},K.prototype.add=K.prototype.push=function(e){return this.__data__.set(e,r),this},K.prototype.has=function(e){return this.__data__.has(e)};var q=P?b(P,Object):se,G=P?function(e){for(var t=[];e;)y(t,q(e)),e=N(e);return t}:se;function Y(e){return J(e)||Q(e)||!!(O&&e&&e[O])}function X(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||c.test(e))&&e>-1&&e%1==0&&e<t}function Z(e){if("string"==typeof e||function(e){return"symbol"==typeof e||re(e)&&I.call(e)==u}(e))return e;var t=e+"";return"0"==t&&1/e==-n?"-0":t}function Q(e){return function(e){return re(e)&&$(e)}(e)&&k.call(e,"callee")&&(!L.call(e,"callee")||I.call(e)==o)}var J=Array.isArray;function $(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}(e.length)&&!ee(e)}function ee(e){var t=te(e)?I.call(e):"";return t==a||t==s}function te(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function re(e){return!!e&&"object"==typeof e}function ne(e){return $(e)?function(e,t){var r=J(e)||Q(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,i=!!n;for(var o in e)!t&&!k.call(e,o)||i&&("length"==o||X(o,n))||r.push(o);return r}(e,!0):function(e){if(!te(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t,r,n=(r=(t=e)&&t.constructor,t===("function"==typeof r&&r.prototype||S)),i=[];for(var o in e)("constructor"!=o||!n&&k.call(e,o))&&i.push(o);return i}(e)}var ie,oe,ae=(ie=function(e,t){return null==e?{}:(t=g(function e(t,r,n,i,o){var a=-1,s=t.length;for(n||(n=Y),o||(o=[]);++a<s;){var u=t[a];r>0&&n(u)?r>1?e(u,r-1,n,i,o):y(o,u):i||(o[o.length]=u)}return o}(t,1),Z),function(e,t){return function(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var a=t[n],s=e[a];r(s,a)&&(o[a]=s)}return o}(e=Object(e),t,function(t,r){return r in e})}(e,function(e,t,r,n){var i=-1,o=d,a=!0,s=e.length,u=[],l=t.length;if(!s)return u;t.length>=200&&(o=m,a=!1,t=new K(t));e:for(;++i<s;){var c=e[i],f=c;if(c=0!==c?c:0,a&&f==f){for(var h=l;h--;)if(t[h]===f)continue e;u.push(c)}else o(t,f,n)||u.push(c)}return u}(function(e){return function(e,t,r){var n=ne(e);return J(e)?n:y(n,r(e))}(e,0,G)}(e),t)))},oe=D(void 0===oe?ie.length-1:oe,0),function(){for(var e=arguments,t=-1,r=D(e.length-oe,0),n=Array(r);++t<r;)n[t]=e[oe+t];t=-1;for(var i=Array(oe+1);++t<oe;)i[t]=e[t];return i[oe]=n,function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(ie,this,i)});function se(){return[]}e.exports=ae}).call(this,r(6))},function(e,t){var r,n,i=9007199254740991,o="[object Arguments]",a="[object Function]",s="[object GeneratorFunction]",u=/^(?:0|[1-9]\d*)$/,l=Object.prototype,c=l.hasOwnProperty,f=l.toString,h=l.propertyIsEnumerable,p=(r=Object.keys,n=Object,function(e){return r(n(e))}),d=Math.max,g=!h.call({valueOf:1},"valueOf");function y(e,t,r){var n=e[t];c.call(e,t)&&b(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function v(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||u.test(e))&&e>-1&&e%1==0&&e<t}function m(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||l)}function b(e,t){return e===t||e!=e&&t!=t}var w=Array.isArray;function C(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}(e.length)&&!function(e){var t=E(e)?f.call(e):"";return t==a||t==s}(e)}function E(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var S=function(e){return t=function(t,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&function(e,t,r){if(!E(r))return!1;var n=typeof t;return!!("number"==n?C(r)&&v(t,r.length):"string"==n&&t in r)&&b(r[t],e)}(r[0],r[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++n<i;){var s=r[n];s&&e(t,s)}return t},r=d(void 0===r?t.length-1:r,0),function(){for(var e=arguments,n=-1,i=d(e.length-r,0),o=Array(i);++n<i;)o[n]=e[r+n];n=-1;for(var a=Array(r+1);++n<r;)a[n]=e[n];return a[r]=o,function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(t,this,a)};var t,r}(function(e,t){if(g||m(t)||C(t))!function(e,t,r,n){r||(r={});for(var i=-1,o=t.length;++i<o;){var a=t[i];y(r,a,e[a])}}(t,function(e){return C(e)?function(e,t){var r=w(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&C(e)}(e)&&c.call(e,"callee")&&(!h.call(e,"callee")||f.call(e)==o)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,i=!!n;for(var a in e)!t&&!c.call(e,a)||i&&("length"==a||v(a,n))||r.push(a);return r}(e):function(e){if(!m(e))return p(e);var t=[];for(var r in Object(e))c.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}(t),e);else for(var r in t)c.call(t,r)&&y(e,r,t[r])});e.exports=S},function(e,t,r){var n=r(2);r(13),r(27),r(22),r(100),r(99),r(9),r(42),r(26),r(3),r(62);var i=n.asn1,o=n.pki,a=e.exports=n.pkcs12=n.pkcs12||{},s={name:"ContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},u={name:"PFX",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},s,{name:"PFX.macData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:i.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},l={name:"SafeBag",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},c={name:"Attribute",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,capture:"values"}]},f={name:"CertBag",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:i.Class.UNIVERSAL,type:i.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function h(e,t,r,n){for(var i=[],o=0;o<e.length;o++)for(var a=0;a<e[o].safeBags.length;a++){var s=e[o].safeBags[a];void 0!==n&&s.type!==n||(null!==t?void 0!==s.attributes[t]&&s.attributes[t].indexOf(r)>=0&&i.push(s):i.push(s))}return i}function p(e){if(e.composed||e.constructed){for(var t=n.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}function d(e,t){var r={},a=[];if(!i.validate(e,n.pkcs7.asn1.encryptedDataValidator,r,a))throw(s=new Error("Cannot read EncryptedContentInfo.")).errors=a,s;var s,u=i.derToOid(r.contentType);if(u!==o.oids.data)throw(s=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=u,s;u=i.derToOid(r.encAlgorithm);var l=o.pbe.getCipher(u,r.encParameter,t),c=p(r.encryptedContentAsn1),f=n.util.createBuffer(c.value);if(l.update(f),!l.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return l.output.getBytes()}function g(e,t,r){if(!t&&0===e.length)return[];if((e=i.fromDer(e,t)).tagClass!==i.Class.UNIVERSAL||e.type!==i.Type.SEQUENCE||!0!==e.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],a=0;a<e.value.length;a++){var s=e.value[a],u={},c=[];if(!i.validate(s,l,u,c))throw(v=new Error("Cannot read SafeBag.")).errors=c,v;var h,p,d={type:i.derToOid(u.bagId),attributes:y(u.bagAttributes)};n.push(d);var g=u.bagValue.value[0];switch(d.type){case o.oids.pkcs8ShroudedKeyBag:if(null===(g=o.decryptPrivateKeyInfo(g,r)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case o.oids.keyBag:try{d.key=o.privateKeyFromAsn1(g)}catch(e){d.key=null,d.asn1=g}continue;case o.oids.certBag:h=f,p=function(){if(i.derToOid(u.certId)!==o.oids.x509Certificate){var e=new Error("Unsupported certificate type, only X.509 supported.");throw e.oid=i.derToOid(u.certId),e}var r=i.fromDer(u.cert,t);try{d.cert=o.certificateFromAsn1(r,!0)}catch(e){d.cert=null,d.asn1=r}};break;default:var v;throw(v=new Error("Unsupported PKCS#12 SafeBag type.")).oid=d.type,v}if(void 0!==h&&!i.validate(g,h,u,c))throw(v=new Error("Cannot read PKCS#12 "+h.name)).errors=c,v;p()}return n}function y(e){var t={};if(void 0!==e)for(var r=0;r<e.length;++r){var n={},a=[];if(!i.validate(e[r],c,n,a)){var s=new Error("Cannot read PKCS#12 BagAttribute.");throw s.errors=a,s}var u=i.derToOid(n.oid);if(void 0!==o.oids[u]){t[o.oids[u]]=[];for(var l=0;l<n.values.length;++l)t[o.oids[u]].push(n.values[l].value)}}return t}a.pkcs12FromAsn1=function(e,t,r){"string"==typeof t?(r=t,t=!0):void 0===t&&(t=!0);var l={};if(!i.validate(e,u,l,[]))throw(c=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=c,c;var c,f={version:l.version.charCodeAt(0),safeContents:[],getBags:function(e){var t,r={};return"localKeyId"in e?t=e.localKeyId:"localKeyIdHex"in e&&(t=n.util.hexToBytes(e.localKeyIdHex)),void 0===t&&!("friendlyName"in e)&&"bagType"in e&&(r[e.bagType]=h(f.safeContents,null,null,e.bagType)),void 0!==t&&(r.localKeyId=h(f.safeContents,"localKeyId",t,e.bagType)),"friendlyName"in e&&(r.friendlyName=h(f.safeContents,"friendlyName",e.friendlyName,e.bagType)),r},getBagsByFriendlyName:function(e,t){return h(f.safeContents,"friendlyName",e,t)},getBagsByLocalKeyId:function(e,t){return h(f.safeContents,"localKeyId",e,t)}};if(3!==l.version.charCodeAt(0))throw(c=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=l.version.charCodeAt(0),c;if(i.derToOid(l.contentType)!==o.oids.data)throw(c=new Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=i.derToOid(l.contentType),c;var y=l.content.value[0];if(y.tagClass!==i.Class.UNIVERSAL||y.type!==i.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(y=p(y),l.mac){var v=null,m=0,b=i.derToOid(l.macAlgorithm);switch(b){case o.oids.sha1:v=n.md.sha1.create(),m=20;break;case o.oids.sha256:v=n.md.sha256.create(),m=32;break;case o.oids.sha384:v=n.md.sha384.create(),m=48;break;case o.oids.sha512:v=n.md.sha512.create(),m=64;break;case o.oids.md5:v=n.md.md5.create(),m=16}if(null===v)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+b);var w=new n.util.ByteBuffer(l.macSalt),C="macIterations"in l?parseInt(n.util.bytesToHex(l.macIterations),16):1,E=a.generateKey(r,w,3,C,m,v),S=n.hmac.create();if(S.start(v,E),S.update(y.value),S.getMac().getBytes()!==l.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return function(e,t,r,n){if((t=i.fromDer(t,r)).tagClass!==i.Class.UNIVERSAL||t.type!==i.Type.SEQUENCE||!0!==t.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var a=0;a<t.value.length;a++){var u=t.value[a],l={},c=[];if(!i.validate(u,s,l,c))throw(v=new Error("Cannot read ContentInfo.")).errors=c,v;var f={encrypted:!1},h=null,y=l.content.value[0];switch(i.derToOid(l.contentType)){case o.oids.data:if(y.tagClass!==i.Class.UNIVERSAL||y.type!==i.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");h=p(y).value;break;case o.oids.encryptedData:h=d(y,n),f.encrypted=!0;break;default:var v;throw(v=new Error("Unsupported PKCS#12 contentType.")).contentType=i.derToOid(l.contentType),v}f.safeBags=g(h,r,n),e.safeContents.push(f)}}(f,y.value,t,r),f},a.toPkcs12Asn1=function(e,t,r,s){(s=s||{}).saltSize=s.saltSize||8,s.count=s.count||2048,s.algorithm=s.algorithm||s.encAlgorithm||"aes128","useMac"in s||(s.useMac=!0),"localKeyId"in s||(s.localKeyId=null),"generateLocalKeyId"in s||(s.generateLocalKeyId=!0);var u,l=s.localKeyId;if(null!==l)l=n.util.hexToBytes(l);else if(s.generateLocalKeyId)if(t){var c=n.util.isArray(t)?t[0]:t;"string"==typeof c&&(c=o.certificateFromPem(c)),(k=n.md.sha1.create()).update(i.toDer(o.certificateToAsn1(c)).getBytes()),l=k.digest().getBytes()}else l=n.random.getBytes(20);var f=[];null!==l&&f.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.localKeyId).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,l)])])),"friendlyName"in s&&f.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.friendlyName).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.BMPSTRING,!1,s.friendlyName)])])),f.length>0&&(u=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,f));var h=[],p=[];null!==t&&(p=n.util.isArray(t)?t:[t]);for(var d=[],g=0;g<p.length;++g){"string"==typeof(t=p[g])&&(t=o.certificateFromPem(t));var y=0===g?u:void 0,v=o.certificateToAsn1(t),m=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.certBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.x509Certificate).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(v).getBytes())])])]),y]);d.push(m)}if(d.length>0){var b=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,d),w=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(b).getBytes())])]);h.push(w)}var C=null;if(null!==e){var E=o.wrapRsaPrivateKey(o.privateKeyToAsn1(e));C=null===r?i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.keyBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[E]),u]):i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.pkcs8ShroudedKeyBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[o.encryptPrivateKeyInfo(E,r,s)]),u]);var S=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[C]),T=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(S).getBytes())])]);h.push(T)}var A,_=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,h);if(s.useMac){var k=n.md.sha1.create(),I=new n.util.ByteBuffer(n.random.getBytes(s.saltSize)),x=s.count,B=(e=a.generateKey(r,I,3,x,20),n.hmac.create());B.start(k,e),B.update(i.toDer(_).getBytes());var N=B.getMac();A=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.sha1).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,N.getBytes())]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,I.getBytes()),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(x).getBytes())])}return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(3).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(_).getBytes())])]),A])},a.generateKey=n.pbe.generatePkcs12Key},function(e,t,r){var n=r(2);r(3);var i=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],o=[1,2,3,5];e.exports=n.rc2=n.rc2||{},n.rc2.expandKey=function(e,t){"string"==typeof e&&(e=n.util.createBuffer(e)),t=t||128;var r,o=e,a=e.length(),s=t,u=Math.ceil(s/8),l=255>>(7&s);for(r=a;r<128;r++)o.putByte(i[o.at(r-1)+o.at(r-a)&255]);for(o.setAt(128-u,i[o.at(128-u)&l]),r=127-u;r>=0;r--)o.setAt(r,i[o.at(r+1)^o.at(r+u)]);return o};var a=function(e,t,r){var i,a,s,u,l=!1,c=null,f=null,h=null,p=[];for(e=n.rc2.expandKey(e,t),s=0;s<64;s++)p.push(e.getInt16Le());r?(i=function(e){for(s=0;s<4;s++)e[s]+=p[u]+(e[(s+3)%4]&e[(s+2)%4])+(~e[(s+3)%4]&e[(s+1)%4]),e[s]=(t=e[s])<<(r=o[s])&65535|(65535&t)>>16-r,u++;var t,r},a=function(e){for(s=0;s<4;s++)e[s]+=p[63&e[(s+3)%4]]}):(i=function(e){for(s=3;s>=0;s--)e[s]=(65535&(t=e[s]))>>(r=o[s])|t<<16-r&65535,e[s]-=p[u]+(e[(s+3)%4]&e[(s+2)%4])+(~e[(s+3)%4]&e[(s+1)%4]),u--;var t,r},a=function(e){for(s=3;s>=0;s--)e[s]-=p[63&e[(s+3)%4]]});var d=function(e){var t=[];for(s=0;s<4;s++){var n=c.getInt16Le();null!==h&&(r?n^=h.getInt16Le():h.putInt16Le(n)),t.push(65535&n)}u=r?0:63;for(var i=0;i<e.length;i++)for(var o=0;o<e[i][0];o++)e[i][1](t);for(s=0;s<4;s++)null!==h&&(r?h.putInt16Le(t[s]):t[s]^=h.getInt16Le()),f.putInt16Le(t[s])},g=null;return g={start:function(e,t){e&&"string"==typeof e&&(e=n.util.createBuffer(e)),l=!1,c=n.util.createBuffer(),f=t||new n.util.createBuffer,h=e,g.output=f},update:function(e){for(l||c.putBuffer(e);c.length()>=8;)d([[5,i],[1,a],[6,i],[1,a],[5,i]])},finish:function(e){var t=!0;if(r)if(e)t=e(8,c,!r);else{var n=8===c.length()?8:8-c.length();c.fillWithByte(n,n)}if(t&&(l=!0,g.update()),!r&&(t=0===c.length()))if(e)t=e(8,f,!r);else{var i=f.length(),o=f.at(i-1);o>i?t=!1:f.truncate(o)}return t}}};n.rc2.startEncrypting=function(e,t,r){var i=n.rc2.createEncryptionCipher(e,128);return i.start(t,r),i},n.rc2.createEncryptionCipher=function(e,t){return a(e,t,!0)},n.rc2.startDecrypting=function(e,t,r){var i=n.rc2.createDecryptionCipher(e,128);return i.start(t,r),i},n.rc2.createDecryptionCipher=function(e,t){return a(e,t,!1)}},function(e,t,r){var n=r(2);if(r(18),r(13),r(44),r(16),r(22),r(45),r(21),r(9),r(98),r(42),r(3),void 0===i)var i=n.jsbn.BigInteger;var o=n.asn1,a=n.pki=n.pki||{};e.exports=a.pbe=n.pbe=n.pbe||{};var s=a.oids,u={name:"EncryptedPrivateKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},l={name:"PBES2Algorithms",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},c={name:"pkcs-12PbeParams",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"iterations"}]};function f(e,t){return e.start().update(t).digest().getBytes()}function h(e){var t;if(e){if(!(t=a.oids[o.derToOid(e)])){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}}else t="hmacWithSHA1";return p(t)}function p(e){var t=n.md;switch(e){case"hmacWithSHA224":t=n.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!(t&&e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}a.encryptPrivateKeyInfo=function(e,t,r){(r=r||{}).saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var i,u,l,c=n.random.getBytesSync(r.saltSize),f=r.count,h=o.integerToDer(f);if(0===r.algorithm.indexOf("aes")||"des"===r.algorithm){var d,g,y;switch(r.algorithm){case"aes128":i=16,d=16,g=s["aes128-CBC"],y=n.aes.createEncryptionCipher;break;case"aes192":i=24,d=16,g=s["aes192-CBC"],y=n.aes.createEncryptionCipher;break;case"aes256":i=32,d=16,g=s["aes256-CBC"],y=n.aes.createEncryptionCipher;break;case"des":i=8,d=8,g=s.desCBC,y=n.des.createEncryptionCipher;break;default:throw(E=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=r.algorithm,E}var v="hmacWith"+r.prfAlgorithm.toUpperCase(),m=p(v),b=n.pkcs5.pbkdf2(t,c,f,i,m),w=n.random.getBytesSync(d);(S=y(b)).start(w),S.update(o.toDer(e)),S.finish(),l=S.output.getBytes();var C=function(e,t,r,i){var s=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,e),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,t.getBytes())]);return"hmacWithSHA1"!==i&&s.value.push(o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,n.util.hexToBytes(r.toString(16))),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(a.oids[i]).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")])),s}(c,h,i,v);u=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(s.pkcs5PBES2).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(s.pkcs5PBKDF2).getBytes()),C]),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(g).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,w)])])])}else{var E;if("3des"!==r.algorithm)throw(E=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=r.algorithm,E;i=24;var S,T=new n.util.ByteBuffer(c);b=a.pbe.generatePkcs12Key(t,T,1,f,i),w=a.pbe.generatePkcs12Key(t,T,2,f,i),(S=n.des.createEncryptionCipher(b)).start(w),S.update(o.toDer(e)),S.finish(),l=S.output.getBytes(),u=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(s["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,c),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,h.getBytes())])])}return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[u,o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,l)])},a.decryptPrivateKeyInfo=function(e,t){var r=null,i={},s=[];if(!o.validate(e,u,i,s)){var l=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw l.errors=s,l}var c=o.derToOid(i.encryptionOid),f=a.pbe.getCipher(c,i.encryptionParams,t),h=n.util.createBuffer(i.encryptedData);return f.update(h),f.finish()&&(r=o.fromDer(f.output)),r},a.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:o.toDer(e).getBytes()};return n.pem.encode(r,{maxline:t})},a.encryptedPrivateKeyFromPem=function(e){var t=n.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==t.type){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return o.fromDer(t.body)},a.encryptRsaPrivateKey=function(e,t,r){if(!(r=r||{}).legacy){var i=a.wrapRsaPrivateKey(a.privateKeyToAsn1(e));return i=a.encryptPrivateKeyInfo(i,t,r),a.encryptedPrivateKeyToPem(i)}var s,u,l,c;switch(r.algorithm){case"aes128":s="AES-128-CBC",l=16,u=n.random.getBytesSync(16),c=n.aes.createEncryptionCipher;break;case"aes192":s="AES-192-CBC",l=24,u=n.random.getBytesSync(16),c=n.aes.createEncryptionCipher;break;case"aes256":s="AES-256-CBC",l=32,u=n.random.getBytesSync(16),c=n.aes.createEncryptionCipher;break;case"3des":s="DES-EDE3-CBC",l=24,u=n.random.getBytesSync(8),c=n.des.createEncryptionCipher;break;case"des":s="DES-CBC",l=8,u=n.random.getBytesSync(8),c=n.des.createEncryptionCipher;break;default:var f=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw f.algorithm=r.algorithm,f}var h=c(n.pbe.opensslDeriveBytes(t,u.substr(0,8),l));h.start(u),h.update(o.toDer(a.privateKeyToAsn1(e))),h.finish();var p={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:s,parameters:n.util.bytesToHex(u).toUpperCase()},body:h.output.getBytes()};return n.pem.encode(p)},a.decryptRsaPrivateKey=function(e,t){var r=null,i=n.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==i.type&&"PRIVATE KEY"!==i.type&&"RSA PRIVATE KEY"!==i.type)throw(l=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=l,l;if(i.procType&&"ENCRYPTED"===i.procType.type){var s,u;switch(i.dekInfo.algorithm){case"DES-CBC":s=8,u=n.des.createDecryptionCipher;break;case"DES-EDE3-CBC":s=24,u=n.des.createDecryptionCipher;break;case"AES-128-CBC":s=16,u=n.aes.createDecryptionCipher;break;case"AES-192-CBC":s=24,u=n.aes.createDecryptionCipher;break;case"AES-256-CBC":s=32,u=n.aes.createDecryptionCipher;break;case"RC2-40-CBC":s=5,u=function(e){return n.rc2.createDecryptionCipher(e,40)};break;case"RC2-64-CBC":s=8,u=function(e){return n.rc2.createDecryptionCipher(e,64)};break;case"RC2-128-CBC":s=16,u=function(e){return n.rc2.createDecryptionCipher(e,128)};break;default:var l;throw(l=new Error('Could not decrypt private key; unsupported encryption algorithm "'+i.dekInfo.algorithm+'".')).algorithm=i.dekInfo.algorithm,l}var c=n.util.hexToBytes(i.dekInfo.parameters),f=u(n.pbe.opensslDeriveBytes(t,c.substr(0,8),s));if(f.start(c),f.update(n.util.createBuffer(i.body)),!f.finish())return r;r=f.output.getBytes()}else r=i.body;return null!==(r="ENCRYPTED PRIVATE KEY"===i.type?a.decryptPrivateKeyInfo(o.fromDer(r),t):o.fromDer(r))&&(r=a.privateKeyFromAsn1(r)),r},a.pbe.generatePkcs12Key=function(e,t,r,i,o,a){var s,u;if(void 0===a||null===a){if(!("sha1"in n.md))throw new Error('"sha1" hash algorithm unavailable.');a=n.md.sha1.create()}var l=a.digestLength,c=a.blockLength,f=new n.util.ByteBuffer,h=new n.util.ByteBuffer;if(null!==e&&void 0!==e){for(u=0;u<e.length;u++)h.putInt16(e.charCodeAt(u));h.putInt16(0)}var p=h.length(),d=t.length(),g=new n.util.ByteBuffer;g.fillWithByte(r,c);var y=c*Math.ceil(d/c),v=new n.util.ByteBuffer;for(u=0;u<y;u++)v.putByte(t.at(u%d));var m=c*Math.ceil(p/c),b=new n.util.ByteBuffer;for(u=0;u<m;u++)b.putByte(h.at(u%p));var w=v;w.putBuffer(b);for(var C=Math.ceil(o/l),E=1;E<=C;E++){var S=new n.util.ByteBuffer;S.putBytes(g.bytes()),S.putBytes(w.bytes());for(var T=0;T<i;T++)a.start(),a.update(S.getBytes()),S=a.digest();var A=new n.util.ByteBuffer;for(u=0;u<c;u++)A.putByte(S.at(u%l));var _=Math.ceil(d/c)+Math.ceil(p/c),k=new n.util.ByteBuffer;for(s=0;s<_;s++){var I=new n.util.ByteBuffer(w.getBytes(c)),x=511;for(u=A.length()-1;u>=0;u--)x>>=8,x+=A.at(u)+I.at(u),I.setAt(u,255&x);k.putBuffer(I)}w=k,f.putBuffer(S)}return f.truncate(f.length()-o),f},a.pbe.getCipher=function(e,t,r){switch(e){case a.oids.pkcs5PBES2:return a.pbe.getCipherForPBES2(e,t,r);case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case a.oids["pbewithSHAAnd40BitRC2-CBC"]:return a.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}},a.pbe.getCipherForPBES2=function(e,t,r){var i,s={},u=[];if(!o.validate(t,l,s,u))throw(i=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=u,i;if((e=o.derToOid(s.kdfOid))!==a.oids.pkcs5PBKDF2)throw(i=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=e,i.supportedOids=["pkcs5PBKDF2"],i;if((e=o.derToOid(s.encOid))!==a.oids["aes128-CBC"]&&e!==a.oids["aes192-CBC"]&&e!==a.oids["aes256-CBC"]&&e!==a.oids["des-EDE3-CBC"]&&e!==a.oids.desCBC)throw(i=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=e,i.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],i;var c,f,p=s.kdfSalt,d=n.util.createBuffer(s.kdfIterationCount);switch(d=d.getInt(d.length()<<3),a.oids[e]){case"aes128-CBC":c=16,f=n.aes.createDecryptionCipher;break;case"aes192-CBC":c=24,f=n.aes.createDecryptionCipher;break;case"aes256-CBC":c=32,f=n.aes.createDecryptionCipher;break;case"des-EDE3-CBC":c=24,f=n.des.createDecryptionCipher;break;case"desCBC":c=8,f=n.des.createDecryptionCipher}var g=h(s.prfOid),y=n.pkcs5.pbkdf2(r,p,d,c,g),v=s.encIv,m=f(y);return m.start(v),m},a.pbe.getCipherForPKCS12PBE=function(e,t,r){var i={},s=[];if(!o.validate(t,c,i,s))throw(g=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=s,g;var u,l,f,p=n.util.createBuffer(i.salt),d=n.util.createBuffer(i.iterations);switch(d=d.getInt(d.length()<<3),e){case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:u=24,l=8,f=n.des.startDecrypting;break;case a.oids["pbewithSHAAnd40BitRC2-CBC"]:u=5,l=8,f=function(e,t){var r=n.rc2.createDecryptionCipher(e,40);return r.start(t,null),r};break;default:var g;throw(g=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=e,g}var y=h(i.prfOid),v=a.pbe.generatePkcs12Key(r,p,1,d,u,y);return y.start(),f(v,a.pbe.generatePkcs12Key(r,p,2,d,l,y))},a.pbe.opensslDeriveBytes=function(e,t,r,i){if(void 0===i||null===i){if(!("md5"in n.md))throw new Error('"md5" hash algorithm unavailable.');i=n.md.md5.create()}null===t&&(t="");for(var o=[f(i,e+t)],a=16,s=1;a<r;++s,a+=16)o.push(f(i,o[s-1]+e+t));return o.join("").substr(0,r)}},function(e,t,r){var n=r(2);r(13),r(3);var i=n.asn1,o=e.exports=n.pkcs7asn1=n.pkcs7asn1||{};n.pkcs7=n.pkcs7||{},n.pkcs7.asn1=o;var a={name:"ContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};o.contentInfoValidator=a;var s={name:"EncryptedContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};o.envelopedDataValidator={name:"EnvelopedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(s)},o.encryptedDataValidator={name:"EncryptedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"}].concat(s)};var u={name:"SignerInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};o.signedDataValidator={name:"SignedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},a,{name:"SignedData.Certificates",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,capture:"signerInfos",optional:!0,value:[u]}]},o.recipientInfoValidator={name:"RecipientInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter"}]},{name:"RecipientInfo.encryptedKey",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},function(e,t,r){var n=r(2);r(18),r(13),r(44),r(22),r(21),r(100),r(9),r(3),r(62);var i=n.asn1,o=e.exports=n.pkcs7=n.pkcs7||{};function a(e){var t={},r=[];if(!i.validate(e,o.asn1.recipientInfoValidator,t,r)){var a=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw a.errors=r,a}return{version:t.version.charCodeAt(0),issuer:n.pki.RDNAttributesAsArray(t.issuer),serialNumber:n.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:i.derToOid(t.encAlgorithm),parameter:t.encParameter.value,content:t.encKey}}}function s(e){var t=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[n.pki.distinguishedNameToAsn1({attributes:e.issuer}),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(e.serialNumber))]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.digestAlgorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.signatureAlgorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])),t.value.push(i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[]),o=0;o<e.unauthenticatedAttributes.length;++o){var a=e.unauthenticatedAttributes[o];r.values.push(u(a))}t.value.push(r)}return t}function u(e){var t;if(e.type===n.pki.oids.contentType)t=i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.value).getBytes());else if(e.type===n.pki.oids.messageDigest)t=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===n.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),o=new Date("2050-01-01T00:00:00Z"),a=e.value;if("string"==typeof a){var s=Date.parse(a);a=isNaN(s)?13===a.length?i.utcTimeToDate(a):i.generalizedTimeToDate(a):new Date(s)}t=a>=r&&a<o?i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(a)):i.create(i.Class.UNIVERSAL,i.Type.GENERALIZEDTIME,!1,i.dateToGeneralizedTime(a))}return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[t])])}function l(e,t,r){var o={};if(!i.validate(t,r,o,[])){var a=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw a.errors=a,a}if(i.derToOid(o.contentType)!==n.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(o.encryptedContent){var s="";if(n.util.isArray(o.encryptedContent))for(var u=0;u<o.encryptedContent.length;++u){if(o.encryptedContent[u].type!==i.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");s+=o.encryptedContent[u].value}else s=o.encryptedContent;e.encryptedContent={algorithm:i.derToOid(o.encAlgorithm),parameter:n.util.createBuffer(o.encParameter.value),content:n.util.createBuffer(s)}}if(o.content){if(s="",n.util.isArray(o.content))for(u=0;u<o.content.length;++u){if(o.content[u].type!==i.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");s+=o.content[u].value}else s=o.content;e.content=n.util.createBuffer(s)}return e.version=o.version.charCodeAt(0),e.rawCapture=o,o}function c(e){if(void 0===e.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===e.content){var t;switch(e.encryptedContent.algorithm){case n.pki.oids["aes128-CBC"]:case n.pki.oids["aes192-CBC"]:case n.pki.oids["aes256-CBC"]:t=n.aes.createDecryptionCipher(e.encryptedContent.key);break;case n.pki.oids.desCBC:case n.pki.oids["des-EDE3-CBC"]:t=n.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}o.messageFromPem=function(e){var t=n.pem.decode(e)[0];if("PKCS7"!==t.type){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var a=i.fromDer(t.body);return o.messageFromAsn1(a)},o.messageToPem=function(e,t){var r={type:"PKCS7",body:i.toDer(e.toAsn1()).getBytes()};return n.pem.encode(r,{maxline:t})},o.messageFromAsn1=function(e){var t={},r=[];if(!i.validate(e,o.asn1.contentInfoValidator,t,r)){var a=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw a.errors=r,a}var s,u=i.derToOid(t.contentType);switch(u){case n.pki.oids.envelopedData:s=o.createEnvelopedData();break;case n.pki.oids.encryptedData:s=o.createEncryptedData();break;case n.pki.oids.signedData:s=o.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+u+" is not (yet) supported.")}return s.fromAsn1(t.content.value[0]),s},o.createSignedData=function(){var e=null;return e={type:n.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(t){if(l(e,t,o.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var r=e.rawCapture.certificates.value,i=0;i<r.length;++i)e.certificates.push(n.pki.certificateFromAsn1(r[i]))},toAsn1:function(){e.contentInfo||e.sign();for(var t=[],r=0;r<e.certificates.length;++r)t.push(n.pki.certificateToAsn1(e.certificates[r]));var o=[],a=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return t.length>0&&a.value[0].value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,t)),o.length>0&&a.value[0].value.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,o)),a.value[0].value.push(i.create(i.Class.UNIVERSAL,i.Type.SET,!0,e.signerInfos)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),a])},addSigner:function(t){var r=t.issuer,i=t.serialNumber;if(t.certificate){var o=t.certificate;"string"==typeof o&&(o=n.pki.certificateFromPem(o)),r=o.issuer.attributes,i=o.serialNumber}var a=t.key;if(!a)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof a&&(a=n.pki.privateKeyFromPem(a));var s=t.digestAlgorithm||n.pki.oids.sha1;switch(s){case n.pki.oids.sha1:case n.pki.oids.sha256:case n.pki.oids.sha384:case n.pki.oids.sha512:case n.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+s)}var u=t.authenticatedAttributes||[];if(u.length>0){for(var l=!1,c=!1,f=0;f<u.length;++f){var h=u[f];if(l||h.type!==n.pki.oids.contentType){if(c||h.type!==n.pki.oids.messageDigest);else if(c=!0,l)break}else if(l=!0,c)break}if(!l||!c)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:a,version:1,issuer:r,serialNumber:i,digestAlgorithm:s,signatureAlgorithm:n.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:u,unauthenticatedAttributes:[]})},sign:function(){var t;"object"==typeof e.content&&null!==e.contentInfo||(e.contentInfo=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(n.pki.oids.data).getBytes())]),"content"in e&&(e.content instanceof n.util.ByteBuffer?t=e.content.bytes():"string"==typeof e.content&&(t=n.util.encodeUtf8(e.content)),e.contentInfo.value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t)])))),0!==e.signers.length&&function(t){if(e.contentInfo.value.length<2)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var r=i.derToOid(e.contentInfo.value[0].value),o=e.contentInfo.value[1];o=o.value[0];var a=i.toDer(o);for(var l in a.getByte(),i.getBerValueLength(a),a=a.getBytes(),t)t[l].start().update(a);for(var c=new Date,f=0;f<e.signers.length;++f){var h=e.signers[f];if(0===h.authenticatedAttributes.length){if(r!==n.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{h.authenticatedAttributesAsn1=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var p=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[]),d=0;d<h.authenticatedAttributes.length;++d){var g=h.authenticatedAttributes[d];g.type===n.pki.oids.messageDigest?g.value=t[h.digestAlgorithm].digest():g.type===n.pki.oids.signingTime&&(g.value||(g.value=c)),p.value.push(u(g)),h.authenticatedAttributesAsn1.value.push(u(g))}a=i.toDer(p).getBytes(),h.md.start().update(a)}h.signature=h.key.sign(h.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=function(e){for(var t=[],r=0;r<e.length;++r)t.push(s(e[r]));return t}(e.signers)}(function(){for(var t={},r=0;r<e.signers.length;++r){var o=e.signers[r];(a=o.digestAlgorithm)in t||(t[a]=n.md[n.pki.oids[a]].create()),0===o.authenticatedAttributes.length?o.md=t[a]:o.md=n.md[n.pki.oids[a]].create()}for(var a in e.digestAlgorithmIdentifiers=[],t)e.digestAlgorithmIdentifiers.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]));return t}())},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(t){"string"==typeof t&&(t=n.pki.certificateFromPem(t)),e.certificates.push(t)},addCertificateRevokationList:function(e){throw new Error("PKCS#7 CRL support not yet implemented.")}}},o.createEncryptedData=function(){var e=null;return e={type:n.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:n.pki.oids["aes256-CBC"]},fromAsn1:function(t){l(e,t,o.asn1.encryptedDataValidator)},decrypt:function(t){void 0!==t&&(e.encryptedContent.key=t),c(e)}}},o.createEnvelopedData=function(){var e=null;return e={type:n.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:n.pki.oids["aes256-CBC"]},fromAsn1:function(t){var r=l(e,t,o.asn1.envelopedDataValidator);e.recipients=function(e){for(var t=[],r=0;r<e.length;++r)t.push(a(e[r]));return t}(r.recipientInfos.value)},toAsn1:function(){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,function(e){for(var t=[],r=0;r<e.length;++r)t.push((o=e[r],i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(o.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[n.pki.distinguishedNameToAsn1({attributes:o.issuer}),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(o.serialNumber))]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.encryptedContent.algorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,o.encryptedContent.content)])));var o;return t}(e.recipients)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,(t=e.encryptedContent,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(n.pki.oids.data).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.algorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.parameter.getBytes())]),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.content.getBytes())])]))])])]);var t},findRecipient:function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var i=e.recipients[n],o=i.issuer;if(i.serialNumber===t.serialNumber&&o.length===r.length){for(var a=!0,s=0;s<r.length;++s)if(o[s].type!==r[s].type||o[s].value!==r[s].value){a=!1;break}if(a)return i}}return null},decrypt:function(t,r){if(void 0===e.encryptedContent.key&&void 0!==t&&void 0!==r)switch(t.encryptedContent.algorithm){case n.pki.oids.rsaEncryption:case n.pki.oids.desCBC:var i=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=n.util.createBuffer(i);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}c(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:n.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,r){if(void 0===e.encryptedContent.content){var i,o,a;switch(r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key,r){case n.pki.oids["aes128-CBC"]:i=16,o=16,a=n.aes.createEncryptionCipher;break;case n.pki.oids["aes192-CBC"]:i=24,o=16,a=n.aes.createEncryptionCipher;break;case n.pki.oids["aes256-CBC"]:i=32,o=16,a=n.aes.createEncryptionCipher;break;case n.pki.oids["des-EDE3-CBC"]:i=24,o=8,a=n.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(void 0===t)t=n.util.createBuffer(n.random.getBytes(i));else if(t.length()!=i)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+i+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=n.util.createBuffer(n.random.getBytes(o));var s=a(t);if(s.start(e.encryptedContent.parameter.copy()),s.update(e.content),!s.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=s.output}for(var u=0;u<e.recipients.length;++u){var l=e.recipients[u];if(void 0===l.encryptedContent.content)switch(l.encryptedContent.algorithm){case n.pki.oids.rsaEncryption:l.encryptedContent.content=l.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+l.encryptedContent.algorithm)}}}}}},function(e,t){},function(e,t,r){var n=r(2);r(3),n.cipher=n.cipher||{};var i=e.exports=n.cipher.modes=n.cipher.modes||{};function o(e){if("string"==typeof e&&(e=n.util.createBuffer(e)),n.util.isArray(e)&&e.length>4){var t=e;e=n.util.createBuffer();for(var r=0;r<t.length;++r)e.putByte(t[r])}return n.util.isArray(e)||(e=[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]),e}function a(e){e[e.length-1]=e[e.length-1]+1&4294967295}function s(e){return[e/4294967296|0,4294967295&e]}i.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.ecb.prototype.start=function(e){},i.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])},i.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])},i.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0},i.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return!(n>this.blockSize<<2||(e.truncate(n),0))},i.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.cbc.prototype.start=function(e){if(null===e.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=o(e.iv),this._prev=this._iv.slice(0)}},i.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock},i.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)},i.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0},i.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return!(n>this.blockSize<<2||(e.truncate(n),0))},i.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=o(e.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;for(o>0&&(o=this.blockSize-o),this._partialOutput.clear(),i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(o>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;for(o>0&&(o=this.blockSize-o),this._partialOutput.clear(),i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(o>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=o(e.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(0===e.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];else{var o=(this.blockSize-n)%this.blockSize;for(o>0&&(o=this.blockSize-o),this._partialOutput.clear(),i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.ofb.prototype.decrypt=i.ofb.prototype.encrypt,i.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=o(e.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;for(o>0&&(o=this.blockSize-o),this._partialOutput.clear(),i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}a(this._inBlock)},i.ctr.prototype.decrypt=i.ctr.prototype.encrypt,i.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0,this._R=3774873600},i.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t,r=n.util.createBuffer(e.iv);if(this._cipherLength=0,t="additionalData"in e?n.util.createBuffer(e.additionalData):n.util.createBuffer(),this._tagLength="tagLength"in e?e.tagLength:128,this._tag=null,e.decrypt&&(this._tag=n.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var i=r.length();if(12===i)this._j0=[r.getInt32(),r.getInt32(),r.getInt32(),1];else{for(this._j0=[0,0,0,0];r.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(s(8*i)))}this._inBlock=this._j0.slice(0),a(this._inBlock),this._partialBytes=0,t=n.util.createBuffer(t),this._aDataLength=s(8*t.length());var o=t.length()%this.blockSize;for(o&&t.fillWithByte(0,this.blockSize-o),this._s=[0,0,0,0];t.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()])},i.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var o=(this.blockSize-n)%this.blockSize;for(o>0&&(o=this.blockSize-o),this._partialOutput.clear(),i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(0===o||r){if(r){var s=n%this.blockSize;this._cipherLength+=s,this._partialOutput.truncate(this.blockSize-s)}else this._cipherLength+=this.blockSize;for(i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),a(this._inBlock)},i.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),a(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize},i.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=n.util.createBuffer();var i=this._aDataLength.concat(s(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,i);var o=[];this.cipher.encrypt(this._j0,o);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^o[a]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r},i.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),i=0;i<128;++i)e[i/32|0]&1<<31-i%32&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n);return r},i.gcm.prototype.pow=function(e,t){for(var r=1&e[3],n=3;n>0;--n)t[n]=e[n]>>>1|(1&e[n-1])<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)},i.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=e[r/8|0]>>>4*(7-r%8)&15,i=this._m[r][n];t[0]^=i[0],t[1]^=i[1],t[2]^=i[2],t[3]^=i[3]}return t},i.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)},i.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,i=16*r,o=new Array(i),a=0;a<i;++a){var s=[0,0,0,0],u=(n-1-a%n)*t;s[a/n|0]=1<<t-1<<u,o[a]=this.generateSubHashTable(this.multiply(s,e),t)}return o},i.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,i=new Array(r);i[n]=e.slice(0);for(var o=n>>>1;o>0;)this.pow(i[2*o],i[o]=[]),o>>=1;for(o=2;o<n;){for(var a=1;a<o;++a){var s=i[o],u=i[a];i[o+a]=[s[0]^u[0],s[1]^u[1],s[2]^u[2],s[3]^u[3]]}o*=2}for(i[0]=[0,0,0,0],o=n+1;o<r;++o){var l=i[o^n];i[o]=[e[0]^l[0],e[1]^l[1],e[2]^l[2],e[3]^l[3]]}return i}},function(e,t,r){var n;!function(t,r){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?r(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return r(e)}:r(t)}("undefined"!=typeof window?window:this,function(r,i){"use strict";var o=[],a=r.document,s=Object.getPrototypeOf,u=o.slice,l=o.concat,c=o.push,f=o.indexOf,h={},p=h.toString,d=h.hasOwnProperty,g=d.toString,y=g.call(Object),v={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},b=function(e){return null!=e&&e===e.window},w={type:!0,src:!0,noModule:!0};function C(e,t,r){var n,i=(t=t||a).createElement("script");if(i.text=e,r)for(n in w)r[n]&&(i[n]=r[n]);t.head.appendChild(i).parentNode.removeChild(i)}function E(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?h[p.call(e)]||"object":typeof e}var S=function(e,t){return new S.fn.init(e,t)},T=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function A(e){var t=!!e&&"length"in e&&e.length,r=E(e);return!m(e)&&!b(e)&&("array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e)}S.fn=S.prototype={jquery:"3.3.1",constructor:S,length:0,toArray:function(){return u.call(this)},get:function(e){return null==e?u.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(e){return this.pushStack(S.map(this,function(t,r){return e.call(t,r,t)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,r=+e+(e<0?t:0);return this.pushStack(r>=0&&r<t?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},S.extend=S.fn.extend=function(){var e,t,r,n,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=a[t],a!==(n=e[t])&&(l&&n&&(S.isPlainObject(n)||(i=Array.isArray(n)))?(i?(i=!1,o=r&&Array.isArray(r)?r:[]):o=r&&S.isPlainObject(r)?r:{},a[t]=S.extend(l,o,n)):void 0!==n&&(a[t]=n));return a},S.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,r;return!(!e||"[object Object]"!==p.call(e)||(t=s(e))&&("function"!=typeof(r=d.call(t,"constructor")&&t.constructor)||g.call(r)!==y))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){C(e)},each:function(e,t){var r,n=0;if(A(e))for(r=e.length;n<r&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(T,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(A(Object(e))?S.merge(r,"string"==typeof e?[e]:e):c.call(r,e)),r},inArray:function(e,t,r){return null==t?-1:f.call(t,e,r)},merge:function(e,t){for(var r=+t.length,n=0,i=e.length;n<r;n++)e[i++]=t[n];return e.length=i,e},grep:function(e,t,r){for(var n=[],i=0,o=e.length,a=!r;i<o;i++)!t(e[i],i)!==a&&n.push(e[i]);return n},map:function(e,t,r){var n,i,o=0,a=[];if(A(e))for(n=e.length;o<n;o++)null!=(i=t(e[o],o,r))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,r))&&a.push(i);return l.apply([],a)},guid:1,support:v}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=o[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){h["[object "+t+"]"]=t.toLowerCase()});var _=function(e){var t,r,n,i,o,a,s,u,l,c,f,h,p,d,g,y,v,m,b,w="sizzle"+1*new Date,C=e.document,E=0,S=0,T=ae(),A=ae(),_=ae(),k=function(e,t){return e===t&&(f=!0),0},I={}.hasOwnProperty,x=[],B=x.pop,N=x.push,L=x.push,R=x.slice,O=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",D="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",U="\\["+D+"*("+F+")(?:"+D+"*([*^$|!~]?=)"+D+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+D+"*\\]",M=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|.*)\\)|)",j=new RegExp(D+"+","g"),H=new RegExp("^"+D+"+|((?:^|[^\\\\])(?:\\\\.)*)"+D+"+$","g"),K=new RegExp("^"+D+"*,"+D+"*"),V=new RegExp("^"+D+"*([>+~]|"+D+")"+D+"*"),z=new RegExp("="+D+"*([^\\]'\"]*?)"+D+"*\\]","g"),W=new RegExp(M),q=new RegExp("^"+F+"$"),G={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+M),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+D+"*(even|odd|(([+-]|)(\\d*)n|)"+D+"*(?:([+-]|)"+D+"*(\\d+)|))"+D+"*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^"+D+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+D+"*((?:-\\d)?\\d*)"+D+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,$=new RegExp("\\\\([\\da-f]{1,6}"+D+"?|("+D+")|.)","ig"),ee=function(e,t,r){var n="0x"+t-65536;return n!=n||r?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,re=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ne=function(){h()},ie=me(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{L.apply(x=R.call(C.childNodes),C.childNodes),x[C.childNodes.length].nodeType}catch(e){L={apply:x.length?function(e,t){N.apply(e,R.call(t))}:function(e,t){for(var r=e.length,n=0;e[r++]=t[n++];);e.length=r-1}}}function oe(e,t,n,i){var o,s,l,c,f,d,v,m=t&&t.ownerDocument,E=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==E&&9!==E&&11!==E)return n;if(!i&&((t?t.ownerDocument||t:C)!==p&&h(t),t=t||p,g)){if(11!==E&&(f=Q.exec(e)))if(o=f[1]){if(9===E){if(!(l=t.getElementById(o)))return n;if(l.id===o)return n.push(l),n}else if(m&&(l=m.getElementById(o))&&b(t,l)&&l.id===o)return n.push(l),n}else{if(f[2])return L.apply(n,t.getElementsByTagName(e)),n;if((o=f[3])&&r.getElementsByClassName&&t.getElementsByClassName)return L.apply(n,t.getElementsByClassName(o)),n}if(r.qsa&&!_[e+" "]&&(!y||!y.test(e))){if(1!==E)m=t,v=e;else if("object"!==t.nodeName.toLowerCase()){for((c=t.getAttribute("id"))?c=c.replace(te,re):t.setAttribute("id",c=w),s=(d=a(e)).length;s--;)d[s]="#"+c+" "+ve(d[s]);v=d.join(","),m=J.test(e)&&ge(t.parentNode)||t}if(v)try{return L.apply(n,m.querySelectorAll(v)),n}catch(e){}finally{c===w&&t.removeAttribute("id")}}}return u(e.replace(H,"$1"),t,n,i)}function ae(){var e=[];return function t(r,i){return e.push(r+" ")>n.cacheLength&&delete t[e.shift()],t[r+" "]=i}}function se(e){return e[w]=!0,e}function ue(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){for(var r=e.split("|"),i=r.length;i--;)n.attrHandle[r[i]]=t}function ce(e,t){var r=t&&e,n=r&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(r)for(;r=r.nextSibling;)if(r===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var r=t.nodeName.toLowerCase();return("input"===r||"button"===r)&&t.type===e}}function pe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ie(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function de(e){return se(function(t){return t=+t,se(function(r,n){for(var i,o=e([],r.length,t),a=o.length;a--;)r[i=o[a]]&&(r[i]=!(n[i]=r[i]))})})}function ge(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in r=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},h=oe.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:C;return a!==p&&9===a.nodeType&&a.documentElement?(d=(p=a).documentElement,g=!o(p),C!==p&&(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",ne,!1):i.attachEvent&&i.attachEvent("onunload",ne)),r.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),r.getElementsByTagName=ue(function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length}),r.getElementsByClassName=Z.test(p.getElementsByClassName),r.getById=ue(function(e){return d.appendChild(e).id=w,!p.getElementsByName||!p.getElementsByName(w).length}),r.getById?(n.filter.ID=function(e){var t=e.replace($,ee);return function(e){return e.getAttribute("id")===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var r=t.getElementById(e);return r?[r]:[]}}):(n.filter.ID=function(e){var t=e.replace($,ee);return function(e){var r=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return r&&r.value===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var r,n,i,o=t.getElementById(e);if(o){if((r=o.getAttributeNode("id"))&&r.value===e)return[o];for(i=t.getElementsByName(e),n=0;o=i[n++];)if((r=o.getAttributeNode("id"))&&r.value===e)return[o]}return[]}}),n.find.TAG=r.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):r.qsa?t.querySelectorAll(e):void 0}:function(e,t){var r,n=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;r=o[i++];)1===r.nodeType&&n.push(r);return n}return o},n.find.CLASS=r.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},v=[],y=[],(r.qsa=Z.test(p.querySelectorAll))&&(ue(function(e){d.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&y.push("[*^$]="+D+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||y.push("\\["+D+"*(?:value|"+P+")"),e.querySelectorAll("[id~="+w+"-]").length||y.push("~="),e.querySelectorAll(":checked").length||y.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||y.push(".#.+[+~]")}),ue(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&y.push("name"+D+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&y.push(":enabled",":disabled"),d.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&y.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),y.push(",.*:")})),(r.matchesSelector=Z.test(m=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ue(function(e){r.disconnectedMatch=m.call(e,"*"),m.call(e,"[s!='']:x"),v.push("!=",M)}),y=y.length&&new RegExp(y.join("|")),v=v.length&&new RegExp(v.join("|")),t=Z.test(d.compareDocumentPosition),b=t||Z.test(d.contains)?function(e,t){var r=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(r.contains?r.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},k=t?function(e,t){if(e===t)return f=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!r.sortDetached&&t.compareDocumentPosition(e)===n?e===p||e.ownerDocument===C&&b(C,e)?-1:t===p||t.ownerDocument===C&&b(C,t)?1:c?O(c,e)-O(c,t):0:4&n?-1:1)}:function(e,t){if(e===t)return f=!0,0;var r,n=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===p?-1:t===p?1:i?-1:o?1:c?O(c,e)-O(c,t):0;if(i===o)return ce(e,t);for(r=e;r=r.parentNode;)a.unshift(r);for(r=t;r=r.parentNode;)s.unshift(r);for(;a[n]===s[n];)n++;return n?ce(a[n],s[n]):a[n]===C?-1:s[n]===C?1:0},p):p},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&h(e),t=t.replace(z,"='$1']"),r.matchesSelector&&g&&!_[t+" "]&&(!v||!v.test(t))&&(!y||!y.test(t)))try{var n=m.call(e,t);if(n||r.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return oe(t,p,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==p&&h(e),b(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==p&&h(e);var i=n.attrHandle[t.toLowerCase()],o=i&&I.call(n.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==o?o:r.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.escape=function(e){return(e+"").replace(te,re)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,n=[],i=0,o=0;if(f=!r.detectDuplicates,c=!r.sortStable&&e.slice(0),e.sort(k),f){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return c=null,e},i=oe.getText=function(e){var t,r="",n=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[n++];)r+=i(t);return r},(n=oe.selectors={cacheLength:50,createPseudo:se,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace($,ee),e[3]=(e[3]||e[4]||e[5]||"").replace($,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&W.test(r)&&(t=a(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace($,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+D+")"+e+"("+D+"|$)"))&&T(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,r){return function(n){var i=oe.attr(n,e);return null==i?"!="===t:!t||(i+="","="===t?i===r:"!="===t?i!==r:"^="===t?r&&0===i.indexOf(r):"*="===t?r&&i.indexOf(r)>-1:"$="===t?r&&i.slice(-r.length)===r:"~="===t?(" "+i.replace(j," ")+" ").indexOf(r)>-1:"|="===t&&(i===r||i.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,r,n,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===i?function(e){return!!e.parentNode}:function(t,r,u){var l,c,f,h,p,d,g=o!==a?"nextSibling":"previousSibling",y=t.parentNode,v=s&&t.nodeName.toLowerCase(),m=!u&&!s,b=!1;if(y){if(o){for(;g;){for(h=t;h=h[g];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;d=g="only"===e&&!d&&"nextSibling"}return!0}if(d=[a?y.firstChild:y.lastChild],a&&m){for(b=(p=(l=(c=(f=(h=y)[w]||(h[w]={}))[h.uniqueID]||(f[h.uniqueID]={}))[e]||[])[0]===E&&l[1])&&l[2],h=p&&y.childNodes[p];h=++p&&h&&h[g]||(b=p=0)||d.pop();)if(1===h.nodeType&&++b&&h===t){c[e]=[E,p,b];break}}else if(m&&(b=p=(l=(c=(f=(h=t)[w]||(h[w]={}))[h.uniqueID]||(f[h.uniqueID]={}))[e]||[])[0]===E&&l[1]),!1===b)for(;(h=++p&&h&&h[g]||(b=p=0)||d.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(m&&((c=(f=h[w]||(h[w]={}))[h.uniqueID]||(f[h.uniqueID]={}))[e]=[E,b]),h!==t)););return(b-=i)===n||b%n==0&&b/n>=0}}},PSEUDO:function(e,t){var r,i=n.pseudos[e]||n.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(r=[e,e,"",t],n.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,r){for(var n,o=i(e,t),a=o.length;a--;)e[n=O(e,o[a])]=!(r[n]=o[a])}):function(e){return i(e,0,r)}):i}},pseudos:{not:se(function(e){var t=[],r=[],n=s(e.replace(H,"$1"));return n[w]?se(function(e,t,r,i){for(var o,a=n(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,n(t,null,o,r),t[0]=null,!r.pop()}}),has:se(function(e){return function(t){return oe(e,t).length>0}}),contains:se(function(e){return e=e.replace($,ee),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:se(function(e){return q.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace($,ee).toLowerCase(),function(t){var r;do{if(r=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(r=r.toLowerCase())===e||0===r.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var r=e.location&&e.location.hash;return r&&r.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:pe(!1),disabled:pe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:de(function(){return[0]}),last:de(function(e,t){return[t-1]}),eq:de(function(e,t,r){return[r<0?r+t:r]}),even:de(function(e,t){for(var r=0;r<t;r+=2)e.push(r);return e}),odd:de(function(e,t){for(var r=1;r<t;r+=2)e.push(r);return e}),lt:de(function(e,t,r){for(var n=r<0?r+t:r;--n>=0;)e.push(n);return e}),gt:de(function(e,t,r){for(var n=r<0?r+t:r;++n<t;)e.push(n);return e})}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=he(t);function ye(){}function ve(e){for(var t=0,r=e.length,n="";t<r;t++)n+=e[t].value;return n}function me(e,t,r){var n=t.dir,i=t.next,o=i||n,a=r&&"parentNode"===o,s=S++;return t.first?function(t,r,i){for(;t=t[n];)if(1===t.nodeType||a)return e(t,r,i);return!1}:function(t,r,u){var l,c,f,h=[E,s];if(u){for(;t=t[n];)if((1===t.nodeType||a)&&e(t,r,u))return!0}else for(;t=t[n];)if(1===t.nodeType||a)if(c=(f=t[w]||(t[w]={}))[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[n]||t;else{if((l=c[o])&&l[0]===E&&l[1]===s)return h[2]=l[2];if(c[o]=h,h[2]=e(t,r,u))return!0}return!1}}function be(e){return e.length>1?function(t,r,n){for(var i=e.length;i--;)if(!e[i](t,r,n))return!1;return!0}:e[0]}function we(e,t,r,n,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(r&&!r(o,n,i)||(a.push(o),l&&t.push(s)));return a}function Ce(e,t,r,n,i,o){return n&&!n[w]&&(n=Ce(n)),i&&!i[w]&&(i=Ce(i,o)),se(function(o,a,s,u){var l,c,f,h=[],p=[],d=a.length,g=o||function(e,t,r){for(var n=0,i=t.length;n<i;n++)oe(e,t[n],r);return r}(t||"*",s.nodeType?[s]:s,[]),y=!e||!o&&t?g:we(g,h,e,s,u),v=r?i||(o?e:d||n)?[]:a:y;if(r&&r(y,v,s,u),n)for(l=we(v,p),n(l,[],s,u),c=l.length;c--;)(f=l[c])&&(v[p[c]]=!(y[p[c]]=f));if(o){if(i||e){if(i){for(l=[],c=v.length;c--;)(f=v[c])&&l.push(y[c]=f);i(null,v=[],l,u)}for(c=v.length;c--;)(f=v[c])&&(l=i?O(o,f):h[c])>-1&&(o[l]=!(a[l]=f))}}else v=we(v===a?v.splice(d,v.length):v),i?i(null,a,v,u):L.apply(a,v)})}function Ee(e){for(var t,r,i,o=e.length,a=n.relative[e[0].type],s=a||n.relative[" "],u=a?1:0,c=me(function(e){return e===t},s,!0),f=me(function(e){return O(t,e)>-1},s,!0),h=[function(e,r,n){var i=!a&&(n||r!==l)||((t=r).nodeType?c(e,r,n):f(e,r,n));return t=null,i}];u<o;u++)if(r=n.relative[e[u].type])h=[me(be(h),r)];else{if((r=n.filter[e[u].type].apply(null,e[u].matches))[w]){for(i=++u;i<o&&!n.relative[e[i].type];i++);return Ce(u>1&&be(h),u>1&&ve(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(H,"$1"),r,u<i&&Ee(e.slice(u,i)),i<o&&Ee(e=e.slice(i)),i<o&&ve(e))}h.push(r)}return be(h)}return ye.prototype=n.filters=n.pseudos,n.setFilters=new ye,a=oe.tokenize=function(e,t){var r,i,o,a,s,u,l,c=A[e+" "];if(c)return t?0:c.slice(0);for(s=e,u=[],l=n.preFilter;s;){for(a in r&&!(i=K.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=V.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(H," ")}),s=s.slice(r.length)),n.filter)!(i=G[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return t?s.length:s?oe.error(e):A(e,u).slice(0)},s=oe.compile=function(e,t){var r,i=[],o=[],s=_[e+" "];if(!s){for(t||(t=a(e)),r=t.length;r--;)(s=Ee(t[r]))[w]?i.push(s):o.push(s);(s=_(e,function(e,t){var r=t.length>0,i=e.length>0,o=function(o,a,s,u,c){var f,d,y,v=0,m="0",b=o&&[],w=[],C=l,S=o||i&&n.find.TAG("*",c),T=E+=null==C?1:Math.random()||.1,A=S.length;for(c&&(l=a===p||a||c);m!==A&&null!=(f=S[m]);m++){if(i&&f){for(d=0,a||f.ownerDocument===p||(h(f),s=!g);y=e[d++];)if(y(f,a||p,s)){u.push(f);break}c&&(E=T)}r&&((f=!y&&f)&&v--,o&&b.push(f))}if(v+=m,r&&m!==v){for(d=0;y=t[d++];)y(b,w,a,s);if(o){if(v>0)for(;m--;)b[m]||w[m]||(w[m]=B.call(u));w=we(w)}L.apply(u,w),c&&!o&&w.length>0&&v+t.length>1&&oe.uniqueSort(u)}return c&&(E=T,l=C),b};return r?se(o):o}(o,i))).selector=e}return s},u=oe.select=function(e,t,r,i){var o,u,l,c,f,h="function"==typeof e&&e,p=!i&&a(e=h.selector||e);if(r=r||[],1===p.length){if((u=p[0]=p[0].slice(0)).length>2&&"ID"===(l=u[0]).type&&9===t.nodeType&&g&&n.relative[u[1].type]){if(!(t=(n.find.ID(l.matches[0].replace($,ee),t)||[])[0]))return r;h&&(t=t.parentNode),e=e.slice(u.shift().value.length)}for(o=G.needsContext.test(e)?0:u.length;o--&&(l=u[o],!n.relative[c=l.type]);)if((f=n.find[c])&&(i=f(l.matches[0].replace($,ee),J.test(u[0].type)&&ge(t.parentNode)||t))){if(u.splice(o,1),!(e=i.length&&ve(u)))return L.apply(r,i),r;break}}return(h||s(e,p))(i,t,!g,r,!t||J.test(e)&&ge(t.parentNode)||t),r},r.sortStable=w.split("").sort(k).join("")===w,r.detectDuplicates=!!f,h(),r.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||le("type|href|height|width",function(e,t,r){if(!r)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),r.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||le("value",function(e,t,r){if(!r&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||le(P,function(e,t,r){var n;if(!r)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),oe}(r);S.find=_,S.expr=_.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=_.uniqueSort,S.text=_.getText,S.isXMLDoc=_.isXML,S.contains=_.contains,S.escapeSelector=_.escape;var k=function(e,t,r){for(var n=[],i=void 0!==r;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&S(e).is(r))break;n.push(e)}return n},I=function(e,t){for(var r=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&r.push(e);return r},x=S.expr.match.needsContext;function B(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function L(e,t,r){return m(t)?S.grep(e,function(e,n){return!!t.call(e,n,e)!==r}):t.nodeType?S.grep(e,function(e){return e===t!==r}):"string"!=typeof t?S.grep(e,function(e){return f.call(t,e)>-1!==r}):S.filter(t,e,r)}S.filter=function(e,t,r){var n=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?S.find.matchesSelector(n,e)?[n]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,r,n=this.length,i=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<n;t++)if(S.contains(i[t],this))return!0}));for(r=this.pushStack([]),t=0;t<n;t++)S.find(e,i[t],r);return n>1?S.uniqueSort(r):r},filter:function(e){return this.pushStack(L(this,e||[],!1))},not:function(e){return this.pushStack(L(this,e||[],!0))},is:function(e){return!!L(this,"string"==typeof e&&x.test(e)?S(e):e||[],!1).length}});var R,O=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,r){var n,i;if(!e)return this;if(r=r||R,"string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:O.exec(e))||!n[1]&&t)return!t||t.jquery?(t||r).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:a,!0)),N.test(n[1])&&S.isPlainObject(t))for(n in t)m(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(i=a.getElementById(n[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==r.ready?r.ready(e):e(S):S.makeArray(e,this)}).prototype=S.fn,R=S(a);var P=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};function F(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}S.fn.extend({has:function(e){var t=S(e,this),r=t.length;return this.filter(function(){for(var e=0;e<r;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var r,n=0,i=this.length,o=[],a="string"!=typeof e&&S(e);if(!x.test(e))for(;n<i;n++)for(r=this[n];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(a?a.index(r)>-1:1===r.nodeType&&S.find.matchesSelector(r,e))){o.push(r);break}return this.pushStack(o.length>1?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?f.call(S(e),this[0]):f.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return k(e,"parentNode")},parentsUntil:function(e,t,r){return k(e,"parentNode",r)},next:function(e){return F(e,"nextSibling")},prev:function(e){return F(e,"previousSibling")},nextAll:function(e){return k(e,"nextSibling")},prevAll:function(e){return k(e,"previousSibling")},nextUntil:function(e,t,r){return k(e,"nextSibling",r)},prevUntil:function(e,t,r){return k(e,"previousSibling",r)},siblings:function(e){return I((e.parentNode||{}).firstChild,e)},children:function(e){return I(e.firstChild)},contents:function(e){return B(e,"iframe")?e.contentDocument:(B(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(e,t){S.fn[e]=function(r,n){var i=S.map(this,t,r);return"Until"!==e.slice(-5)&&(n=r),n&&"string"==typeof n&&(i=S.filter(n,i)),this.length>1&&(D[e]||S.uniqueSort(i),P.test(e)&&i.reverse()),this.pushStack(i)}});var U=/[^\x20\t\r\n\f]+/g;function M(e){return e}function j(e){throw e}function H(e,t,r,n){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(r):e&&m(i=e.then)?i.call(e,t,r):t.apply(void 0,[e].slice(n))}catch(e){r.apply(void 0,[e])}}S.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return S.each(e.match(U)||[],function(e,r){t[r]=!0}),t}(e):S.extend({},e);var t,r,n,i,o=[],a=[],s=-1,u=function(){for(i=i||e.once,n=t=!0;a.length;s=-1)for(r=a.shift();++s<o.length;)!1===o[s].apply(r[0],r[1])&&e.stopOnFalse&&(s=o.length,r=!1);e.memory||(r=!1),t=!1,i&&(o=r?[]:"")},l={add:function(){return o&&(r&&!t&&(s=o.length-1,a.push(r)),function t(r){S.each(r,function(r,n){m(n)?e.unique&&l.has(n)||o.push(n):n&&n.length&&"string"!==E(n)&&t(n)})}(arguments),r&&!t&&u()),this},remove:function(){return S.each(arguments,function(e,t){for(var r;(r=S.inArray(t,o,r))>-1;)o.splice(r,1),r<=s&&s--}),this},has:function(e){return e?S.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=r="",this},disabled:function(){return!o},lock:function(){return i=a=[],r||t||(o=r=""),this},locked:function(){return!!i},fireWith:function(e,r){return i||(r=[e,(r=r||[]).slice?r.slice():r],a.push(r),t||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!n}};return l},S.extend({Deferred:function(e){var t=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return S.Deferred(function(r){S.each(t,function(t,n){var i=m(e[n[4]])&&e[n[4]];o[n[1]](function(){var e=i&&i.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[n[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(e,n,i){var o=0;function a(e,t,n,i){return function(){var s=this,u=arguments,l=function(){var r,l;if(!(e<o)){if((r=n.apply(s,u))===t.promise())throw new TypeError("Thenable self-resolution");l=r&&("object"==typeof r||"function"==typeof r)&&r.then,m(l)?i?l.call(r,a(o,t,M,i),a(o,t,j,i)):(o++,l.call(r,a(o,t,M,i),a(o,t,j,i),a(o,t,M,t.notifyWith))):(n!==M&&(s=void 0,u=[r]),(i||t.resolveWith)(s,u))}},c=i?l:function(){try{l()}catch(r){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(r,c.stackTrace),e+1>=o&&(n!==j&&(s=void 0,u=[r]),t.rejectWith(s,u))}};e?c():(S.Deferred.getStackHook&&(c.stackTrace=S.Deferred.getStackHook()),r.setTimeout(c))}}return S.Deferred(function(r){t[0][3].add(a(0,r,m(i)?i:M,r.notifyWith)),t[1][3].add(a(0,r,m(e)?e:M)),t[2][3].add(a(0,r,m(n)?n:j))}).promise()},promise:function(e){return null!=e?S.extend(e,i):i}},o={};return S.each(t,function(e,r){var a=r[2],s=r[5];i[r[1]]=a.add,s&&a.add(function(){n=s},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(r[3].fire),o[r[0]]=function(){return o[r[0]+"With"](this===o?void 0:this,arguments),this},o[r[0]+"With"]=a.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,r=t,n=Array(r),i=u.call(arguments),o=S.Deferred(),a=function(e){return function(r){n[e]=this,i[e]=arguments.length>1?u.call(arguments):r,--t||o.resolveWith(n,i)}};if(t<=1&&(H(e,o.done(a(r)).resolve,o.reject,!t),"pending"===o.state()||m(i[r]&&i[r].then)))return o.then();for(;r--;)H(i[r],a(r),o.reject);return o.promise()}});var K=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&K.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){r.setTimeout(function(){throw e})};var V=S.Deferred();function z(){a.removeEventListener("DOMContentLoaded",z),r.removeEventListener("load",z),S.ready()}S.fn.ready=function(e){return V.then(e).catch(function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0,!0!==e&&--S.readyWait>0||V.resolveWith(a,[S]))}}),S.ready.then=V.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?r.setTimeout(S.ready):(a.addEventListener("DOMContentLoaded",z),r.addEventListener("load",z));var W=function(e,t,r,n,i,o,a){var s=0,u=e.length,l=null==r;if("object"===E(r))for(s in i=!0,r)W(e,t,s,r[s],!0,o,a);else if(void 0!==n&&(i=!0,m(n)||(a=!0),l&&(a?(t.call(e,n),t=null):(l=t,t=function(e,t,r){return l.call(S(e),r)})),t))for(;s<u;s++)t(e[s],r,a?n:n.call(e[s],s,t(e[s],r)));return i?e:l?t.call(e):u?t(e[0],r):o},q=/^-ms-/,G=/-([a-z])/g;function Y(e,t){return t.toUpperCase()}function X(e){return e.replace(q,"ms-").replace(G,Y)}var Z=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Q(){this.expando=S.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Z(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,r){var n,i=this.cache(e);if("string"==typeof t)i[X(t)]=r;else for(n in t)i[X(n)]=t[n];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,r){return void 0===t||t&&"string"==typeof t&&void 0===r?this.get(e,t):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,n=e[this.expando];if(void 0!==n){if(void 0!==t){r=(t=Array.isArray(t)?t.map(X):(t=X(t))in n?[t]:t.match(U)||[]).length;for(;r--;)delete n[t[r]]}(void 0===t||S.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var J=new Q,$=new Q,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function re(e,t,r){var n;if(void 0===r&&1===e.nodeType)if(n="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(r=e.getAttribute(n))){try{r=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(r)}catch(e){}$.set(e,t,r)}else r=void 0;return r}S.extend({hasData:function(e){return $.hasData(e)||J.hasData(e)},data:function(e,t,r){return $.access(e,t,r)},removeData:function(e,t){$.remove(e,t)},_data:function(e,t,r){return J.access(e,t,r)},_removeData:function(e,t){J.remove(e,t)}}),S.fn.extend({data:function(e,t){var r,n,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=$.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){for(r=a.length;r--;)a[r]&&0===(n=a[r].name).indexOf("data-")&&(n=X(n.slice(5)),re(o,n,i[n]));J.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){$.set(this,e)}):W(this,function(t){var r;if(o&&void 0===t)return void 0!==(r=$.get(o,e))?r:void 0!==(r=re(o,e))?r:void 0;this.each(function(){$.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){$.remove(this,e)})}}),S.extend({queue:function(e,t,r){var n;if(e)return t=(t||"fx")+"queue",n=J.get(e,t),r&&(!n||Array.isArray(r)?n=J.access(e,t,S.makeArray(r)):n.push(r)),n||[]},dequeue:function(e,t){t=t||"fx";var r=S.queue(e,t),n=r.length,i=r.shift(),o=S._queueHooks(e,t);"inprogress"===i&&(i=r.shift(),n--),i&&("fx"===t&&r.unshift("inprogress"),delete o.stop,i.call(e,function(){S.dequeue(e,t)},o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return J.get(e,r)||J.access(e,r,{empty:S.Callbacks("once memory").add(function(){J.remove(e,[t+"queue",r])})})}}),S.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?S.queue(this[0],e):void 0===t?this:this.each(function(){var r=S.queue(this,e,t);S._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&S.dequeue(this,e)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,n=1,i=S.Deferred(),o=this,a=this.length,s=function(){--n||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(r=J.get(o[a],e+"queueHooks"))&&r.empty&&(n++,r.empty.add(s));return s(),i.promise(t)}});var ne=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ie=new RegExp("^(?:([+-])=|)("+ne+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&S.contains(e.ownerDocument,e)&&"none"===S.css(e,"display")},se=function(e,t,r,n){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=r.apply(e,n||[]),t)e.style[o]=a[o];return i};function ue(e,t,r,n){var i,o,a=20,s=n?function(){return n.cur()}:function(){return S.css(e,t,"")},u=s(),l=r&&r[3]||(S.cssNumber[t]?"":"px"),c=(S.cssNumber[t]||"px"!==l&&+u)&&ie.exec(S.css(e,t));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;a--;)S.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,S.style(e,t,c+l),r=r||[]}return r&&(c=+c||+u||0,i=r[1]?c+(r[1]+1)*r[2]:+r[2],n&&(n.unit=l,n.start=c,n.end=i)),i}var le={};function ce(e){var t,r=e.ownerDocument,n=e.nodeName,i=le[n];return i||(t=r.body.appendChild(r.createElement(n)),i=S.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),le[n]=i,i)}function fe(e,t){for(var r,n,i=[],o=0,a=e.length;o<a;o++)(n=e[o]).style&&(r=n.style.display,t?("none"===r&&(i[o]=J.get(n,"display")||null,i[o]||(n.style.display="")),""===n.style.display&&ae(n)&&(i[o]=ce(n))):"none"!==r&&(i[o]="none",J.set(n,"display",r)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}S.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?S(this).show():S(this).hide()})}});var he=/^(?:checkbox|radio)$/i,pe=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,de=/^$|^module$|\/(?:java|ecma)script/i,ge={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ye(e,t){var r;return r=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&B(e,t)?S.merge([e],r):r}function ve(e,t){for(var r=0,n=e.length;r<n;r++)J.set(e[r],"globalEval",!t||J.get(t[r],"globalEval"))}ge.optgroup=ge.option,ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td;var me,be,we=/<|&#?\w+;/;function Ce(e,t,r,n,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),h=[],p=0,d=e.length;p<d;p++)if((o=e[p])||0===o)if("object"===E(o))S.merge(h,o.nodeType?[o]:o);else if(we.test(o)){for(a=a||f.appendChild(t.createElement("div")),s=(pe.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],c=u[0];c--;)a=a.lastChild;S.merge(h,a.childNodes),(a=f.firstChild).textContent=""}else h.push(t.createTextNode(o));for(f.textContent="",p=0;o=h[p++];)if(n&&S.inArray(o,n)>-1)i&&i.push(o);else if(l=S.contains(o.ownerDocument,o),a=ye(f.appendChild(o),"script"),l&&ve(a),r)for(c=0;o=a[c++];)de.test(o.type||"")&&r.push(o);return f}me=a.createDocumentFragment().appendChild(a.createElement("div")),(be=a.createElement("input")).setAttribute("type","radio"),be.setAttribute("checked","checked"),be.setAttribute("name","t"),me.appendChild(be),v.checkClone=me.cloneNode(!0).cloneNode(!0).lastChild.checked,me.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!me.cloneNode(!0).lastChild.defaultValue;var Ee=a.documentElement,Se=/^key/,Te=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ae=/^([^.]*)(?:\.(.+)|)/;function _e(){return!0}function ke(){return!1}function Ie(){try{return a.activeElement}catch(e){}}function xe(e,t,r,n,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof r&&(n=n||r,r=void 0),t)xe(e,s,r,n,t[s],o);return e}if(null==n&&null==i?(i=r,n=r=void 0):null==i&&("string"==typeof r?(i=n,n=void 0):(i=n,n=r,r=void 0)),!1===i)i=ke;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,i,n,r)})}S.event={global:{},add:function(e,t,r,n,i){var o,a,s,u,l,c,f,h,p,d,g,y=J.get(e);if(y)for(r.handler&&(r=(o=r).handler,i=o.selector),i&&S.find.matchesSelector(Ee,i),r.guid||(r.guid=S.guid++),(u=y.events)||(u=y.events={}),(a=y.handle)||(a=y.handle=function(t){return void 0!==S&&S.event.triggered!==t.type?S.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(U)||[""]).length;l--;)p=g=(s=Ae.exec(t[l])||[])[1],d=(s[2]||"").split(".").sort(),p&&(f=S.event.special[p]||{},p=(i?f.delegateType:f.bindType)||p,f=S.event.special[p]||{},c=S.extend({type:p,origType:g,data:n,handler:r,guid:r.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:d.join(".")},o),(h=u[p])||((h=u[p]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,n,d,a)||e.addEventListener&&e.addEventListener(p,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=r.guid)),i?h.splice(h.delegateCount++,0,c):h.push(c),S.event.global[p]=!0)},remove:function(e,t,r,n,i){var o,a,s,u,l,c,f,h,p,d,g,y=J.hasData(e)&&J.get(e);if(y&&(u=y.events)){for(l=(t=(t||"").match(U)||[""]).length;l--;)if(p=g=(s=Ae.exec(t[l])||[])[1],d=(s[2]||"").split(".").sort(),p){for(f=S.event.special[p]||{},h=u[p=(n?f.delegateType:f.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)c=h[o],!i&&g!==c.origType||r&&r.guid!==c.guid||s&&!s.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(h.splice(o,1),c.selector&&h.delegateCount--,f.remove&&f.remove.call(e,c));a&&!h.length&&(f.teardown&&!1!==f.teardown.call(e,d,y.handle)||S.removeEvent(e,p,y.handle),delete u[p])}else for(p in u)S.event.remove(e,p+t[l],r,n,!0);S.isEmptyObject(u)&&J.remove(e,"handle events")}},dispatch:function(e){var t,r,n,i,o,a,s=S.event.fix(e),u=new Array(arguments.length),l=(J.get(this,"events")||{})[s.type]||[],c=S.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=S.event.handlers.call(this,s,l),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,r=0;(o=i.handlers[r++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(n=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(s.result=n)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var r,n,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},r=0;r<u;r++)void 0===a[i=(n=t[r]).selector+" "]&&(a[i]=n.needsContext?S(i,this).index(l)>-1:S.find(i,this,null,[l]).length),a[i]&&o.push(n);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(S.Event.prototype,e,{enumerable:!0,configurable:!0,get:m(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ie()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Ie()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&B(this,"input"))return this.click(),!1},_default:function(e){return B(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?_e:ke,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:ke,isPropagationStopped:ke,isImmediatePropagationStopped:ke,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=_e,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=_e,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=_e,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Se.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Te.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},S.event.addProp),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){S.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,n=e.relatedTarget,i=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=i.origType,r=i.handler.apply(this,arguments),e.type=t),r}}}),S.fn.extend({on:function(e,t,r,n){return xe(this,e,t,r,n)},one:function(e,t,r,n){return xe(this,e,t,r,n,1)},off:function(e,t,r){var n,i;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,S(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(r=t,t=void 0),!1===r&&(r=ke),this.each(function(){S.event.remove(this,e,r,t)})}});var Be=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ne=/<script|<style|<link/i,Le=/checked\s*(?:[^=]|=\s*.checked.)/i,Re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Oe(e,t){return B(e,"table")&&B(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function Pe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function De(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Fe(e,t){var r,n,i,o,a,s,u,l;if(1===t.nodeType){if(J.hasData(e)&&(o=J.access(e),a=J.set(t,o),l=o.events))for(i in delete a.handle,a.events={},l)for(r=0,n=l[i].length;r<n;r++)S.event.add(t,i,l[i][r]);$.hasData(e)&&(s=$.access(e),u=S.extend({},s),$.set(t,u))}}function Ue(e,t,r,n){t=l.apply([],t);var i,o,a,s,u,c,f=0,h=e.length,p=h-1,d=t[0],g=m(d);if(g||h>1&&"string"==typeof d&&!v.checkClone&&Le.test(d))return e.each(function(i){var o=e.eq(i);g&&(t[0]=d.call(this,i,o.html())),Ue(o,t,r,n)});if(h&&(o=(i=Ce(t,e[0].ownerDocument,!1,e,n)).firstChild,1===i.childNodes.length&&(i=o),o||n)){for(s=(a=S.map(ye(i,"script"),Pe)).length;f<h;f++)u=i,f!==p&&(u=S.clone(u,!0,!0),s&&S.merge(a,ye(u,"script"))),r.call(e[f],u,f);if(s)for(c=a[a.length-1].ownerDocument,S.map(a,De),f=0;f<s;f++)u=a[f],de.test(u.type||"")&&!J.access(u,"globalEval")&&S.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&S._evalUrl(u.src):C(u.textContent.replace(Re,""),c,u))}return e}function Me(e,t,r){for(var n,i=t?S.filter(t,e):e,o=0;null!=(n=i[o]);o++)r||1!==n.nodeType||S.cleanData(ye(n)),n.parentNode&&(r&&S.contains(n.ownerDocument,n)&&ve(ye(n,"script")),n.parentNode.removeChild(n));return e}S.extend({htmlPrefilter:function(e){return e.replace(Be,"<$1></$2>")},clone:function(e,t,r){var n,i,o,a,s,u,l,c=e.cloneNode(!0),f=S.contains(e.ownerDocument,e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=ye(c),n=0,i=(o=ye(e)).length;n<i;n++)s=o[n],"input"===(l=(u=a[n]).nodeName.toLowerCase())&&he.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(r)for(o=o||ye(e),a=a||ye(c),n=0,i=o.length;n<i;n++)Fe(o[n],a[n]);else Fe(e,c);return(a=ye(c,"script")).length>0&&ve(a,!f&&ye(e,"script")),c},cleanData:function(e){for(var t,r,n,i=S.event.special,o=0;void 0!==(r=e[o]);o++)if(Z(r)){if(t=r[J.expando]){if(t.events)for(n in t.events)i[n]?S.event.remove(r,n):S.removeEvent(r,n,t.handle);r[J.expando]=void 0}r[$.expando]&&(r[$.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Me(this,e,!0)},remove:function(e){return Me(this,e)},text:function(e){return W(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Ue(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Oe(this,e).appendChild(e)})},prepend:function(){return Ue(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Oe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Ue(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ue(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(ye(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return W(this,function(e){var t=this[0]||{},r=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ne.test(e)&&!ge[(pe.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;r<n;r++)1===(t=this[r]||{}).nodeType&&(S.cleanData(ye(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Ue(this,arguments,function(t){var r=this.parentNode;S.inArray(this,e)<0&&(S.cleanData(ye(this)),r&&r.replaceChild(t,this))},e)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){S.fn[e]=function(e){for(var r,n=[],i=S(e),o=i.length-1,a=0;a<=o;a++)r=a===o?this:this.clone(!0),S(i[a])[t](r),c.apply(n,r.get());return this.pushStack(n)}});var je=new RegExp("^("+ne+")(?!px)[a-z%]+$","i"),He=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},Ke=new RegExp(oe.join("|"),"i");function Ve(e,t,r){var n,i,o,a,s=e.style;return(r=r||He(e))&&(""!==(a=r.getPropertyValue(t)||r[t])||S.contains(e.ownerDocument,e)||(a=S.style(e,t)),!v.pixelBoxStyles()&&je.test(a)&&Ke.test(t)&&(n=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=r.width,s.width=n,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function ze(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ee.appendChild(l).appendChild(c);var e=r.getComputedStyle(c);n="1%"!==e.top,u=12===t(e.marginLeft),c.style.right="60%",s=36===t(e.right),i=36===t(e.width),c.style.position="absolute",o=36===c.offsetWidth||"absolute",Ee.removeChild(l),c=null}}function t(e){return Math.round(parseFloat(e))}var n,i,o,s,u,l=a.createElement("div"),c=a.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===c.style.backgroundClip,S.extend(v,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),u},scrollboxSize:function(){return e(),o}}))}();var We=/^(none|table(?!-c[ea]).+)/,qe=/^--/,Ge={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:"0",fontWeight:"400"},Xe=["Webkit","Moz","ms"],Ze=a.createElement("div").style;function Qe(e){var t=S.cssProps[e];return t||(t=S.cssProps[e]=function(e){if(e in Ze)return e;for(var t=e[0].toUpperCase()+e.slice(1),r=Xe.length;r--;)if((e=Xe[r]+t)in Ze)return e}(e)||e),t}function Je(e,t,r){var n=ie.exec(t);return n?Math.max(0,n[2]-(r||0))+(n[3]||"px"):t}function $e(e,t,r,n,i,o){var a="width"===t?1:0,s=0,u=0;if(r===(n?"border":"content"))return 0;for(;a<4;a+=2)"margin"===r&&(u+=S.css(e,r+oe[a],!0,i)),n?("content"===r&&(u-=S.css(e,"padding"+oe[a],!0,i)),"margin"!==r&&(u-=S.css(e,"border"+oe[a]+"Width",!0,i))):(u+=S.css(e,"padding"+oe[a],!0,i),"padding"!==r?u+=S.css(e,"border"+oe[a]+"Width",!0,i):s+=S.css(e,"border"+oe[a]+"Width",!0,i));return!n&&o>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))),u}function et(e,t,r){var n=He(e),i=Ve(e,t,n),o="border-box"===S.css(e,"boxSizing",!1,n),a=o;if(je.test(i)){if(!r)return i;i="auto"}return a=a&&(v.boxSizingReliable()||i===e.style[t]),("auto"===i||!parseFloat(i)&&"inline"===S.css(e,"display",!1,n))&&(i=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(i=parseFloat(i)||0)+$e(e,t,r||(o?"border":"content"),a,n,i)+"px"}function tt(e,t,r,n,i){return new tt.prototype.init(e,t,r,n,i)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var r=Ve(e,"opacity");return""===r?"1":r}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,r,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=X(t),u=qe.test(t),l=e.style;if(u||(t=Qe(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===r)return a&&"get"in a&&void 0!==(i=a.get(e,!1,n))?i:l[t];"string"==(o=typeof r)&&(i=ie.exec(r))&&i[1]&&(r=ue(e,t,i),o="number"),null!=r&&r==r&&("number"===o&&(r+=i&&i[3]||(S.cssNumber[s]?"":"px")),v.clearCloneStyle||""!==r||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(r=a.set(e,r,n))||(u?l.setProperty(t,r):l[t]=r))}},css:function(e,t,r,n){var i,o,a,s=X(t);return qe.test(t)||(t=Qe(s)),(a=S.cssHooks[t]||S.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,r)),void 0===i&&(i=Ve(e,t,n)),"normal"===i&&t in Ye&&(i=Ye[t]),""===r||r?(o=parseFloat(i),!0===r||isFinite(o)?o||0:i):i}}),S.each(["height","width"],function(e,t){S.cssHooks[t]={get:function(e,r,n){if(r)return!We.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,n):se(e,Ge,function(){return et(e,t,n)})},set:function(e,r,n){var i,o=He(e),a="border-box"===S.css(e,"boxSizing",!1,o),s=n&&$e(e,t,n,a,o);return a&&v.scrollboxSize()===o.position&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-$e(e,t,"border",!1,o)-.5)),s&&(i=ie.exec(r))&&"px"!==(i[3]||"px")&&(e.style[t]=r,r=S.css(e,t)),Je(0,r,s)}}}),S.cssHooks.marginLeft=ze(v.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ve(e,"marginLeft"))||e.getBoundingClientRect().left-se(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(e,t){S.cssHooks[e+t]={expand:function(r){for(var n=0,i={},o="string"==typeof r?r.split(" "):[r];n<4;n++)i[e+oe[n]+t]=o[n]||o[n-2]||o[0];return i}},"margin"!==e&&(S.cssHooks[e+t].set=Je)}),S.fn.extend({css:function(e,t){return W(this,function(e,t,r){var n,i,o={},a=0;if(Array.isArray(t)){for(n=He(e),i=t.length;a<i;a++)o[t[a]]=S.css(e,t[a],!1,n);return o}return void 0!==r?S.style(e,t,r):S.css(e,t)},e,t,arguments.length>1)}}),S.Tween=tt,tt.prototype={constructor:tt,init:function(e,t,r,n,i,o){this.elem=e,this.prop=r,this.easing=i||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(S.cssNumber[r]?"":"px")},cur:function(){var e=tt.propHooks[this.prop];return e&&e.get?e.get(this):tt.propHooks._default.get(this)},run:function(e){var t,r=tt.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):tt.propHooks._default.set(this),this}},tt.prototype.init.prototype=tt.prototype,tt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[S.cssProps[e.prop]]&&!S.cssHooks[e.prop]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}},tt.propHooks.scrollTop=tt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=tt.prototype.init,S.fx.step={};var rt,nt,it=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;function at(){nt&&(!1===a.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(at):r.setTimeout(at,S.fx.interval),S.fx.tick())}function st(){return r.setTimeout(function(){rt=void 0}),rt=Date.now()}function ut(e,t){var r,n=0,i={height:e};for(t=t?1:0;n<4;n+=2-t)i["margin"+(r=oe[n])]=i["padding"+r]=e;return t&&(i.opacity=i.width=e),i}function lt(e,t,r){for(var n,i=(ct.tweeners[t]||[]).concat(ct.tweeners["*"]),o=0,a=i.length;o<a;o++)if(n=i[o].call(r,t,e))return n}function ct(e,t,r){var n,i,o=0,a=ct.prefilters.length,s=S.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=rt||st(),r=Math.max(0,l.startTime+l.duration-t),n=1-(r/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(n);return s.notifyWith(e,[l,n,r]),n<1&&a?r:(a||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:S.extend({},t),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},r),originalProperties:t,originalOptions:r,startTime:rt||st(),duration:r.duration,tweens:[],createTween:function(t,r){var n=S.Tween(e,l.opts,t,r,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(n),n},stop:function(t){var r=0,n=t?l.tweens.length:0;if(i)return this;for(i=!0;r<n;r++)l.tweens[r].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(function(e,t){var r,n,i,o,a;for(r in e)if(i=t[n=X(r)],o=e[r],Array.isArray(o)&&(i=o[1],o=e[r]=o[0]),r!==n&&(e[n]=o,delete e[r]),(a=S.cssHooks[n])&&"expand"in a)for(r in o=a.expand(o),delete e[n],o)r in e||(e[r]=o[r],t[r]=i);else t[n]=i}(c,l.opts.specialEasing);o<a;o++)if(n=ct.prefilters[o].call(l,e,c,l.opts))return m(n.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return S.map(c,lt,l),m(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(ct,{tweeners:{"*":[function(e,t){var r=this.createTween(e,t);return ue(r.elem,e,ie.exec(t),r),r}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(U);for(var r,n=0,i=e.length;n<i;n++)r=e[n],ct.tweeners[r]=ct.tweeners[r]||[],ct.tweeners[r].unshift(t)},prefilters:[function(e,t,r){var n,i,o,a,s,u,l,c,f="width"in t||"height"in t,h=this,p={},d=e.style,g=e.nodeType&&ae(e),y=J.get(e,"fxshow");for(n in r.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[n],it.test(i)){if(delete t[n],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!y||void 0===y[n])continue;g=!0}p[n]=y&&y[n]||S.style(e,n)}if((u=!S.isEmptyObject(t))||!S.isEmptyObject(p))for(n in f&&1===e.nodeType&&(r.overflow=[d.overflow,d.overflowX,d.overflowY],null==(l=y&&y.display)&&(l=J.get(e,"display")),"none"===(c=S.css(e,"display"))&&(l?c=l:(fe([e],!0),l=e.style.display||l,c=S.css(e,"display"),fe([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===S.css(e,"float")&&(u||(h.done(function(){d.display=l}),null==l&&(c=d.display,l="none"===c?"":c)),d.display="inline-block")),r.overflow&&(d.overflow="hidden",h.always(function(){d.overflow=r.overflow[0],d.overflowX=r.overflow[1],d.overflowY=r.overflow[2]})),u=!1,p)u||(y?"hidden"in y&&(g=y.hidden):y=J.access(e,"fxshow",{display:l}),o&&(y.hidden=!g),g&&fe([e],!0),h.done(function(){for(n in g||fe([e]),J.remove(e,"fxshow"),p)S.style(e,n,p[n])})),u=lt(g?y[n]:0,n,h),n in y||(y[n]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?ct.prefilters.unshift(e):ct.prefilters.push(e)}}),S.speed=function(e,t,r){var n=e&&"object"==typeof e?S.extend({},e):{complete:r||!r&&t||m(e)&&e,duration:e,easing:r&&t||t&&!m(t)&&t};return S.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in S.fx.speeds?n.duration=S.fx.speeds[n.duration]:n.duration=S.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){m(n.old)&&n.old.call(this),n.queue&&S.dequeue(this,n.queue)},n},S.fn.extend({fadeTo:function(e,t,r,n){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,r,n)},animate:function(e,t,r,n){var i=S.isEmptyObject(e),o=S.speed(t,r,n),a=function(){var t=ct(this,S.extend({},e),o);(i||J.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,r){var n=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=S.timers,a=J.get(this);if(i)a[i]&&a[i].stop&&n(a[i]);else for(i in a)a[i]&&a[i].stop&&ot.test(i)&&n(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(r),t=!1,o.splice(i,1));!t&&r||S.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,r=J.get(this),n=r[e+"queue"],i=r[e+"queueHooks"],o=S.timers,a=n?n.length:0;for(r.finish=!0,S.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete r.finish})}}),S.each(["toggle","show","hide"],function(e,t){var r=S.fn[t];S.fn[t]=function(e,n,i){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(ut(t,!0),e,n,i)}}),S.each({slideDown:ut("show"),slideUp:ut("hide"),slideToggle:ut("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){S.fn[e]=function(e,r,n){return this.animate(t,e,r,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,r=S.timers;for(rt=Date.now();t<r.length;t++)(e=r[t])()||r[t]!==e||r.splice(t--,1);r.length||S.fx.stop(),rt=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){nt||(nt=!0,at())},S.fx.stop=function(){nt=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(e,t){return e=S.fx&&S.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,n){var i=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(i)}})},function(){var e=a.createElement("input"),t=a.createElement("select").appendChild(a.createElement("option"));e.type="checkbox",v.checkOn=""!==e.value,v.optSelected=t.selected,(e=a.createElement("input")).value="t",e.type="radio",v.radioValue="t"===e.value}();var ft,ht=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return W(this,S.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,r){var n,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?S.prop(e,t,r):(1===o&&S.isXMLDoc(e)||(i=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?ft:void 0)),void 0!==r?null===r?void S.removeAttr(e,t):i&&"set"in i&&void 0!==(n=i.set(e,r,t))?n:(e.setAttribute(t,r+""),r):i&&"get"in i&&null!==(n=i.get(e,t))?n:null==(n=S.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&B(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}},removeAttr:function(e,t){var r,n=0,i=t&&t.match(U);if(i&&1===e.nodeType)for(;r=i[n++];)e.removeAttribute(r)}}),ft={set:function(e,t,r){return!1===t?S.removeAttr(e,r):e.setAttribute(r,r),r}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var r=ht[t]||S.find.attr;ht[t]=function(e,t,n){var i,o,a=t.toLowerCase();return n||(o=ht[a],ht[a]=i,i=null!=r(e,t,n)?a:null,ht[a]=o),i}});var pt=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;function gt(e){return(e.match(U)||[]).join(" ")}function yt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(U)||[]}S.fn.extend({prop:function(e,t){return W(this,S.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,r){var n,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==r?i&&"set"in i&&void 0!==(n=i.set(e,r,t))?n:e[t]=r:i&&"get"in i&&null!==(n=i.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(e){var t,r,n,i,o,a,s,u=0;if(m(e))return this.each(function(t){S(this).addClass(e.call(this,t,yt(this)))});if((t=vt(e)).length)for(;r=this[u++];)if(i=yt(r),n=1===r.nodeType&&" "+gt(i)+" "){for(a=0;o=t[a++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");i!==(s=gt(n))&&r.setAttribute("class",s)}return this},removeClass:function(e){var t,r,n,i,o,a,s,u=0;if(m(e))return this.each(function(t){S(this).removeClass(e.call(this,t,yt(this)))});if(!arguments.length)return this.attr("class","");if((t=vt(e)).length)for(;r=this[u++];)if(i=yt(r),n=1===r.nodeType&&" "+gt(i)+" "){for(a=0;o=t[a++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");i!==(s=gt(n))&&r.setAttribute("class",s)}return this},toggleClass:function(e,t){var r=typeof e,n="string"===r||Array.isArray(e);return"boolean"==typeof t&&n?t?this.addClass(e):this.removeClass(e):m(e)?this.each(function(r){S(this).toggleClass(e.call(this,r,yt(this),t),t)}):this.each(function(){var t,i,o,a;if(n)for(i=0,o=S(this),a=vt(e);t=a[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==r||((t=yt(this))&&J.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":J.get(this,"__className__")||""))})},hasClass:function(e){var t,r,n=0;for(t=" "+e+" ";r=this[n++];)if(1===r.nodeType&&(" "+gt(yt(r))+" ").indexOf(t)>-1)return!0;return!1}});var mt=/\r/g;S.fn.extend({val:function(e){var t,r,n,i=this[0];return arguments.length?(n=m(e),this.each(function(r){var i;1===this.nodeType&&(null==(i=n?e.call(this,r,S(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=S.map(i,function(e){return null==e?"":e+""})),(t=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=S.valHooks[i.type]||S.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(r=t.get(i,"value"))?r:"string"==typeof(r=i.value)?r.replace(mt,""):null==r?"":r:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:gt(S.text(e))}},select:{get:function(e){var t,r,n,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(n=o<0?u:a?o:0;n<u;n++)if(((r=i[n]).selected||n===o)&&!r.disabled&&(!r.parentNode.disabled||!B(r.parentNode,"optgroup"))){if(t=S(r).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var r,n,i=e.options,o=S.makeArray(t),a=i.length;a--;)((n=i[a]).selected=S.inArray(S.valHooks.option.get(n),o)>-1)&&(r=!0);return r||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=S.inArray(S(e).val(),t)>-1}},v.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),v.focusin="onfocusin"in r;var bt=/^(?:focusinfocus|focusoutblur)$/,wt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,n,i){var o,s,u,l,c,f,h,p,g=[n||a],y=d.call(e,"type")?e.type:e,v=d.call(e,"namespace")?e.namespace.split("."):[];if(s=p=u=n=n||a,3!==n.nodeType&&8!==n.nodeType&&!bt.test(y+S.event.triggered)&&(y.indexOf(".")>-1&&(y=(v=y.split(".")).shift(),v.sort()),c=y.indexOf(":")<0&&"on"+y,(e=e[S.expando]?e:new S.Event(y,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),h=S.event.special[y]||{},i||!h.trigger||!1!==h.trigger.apply(n,t))){if(!i&&!h.noBubble&&!b(n)){for(l=h.delegateType||y,bt.test(l+y)||(s=s.parentNode);s;s=s.parentNode)g.push(s),u=s;u===(n.ownerDocument||a)&&g.push(u.defaultView||u.parentWindow||r)}for(o=0;(s=g[o++])&&!e.isPropagationStopped();)p=s,e.type=o>1?l:h.bindType||y,(f=(J.get(s,"events")||{})[e.type]&&J.get(s,"handle"))&&f.apply(s,t),(f=c&&s[c])&&f.apply&&Z(s)&&(e.result=f.apply(s,t),!1===e.result&&e.preventDefault());return e.type=y,i||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(g.pop(),t)||!Z(n)||c&&m(n[y])&&!b(n)&&((u=n[c])&&(n[c]=null),S.event.triggered=y,e.isPropagationStopped()&&p.addEventListener(y,wt),n[y](),e.isPropagationStopped()&&p.removeEventListener(y,wt),S.event.triggered=void 0,u&&(n[c]=u)),e.result}},simulate:function(e,t,r){var n=S.extend(new S.Event,r,{type:e,isSimulated:!0});S.event.trigger(n,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var r=this[0];if(r)return S.event.trigger(e,t,r,!0)}}),v.focusin||S.each({focus:"focusin",blur:"focusout"},function(e,t){var r=function(e){S.event.simulate(t,e.target,S.event.fix(e))};S.event.special[t]={setup:function(){var n=this.ownerDocument||this,i=J.access(n,t);i||n.addEventListener(e,r,!0),J.access(n,t,(i||0)+1)},teardown:function(){var n=this.ownerDocument||this,i=J.access(n,t)-1;i?J.access(n,t,i):(n.removeEventListener(e,r,!0),J.remove(n,t))}}});var Ct=r.location,Et=Date.now(),St=/\?/;S.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||S.error("Invalid XML: "+e),t};var Tt=/\[\]$/,At=/\r?\n/g,_t=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;function It(e,t,r,n){var i;if(Array.isArray(t))S.each(t,function(t,i){r||Tt.test(e)?n(e,i):It(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,r,n)});else if(r||"object"!==E(t))n(e,t);else for(i in t)It(e+"["+i+"]",t[i],r,n)}S.param=function(e,t){var r,n=[],i=function(e,t){var r=m(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==r?"":r)};if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){i(this.name,this.value)});else for(r in e)It(r,e[r],t,i);return n.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&kt.test(this.nodeName)&&!_t.test(e)&&(this.checked||!he.test(e))}).map(function(e,t){var r=S(this).val();return null==r?null:Array.isArray(r)?S.map(r,function(e){return{name:t.name,value:e.replace(At,"\r\n")}}):{name:t.name,value:r.replace(At,"\r\n")}}).get()}});var xt=/%20/g,Bt=/#.*$/,Nt=/([?&])_=[^&]*/,Lt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Rt=/^(?:GET|HEAD)$/,Ot=/^\/\//,Pt={},Dt={},Ft="*/".concat("*"),Ut=a.createElement("a");function Mt(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var n,i=0,o=t.toLowerCase().match(U)||[];if(m(r))for(;n=o[i++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(r)):(e[n]=e[n]||[]).push(r)}}function jt(e,t,r,n){var i={},o=e===Dt;function a(s){var u;return i[s]=!0,S.each(e[s]||[],function(e,s){var l=s(t,r,n);return"string"!=typeof l||o||i[l]?o?!(u=l):void 0:(t.dataTypes.unshift(l),a(l),!1)}),u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function Ht(e,t){var r,n,i=S.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&S.extend(!0,e,n),e}Ut.href=Ct.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ct.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ct.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ft,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ht(Ht(e,S.ajaxSettings),t):Ht(S.ajaxSettings,e)},ajaxPrefilter:Mt(Pt),ajaxTransport:Mt(Dt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i,o,s,u,l,c,f,h,p,d=S.ajaxSetup({},t),g=d.context||d,y=d.context&&(g.nodeType||g.jquery)?S(g):S.event,v=S.Deferred(),m=S.Callbacks("once memory"),b=d.statusCode||{},w={},C={},E="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Lt.exec(o);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=C[e.toLowerCase()]=C[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==c&&(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)T.always(e[T.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||E;return n&&n.abort(t),A(0,t),this}};if(v.promise(T),d.url=((e||d.url||Ct.href)+"").replace(Ot,Ct.protocol+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(U)||[""],null==d.crossDomain){l=a.createElement("a");try{l.href=d.url,l.href=l.href,d.crossDomain=Ut.protocol+"//"+Ut.host!=l.protocol+"//"+l.host}catch(e){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=S.param(d.data,d.traditional)),jt(Pt,d,t,T),c)return T;for(h in(f=S.event&&d.global)&&0==S.active++&&S.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Rt.test(d.type),i=d.url.replace(Bt,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(xt,"+")):(p=d.url.slice(i.length),d.data&&(d.processData||"string"==typeof d.data)&&(i+=(St.test(i)?"&":"?")+d.data,delete d.data),!1===d.cache&&(i=i.replace(Nt,"$1"),p=(St.test(i)?"&":"?")+"_="+Et+++p),d.url=i+p),d.ifModified&&(S.lastModified[i]&&T.setRequestHeader("If-Modified-Since",S.lastModified[i]),S.etag[i]&&T.setRequestHeader("If-None-Match",S.etag[i])),(d.data&&d.hasContent&&!1!==d.contentType||t.contentType)&&T.setRequestHeader("Content-Type",d.contentType),T.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ft+"; q=0.01":""):d.accepts["*"]),d.headers)T.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(!1===d.beforeSend.call(g,T,d)||c))return T.abort();if(E="abort",m.add(d.complete),T.done(d.success),T.fail(d.error),n=jt(Dt,d,t,T)){if(T.readyState=1,f&&y.trigger("ajaxSend",[T,d]),c)return T;d.async&&d.timeout>0&&(u=r.setTimeout(function(){T.abort("timeout")},d.timeout));try{c=!1,n.send(w,A)}catch(e){if(c)throw e;A(-1,e)}}else A(-1,"No Transport");function A(e,t,a,s){var l,h,p,w,C,E=t;c||(c=!0,u&&r.clearTimeout(u),n=void 0,o=s||"",T.readyState=e>0?4:0,l=e>=200&&e<300||304===e,a&&(w=function(e,t,r){for(var n,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(i in s)if(s[i]&&s[i].test(n)){u.unshift(i);break}if(u[0]in r)o=u[0];else{for(i in r){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),r[o]}(d,T,a)),w=function(e,t,r,n){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(r[e.responseFields[o]]=t),!u&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(d,w,T,l),l?(d.ifModified&&((C=T.getResponseHeader("Last-Modified"))&&(S.lastModified[i]=C),(C=T.getResponseHeader("etag"))&&(S.etag[i]=C)),204===e||"HEAD"===d.type?E="nocontent":304===e?E="notmodified":(E=w.state,h=w.data,l=!(p=w.error))):(p=E,!e&&E||(E="error",e<0&&(e=0))),T.status=e,T.statusText=(t||E)+"",l?v.resolveWith(g,[h,E,T]):v.rejectWith(g,[T,E,p]),T.statusCode(b),b=void 0,f&&y.trigger(l?"ajaxSuccess":"ajaxError",[T,d,l?h:p]),m.fireWith(g,[T,E]),f&&(y.trigger("ajaxComplete",[T,d]),--S.active||S.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,r){return S.get(e,t,r,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,t){S[t]=function(e,r,n,i){return m(r)&&(i=i||n,n=r,r=void 0),S.ajax(S.extend({url:e,type:t,dataType:i,data:r,success:n},S.isPlainObject(e)&&e))}}),S._evalUrl=function(e){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return m(e)?this.each(function(t){S(this).wrapInner(e.call(this,t))}):this.each(function(){var t=S(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)})},wrap:function(e){var t=m(e);return this.each(function(r){S(this).wrapAll(t?e.call(this,r):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var Kt={0:200,1223:204},Vt=S.ajaxSettings.xhr();v.cors=!!Vt&&"withCredentials"in Vt,v.ajax=Vt=!!Vt,S.ajaxTransport(function(e){var t,n;if(v.cors||Vt&&!e.crossDomain)return{send:function(i,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);t=function(e){return function(){t&&(t=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Kt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),n=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&r.setTimeout(function(){t&&n()})},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(e){var t,r;if(e.crossDomain)return{send:function(n,i){t=S("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",r=function(e){t.remove(),r=null,e&&i("error"===e.type?404:200,e.type)}),a.head.appendChild(t[0])},abort:function(){r&&r()}}});var zt,Wt=[],qt=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Wt.pop()||S.expando+"_"+Et++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var i,o,a,s=!1!==e.jsonp&&(qt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&qt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(qt,"$1"+i):!1!==e.jsonp&&(e.url+=(St.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||S.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=r[i],r[i]=function(){a=arguments},n.always(function(){void 0===o?S(r).removeProp(i):r[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,Wt.push(i)),a&&m(o)&&o(a[0]),a=o=void 0}),"script"}),v.createHTMLDocument=((zt=a.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===zt.childNodes.length),S.parseHTML=function(e,t,r){return"string"!=typeof e?[]:("boolean"==typeof t&&(r=t,t=!1),t||(v.createHTMLDocument?((n=(t=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,t.head.appendChild(n)):t=a),i=N.exec(e),o=!r&&[],i?[t.createElement(i[1])]:(i=Ce([e],t,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var n,i,o},S.fn.load=function(e,t,r){var n,i,o,a=this,s=e.indexOf(" ");return s>-1&&(n=gt(e.slice(s)),e=e.slice(0,s)),m(t)?(r=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&S.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(n?S("<div>").append(S.parseHTML(e)).find(n):e)}).always(r&&function(e,t){a.each(function(){r.apply(this,o||[e.responseText,t,e])})}),this},S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.expr.pseudos.animated=function(e){return S.grep(S.timers,function(t){return e===t.elem}).length},S.offset={setOffset:function(e,t,r){var n,i,o,a,s,u,l=S.css(e,"position"),c=S(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=S.css(e,"top"),u=S.css(e,"left"),("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1?(a=(n=c.position()).top,i=n.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,r,S.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},S.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){S.offset.setOffset(this,e,t)});var t,r,n=this[0];return n?n.getClientRects().length?(t=n.getBoundingClientRect(),r=n.ownerDocument.defaultView,{top:t.top+r.pageYOffset,left:t.left+r.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,r,n=this[0],i={top:0,left:0};if("fixed"===S.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),r=n.ownerDocument,e=n.offsetParent||r.documentElement;e&&(e===r.body||e===r.documentElement)&&"static"===S.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&((i=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),i.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-S.css(n,"marginTop",!0),left:t.left-i.left-S.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===S.css(e,"position");)e=e.offsetParent;return e||Ee})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var r="pageYOffset"===t;S.fn[e]=function(n){return W(this,function(e,n,i){var o;if(b(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[n];o?o.scrollTo(r?o.pageXOffset:i,r?i:o.pageYOffset):e[n]=i},e,n,arguments.length)}}),S.each(["top","left"],function(e,t){S.cssHooks[t]=ze(v.pixelPosition,function(e,r){if(r)return r=Ve(e,t),je.test(r)?S(e).position()[t]+"px":r})}),S.each({Height:"height",Width:"width"},function(e,t){S.each({padding:"inner"+e,content:t,"":"outer"+e},function(r,n){S.fn[n]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(!0===i||!0===o?"margin":"border");return W(this,function(t,r,i){var o;return b(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?S.css(t,r,s):S.style(t,r,i,s)},t,a?i:void 0,a)}})}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){S.fn[t]=function(e,r){return arguments.length>0?this.on(t,null,e,r):this.trigger(t)}}),S.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.fn.extend({bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,n){return this.on(t,e,r,n)},undelegate:function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)}}),S.proxy=function(e,t){var r,n,i;if("string"==typeof t&&(r=e[t],t=e,e=r),m(e))return n=u.call(arguments,2),(i=function(){return e.apply(t||this,n.concat(u.call(arguments)))}).guid=e.guid=e.guid||S.guid++,i},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=B,S.isFunction=m,S.isWindow=b,S.camelCase=X,S.type=E,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},void 0===(n=function(){return S}.apply(t,[]))||(e.exports=n);var Gt=r.jQuery,Yt=r.$;return S.noConflict=function(e){return r.$===S&&(r.$=Yt),e&&r.jQuery===S&&(r.jQuery=Gt),S},i||(r.jQuery=r.$=S),S})},function(e,t,r){(function(t){var r="__lodash_hash_undefined__",n="[object Function]",i="[object GeneratorFunction]",o=/^\[object .+?Constructor\]$/,a="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,u=a||s||Function("return this")();function l(e,t){return!(!e||!e.length)&&function(e,t,r){if(t!=t)return function(e,t,r,n){for(var i=e.length,o=-1;++o<i;)if(t(e[o],o,e))return o;return-1}(e,c);for(var n=-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}(e,t)>-1}function c(e){return e!=e}function f(e,t){return e.has(t)}function h(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var p,d=Array.prototype,g=Function.prototype,y=Object.prototype,v=u["__core-js_shared__"],m=(p=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||""))?"Symbol(src)_1."+p:"",b=g.toString,w=y.hasOwnProperty,C=y.toString,E=RegExp("^"+b.call(w).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),S=d.splice,T=O(u,"Map"),A=O(u,"Set"),_=O(Object,"create");function k(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function I(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function x(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function B(e){var t=-1,r=e?e.length:0;for(this.__data__=new x;++t<r;)this.add(e[t])}function N(e,t){for(var r,n,i=e.length;i--;)if((r=e[i][0])===(n=t)||r!=r&&n!=n)return i;return-1}k.prototype.clear=function(){this.__data__=_?_(null):{}},k.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},k.prototype.get=function(e){var t=this.__data__;if(_){var n=t[e];return n===r?void 0:n}return w.call(t,e)?t[e]:void 0},k.prototype.has=function(e){var t=this.__data__;return _?void 0!==t[e]:w.call(t,e)},k.prototype.set=function(e,t){return this.__data__[e]=_&&void 0===t?r:t,this},I.prototype.clear=function(){this.__data__=[]},I.prototype.delete=function(e){var t=this.__data__,r=N(t,e);return!(r<0||(r==t.length-1?t.pop():S.call(t,r,1),0))},I.prototype.get=function(e){var t=this.__data__,r=N(t,e);return r<0?void 0:t[r][1]},I.prototype.has=function(e){return N(this.__data__,e)>-1},I.prototype.set=function(e,t){var r=this.__data__,n=N(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},x.prototype.clear=function(){this.__data__={hash:new k,map:new(T||I),string:new k}},x.prototype.delete=function(e){return R(this,e).delete(e)},x.prototype.get=function(e){return R(this,e).get(e)},x.prototype.has=function(e){return R(this,e).has(e)},x.prototype.set=function(e,t){return R(this,e).set(e,t),this},B.prototype.add=B.prototype.push=function(e){return this.__data__.set(e,r),this},B.prototype.has=function(e){return this.__data__.has(e)};var L=A&&1/h(new A([,-0]))[1]==1/0?function(e){return new A(e)}:function(){};function R(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function O(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!P(e)||m&&m in e)&&(function(e){var t=P(e)?C.call(e):"";return t==n||t==i}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?E:o).test(function(e){if(null!=e){try{return b.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(r)?r:void 0}function P(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return e&&e.length?function(e,t,r){var n=-1,i=l,o=e.length,a=!0,s=[],u=s;if(o>=200){var c=L(e);if(c)return h(c);a=!1,i=f,u=new B}else u=s;e:for(;++n<o;){var p=e[n],d=p;if(p=0!==p?p:0,a&&d==d){for(var g=u.length;g--;)if(u[g]===d)continue e;s.push(p)}else i(u,d,r)||(u!==s&&u.push(d),s.push(p))}return s}(e):[]}}).call(this,r(6))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){(function(t,r){var n;n=function(){"use strict";function e(e){return"function"==typeof e}var n=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,o=void 0,a=void 0,s=function(e,t){d[i]=e,d[i+1]=t,2===(i+=2)&&(a?a(g):w())},u="undefined"!=typeof window?window:void 0,l=u||{},c=l.MutationObserver||l.WebKitMutationObserver,f="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var e=setTimeout;return function(){return e(g,1)}}var d=new Array(1e3);function g(){for(var e=0;e<i;e+=2)(0,d[e])(d[e+1]),d[e]=void 0,d[e+1]=void 0;i=0}var y,v,m,b,w=void 0;function C(e,t){var r=this,n=new this.constructor(T);void 0===n[S]&&M(n);var i=r._state;if(i){var o=arguments[i-1];s(function(){return F(i,n,o,r._result)})}else P(r,n,e,t);return n}function E(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(T);return N(t,e),t}f?w=function(){return t.nextTick(g)}:c?(v=0,m=new c(g),b=document.createTextNode(""),m.observe(b,{characterData:!0}),w=function(){b.data=v=++v%2}):h?((y=new MessageChannel).port1.onmessage=g,w=function(){return y.port2.postMessage(0)}):w=void 0===u?function(){try{var e=Function("return this")().require("vertx");return void 0!==(o=e.runOnLoop||e.runOnContext)?function(){o(g)}:p()}catch(e){return p()}}():p();var S=Math.random().toString(36).substring(2);function T(){}var A=void 0,_=1,k=2,I={error:null};function x(e){try{return e.then}catch(e){return I.error=e,I}}function B(t,r,n){r.constructor===t.constructor&&n===C&&r.constructor.resolve===E?function(e,t){t._state===_?R(e,t._result):t._state===k?O(e,t._result):P(t,void 0,function(t){return N(e,t)},function(t){return O(e,t)})}(t,r):n===I?(O(t,I.error),I.error=null):void 0===n?R(t,r):e(n)?function(e,t,r){s(function(e){var n=!1,i=function(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}(r,t,function(r){n||(n=!0,t!==r?N(e,r):R(e,r))},function(t){n||(n=!0,O(e,t))},e._label);!n&&i&&(n=!0,O(e,i))},e)}(t,r,n):R(t,r)}function N(e,t){var r,n;e===t?O(e,new TypeError("You cannot resolve a promise with itself")):(n=typeof(r=t),null===r||"object"!==n&&"function"!==n?R(e,t):B(e,t,x(t)))}function L(e){e._onerror&&e._onerror(e._result),D(e)}function R(e,t){e._state===A&&(e._result=t,e._state=_,0!==e._subscribers.length&&s(D,e))}function O(e,t){e._state===A&&(e._state=k,e._result=t,s(L,e))}function P(e,t,r,n){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+_]=r,i[o+k]=n,0===o&&e._state&&s(D,e)}function D(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n=void 0,i=void 0,o=e._result,a=0;a<t.length;a+=3)n=t[a],i=t[a+r],n?F(r,n,i,o):i(o);e._subscribers.length=0}}function F(t,r,n,i){var o=e(n),a=void 0,s=void 0,u=void 0,l=void 0;if(o){if((a=function(e,t){try{return e(t)}catch(e){return I.error=e,I}}(n,i))===I?(l=!0,s=a.error,a.error=null):u=!0,r===a)return void O(r,new TypeError("A promises callback cannot return that same promise."))}else a=i,u=!0;r._state!==A||(o&&u?N(r,a):l?O(r,s):t===_?R(r,a):t===k&&O(r,a))}var U=0;function M(e){e[S]=U++,e._state=void 0,e._result=void 0,e._subscribers=[]}var j=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(T),this.promise[S]||M(this.promise),n(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?R(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&R(this.promise,this._result))):O(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===A&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===E){var i=x(e);if(i===C&&e._state!==A)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(r===H){var o=new r(T);B(o,e,i),this._willSettleAt(o,t)}else this._willSettleAt(new r(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===A&&(this._remaining--,e===k?O(n,r):this._result[t]=r),0===this._remaining&&R(n,this._result)},e.prototype._willSettleAt=function(e,t){var r=this;P(e,void 0,function(e){return r._settledAt(_,t,e)},function(e){return r._settledAt(k,t,e)})},e}(),H=function(){function e(t){this[S]=U++,this._result=this._state=void 0,this._subscribers=[],T!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(e,t){try{t(function(t){N(e,t)},function(t){O(e,t)})}catch(t){O(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=this.constructor;return this.then(function(r){return t.resolve(e()).then(function(){return r})},function(r){return t.resolve(e()).then(function(){throw r})})},e}();return H.prototype.then=C,H.all=function(e){return new j(this,e).promise},H.race=function(e){var t=this;return n(e)?new t(function(r,n){for(var i=e.length,o=0;o<i;o++)t.resolve(e[o]).then(r,n)}):new t(function(e,t){return t(new TypeError("You must pass an array to race."))})},H.resolve=E,H.reject=function(e){var t=new this(T);return O(t,e),t},H._setScheduler=function(e){a=e},H._setAsap=function(e){s=e},H._asap=s,H.polyfill=function(){var e=void 0;if(void 0!==r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=H},H.Promise=H,H},e.exports=n()}).call(this,r(14),r(6))},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return new Promise(function(t,r){return function(e){return Promise.resolve(e)}(e).then(r,t)})};t.default=function(e){return n(Promise.all([].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e)).map(n)))}},function(e,t,r){e.exports=function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,r){"use strict";function n(e){var t=new v,r=function(e,t,r){h("listener called"),e.success=!0,t.forEach(function(t,n){r.clipboardData.setData(n,t),n===g&&r.clipboardData.getData(n)!=t&&(h("setting text/plain failed"),e.success=!1)}),r.preventDefault()}.bind(this,t,e);document.addEventListener("copy",r);try{document.execCommand("copy")}finally{document.removeEventListener("copy",r)}return t.success}function i(e,t){o(e);var r=n(t);return a(),r}function o(e){var t=document.getSelection(),r=document.createRange();r.selectNodeContents(e),t.removeAllRanges(),t.addRange(r)}function a(){document.getSelection().removeAllRanges()}function s(){return"undefined"==typeof ClipboardEvent&&void 0!==window.clipboardData&&void 0!==window.clipboardData.setData}function u(){return new f(function(e,t){var r=window.clipboardData.getData("Text");""===r?t(new Error("Empty clipboard or could not read plain text from clipboard")):e(r)})}Object.defineProperty(t,"__esModule",{value:!0});var l=r(1),c=r(5),f="undefined"==typeof Promise?l.Promise:Promise,h=function(e){},p=!0,d=function(){(console.warn||console.log).call(arguments)}.bind(console,"[clipboard-polyfill]"),g="text/plain",y=function(){function e(){}return e.setDebugLog=function(e){h=e},e.suppressWarnings=function(){p=!1,c.suppressDTWarnings()},e.write=function(e){return p&&!e.getData(g)&&d("clipboard.write() was called without a `text/plain` data type. On some platforms, this may result in an empty clipboard. Call clipboard.suppressWarnings() to suppress this warning."),new f(function(t,r){if(s())!function(e){var t=e.getData(g);if(void 0!==t)return window.clipboardData.setData("Text",t);throw"No `text/plain` value was specified."}(e)?r(new Error("Copying failed, possibly because the user rejected it.")):t();else{if(n(e))return h("regular execCopy worked"),void t();if(navigator.userAgent.indexOf("Edge")>-1)return h('UA "Edge" => assuming success'),void t();if(i(document.body,e))return h("copyUsingTempSelection worked"),void t();if(function(e){var t=document.createElement("div");t.setAttribute("style","-webkit-user-select: text !important"),t.textContent="temporary element",document.body.appendChild(t);var r=i(t,e);return document.body.removeChild(t),r}(e))return h("copyUsingTempElem worked"),void t();var u=e.getData(g);if(void 0!==u&&function(e){h("copyTextUsingDOM");var t=document.createElement("div");t.setAttribute("style","-webkit-user-select: text !important");var r=t;t.attachShadow&&(h("Using shadow DOM."),r=t.attachShadow({mode:"open"}));var n=document.createElement("span");n.innerText=e,r.appendChild(n),document.body.appendChild(t),o(n);var i=document.execCommand("copy");return a(),document.body.removeChild(t),i}(u))return h("copyTextUsingDOM worked"),void t();r(new Error("Copy command failed."))}})},e.writeText=function(e){if(navigator.clipboard&&navigator.clipboard.writeText)return navigator.clipboard.writeText(e);var t=new c.DT;return t.setData(g,e),this.write(t)},e.read=function(){return new f(function(e,t){s()?u().then(function(t){return e(function(e){var t=new c.DT;return t.setData(g,e),t}(t))},t):t("Read is not supported in your browser.")})},e.readText=function(){return navigator.clipboard&&navigator.clipboard.readText?navigator.clipboard.readText():s()?u():new f(function(e,t){t("Read is not supported in your browser.")})},e.DT=c.DT,e}();t.default=y;var v=function(){this.success=!1};e.exports=y},function(e,t,r){(function(t,n){!function(t,r){e.exports=r()}(0,function(){"use strict";function e(e){return"function"==typeof e}function i(){var e=setTimeout;return function(){return e(o,1)}}function o(){for(var e=0;e<S;e+=2)(0,L[e])(L[e+1]),L[e]=void 0,L[e+1]=void 0;S=0}function a(e,t){var r=arguments,n=this,i=new this.constructor(u);void 0===i[O]&&b(i);var o=n._state;return o?function(){var e=r[o-1];_(function(){return m(o,i,e,n._result)})}():g(n,i,e,t),i}function s(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(u);return f(t,e),t}function u(){}function l(e){try{return e.then}catch(e){return U.error=e,U}}function c(t,r,n){r.constructor===t.constructor&&n===a&&r.constructor.resolve===s?function(e,t){t._state===D?p(e,t._result):t._state===F?d(e,t._result):g(t,void 0,function(t){return f(e,t)},function(t){return d(e,t)})}(t,r):n===U?(d(t,U.error),U.error=null):void 0===n?p(t,r):e(n)?function(e,t,r){_(function(e){var n=!1,i=function(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}(r,t,function(r){n||(n=!0,t!==r?f(e,r):p(e,r))},function(t){n||(n=!0,d(e,t))},e._label);!n&&i&&(n=!0,d(e,i))},e)}(t,r,n):p(t,r)}function f(e,t){e===t?d(e,new TypeError("You cannot resolve a promise with itself")):function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}(t)?c(e,t,l(t)):p(e,t)}function h(e){e._onerror&&e._onerror(e._result),y(e)}function p(e,t){e._state===P&&(e._result=t,e._state=D,0!==e._subscribers.length&&_(y,e))}function d(e,t){e._state===P&&(e._state=F,e._result=t,_(h,e))}function g(e,t,r,n){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+D]=r,i[o+F]=n,0===o&&e._state&&_(y,e)}function y(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n=void 0,i=void 0,o=e._result,a=0;a<t.length;a+=3)n=t[a],i=t[a+r],n?m(r,n,i,o):i(o);e._subscribers.length=0}}function v(){this.error=null}function m(t,r,n,i){var o=e(n),a=void 0,s=void 0,u=void 0,l=void 0;if(o){if((a=function(e,t){try{return e(t)}catch(e){return M.error=e,M}}(n,i))===M?(l=!0,s=a.error,a.error=null):u=!0,r===a)return void d(r,new TypeError("A promises callback cannot return that same promise."))}else a=i,u=!0;r._state!==P||(o&&u?f(r,a):l?d(r,s):t===D?p(r,a):t===F&&d(r,a))}function b(e){e[O]=j++,e._state=void 0,e._result=void 0,e._subscribers=[]}function w(e,t){this._instanceConstructor=e,this.promise=new e(u),this.promise[O]||b(this.promise),E(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?p(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&p(this.promise,this._result))):d(this.promise,new Error("Array Methods must be provided an Array"))}function C(e){this[O]=j++,this._result=this._state=void 0,this._subscribers=[],u!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof C?function(e,t){try{t(function(t){f(e,t)},function(t){d(e,t)})}catch(t){d(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}var E=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},S=0,T=void 0,A=void 0,_=function(e,t){L[S]=e,L[S+1]=t,2===(S+=2)&&(A?A(o):R())},k="undefined"!=typeof window?window:void 0,I=k||{},x=I.MutationObserver||I.WebKitMutationObserver,B="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),N="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,L=new Array(1e3),R=void 0;R=B?function(){return t.nextTick(o)}:x?function(){var e=0,t=new x(o),r=document.createTextNode("");return t.observe(r,{characterData:!0}),function(){r.data=e=++e%2}}():N?function(){var e=new MessageChannel;return e.port1.onmessage=o,function(){return e.port2.postMessage(0)}}():void 0===k?function(){try{var e=r(4);return void 0!==(T=e.runOnLoop||e.runOnContext)?function(){T(o)}:i()}catch(e){return i()}}():i();var O=Math.random().toString(36).substring(16),P=void 0,D=1,F=2,U=new v,M=new v,j=0;return w.prototype._enumerate=function(e){for(var t=0;this._state===P&&t<e.length;t++)this._eachEntry(e[t],t)},w.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===s){var i=l(e);if(i===a&&e._state!==P)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(r===C){var o=new r(u);c(o,e,i),this._willSettleAt(o,t)}else this._willSettleAt(new r(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},w.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===P&&(this._remaining--,e===F?d(n,r):this._result[t]=r),0===this._remaining&&p(n,this._result)},w.prototype._willSettleAt=function(e,t){var r=this;g(e,void 0,function(e){return r._settledAt(D,t,e)},function(e){return r._settledAt(F,t,e)})},C.all=function(e){return new w(this,e).promise},C.race=function(e){var t=this;return new t(E(e)?function(r,n){for(var i=e.length,o=0;o<i;o++)t.resolve(e[o]).then(r,n)}:function(e,t){return t(new TypeError("You must pass an array to race."))})},C.resolve=s,C.reject=function(e){var t=new this(u);return d(t,e),t},C._setScheduler=function(e){A=e},C._setAsap=function(e){_=e},C._asap=_,C.prototype={constructor:C,then:a,catch:function(e){return this.then(null,e)}},C.polyfill=function(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=C},C.Promise=C,C})}).call(t,r(2),r(3))},function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(){d&&h&&(d=!1,h.length?p=h.concat(p):g=-1,p.length&&a())}function a(){if(!d){var e=i(o);d=!0;for(var t=p.length;t;){for(h=p,p=[];++g<t;)h&&h[g].run();g=-1,t=p.length}h=null,d=!1,function(e){if(c===clearTimeout)return clearTimeout(e);if((c===n||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}(e)}}function s(e,t){this.fun=e,this.array=t}function u(){}var l,c,f=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(e){l=r}try{c="function"==typeof clearTimeout?clearTimeout:n}catch(e){c=n}}();var h,p=[],d=!1,g=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];p.push(new s(e,t)),1!==p.length||d||i(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.prependListener=u,f.prependOnceListener=u,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["text/plain","text/html"],i=function(){(console.warn||console.log).call(arguments)}.bind(console,"[clipboard-polyfill]"),o=!0;t.suppressDTWarnings=function(){o=!1};var a=function(){function e(){this.m={}}return e.prototype.setData=function(e,t){o&&-1===n.indexOf(e)&&i("Unknown data type: "+e,"Call clipboard.suppressWarnings() to suppress this warning."),this.m[e]=t},e.prototype.getData=function(e){return this.m[e]},e.prototype.forEach=function(e){for(var t in this.m)e(this.m[t],t)},e}();t.DT=a}])},function(e,t,r){"use strict";r.r(t),r(183);var n=r(8);function i(e){if(!e)throw new Error("x5c claim not present?");e instanceof Array||(e=[e]);var t="";return e.forEach(function(e){t+="-----BEGIN CERTIFICATE-----\n",t+=e+"\n",t+="-----END CERTIFICATE-----\n"}),t}function o(e){return new Promise(function(t,r){e.x5c?t(i(e.x5c)):e.x5u?t(Object(n.c)(e.x5u).then(i)):r("x5c or x5u claims not available")})}function a(e,t){return Object(n.c)(t).then(function(r){if(!((r=JSON.parse(r))&&r.keys&&r.keys instanceof Array))throw new Error("Could not get JWK key set from URL: ".concat(t));for(var n=0;n<r.keys.length;++n){var i=r.keys[n];if(i.kid===e)return o(i)}throw new Error("Could not find key with kid ".concat(e," in URL: ").concat(t))})}var s,u=r(0),l=r(4),c={common:{shareThisJwt:"Share JWT",jwtIoUrlCopied:"Copied",claims:{exp:"Expiration time (seconds since Unix epoch)",nbf:"Not valid before (seconds since Unix epoch)",iat:"Issued at (seconds since Unix epoch)",iss:"Issuer (who created and signed this token)",sub:"Subject (whom the token refers to)",aud:"Audience (who or what the token is intended for)",jti:"JWT ID (unique identifier for this token)",typ:"Type of token",azp:"Authorized party (the party to which this token was issued)",alg:"Signature or encryption algorithm",jku:"JSON Web Key Set URL",jwk:"JSON Web Key Set (embedded)",kid:"Key ID",x5u:"X.509 Certificate URL",x5t:"X.509 Fingerprint (SHA-1)","x5t#S256":"X.509 Fingerprint (SHA-256)",cty:"Content type",crit:"Extensions or claims that MUST be processed or verified",enc:"Encryption algorithm",zip:"Compression algorithm",kty:"Key type",use:'Intended use of key: "sig" or "enc" (other values accepted)',key_ops:"Intended operations for this key",sid:"Session ID (String identifier for a Session)",updated_at:"Last modification timestamp",at_hash:"Access Token hash value",c_hash:"Authorization Code hash value",s_hash:"State hash value",nonce:"Unique value associating request to token",auth_time:"Time when authentication occurred",amr:"Authentication methods array",acr:"Authentication context class"}},extension:{alreadyInstalled:"Already installed",addToBrowser:"Add to Browser",noJwtsFound:"No JWTs found",saveBackTo:"Save back to "},editor:{signatureVerified:"signature verified",signatureInvalid:"invalid signature"}},f=r(47),h=r.n(f),p=["exp","nbf","iat","auth_time","updated_at"];function d(){s&&(s.destroy(),s=null)}function g(e,t,r){function n(){return e.title=t,h()(e,{placement:r,arrow:!0,performance:!0,size:"large",dynamicTitle:!0,arrowTransform:"scale(0.75)",distance:10,updateDuration:100,trigger:"manual"}),e._tippy}s?s.reference!==e||s.options.placement!==r?(s.destroy(),s=n()):s.popper.querySelector(".tippy-content").textContent!==t&&(s.popper.querySelector(".tippy-content").textContent=t):s=n(),s.state.visible||s.show()}function y(e){var t=e.currentTarget.querySelector(".CodeMirror").CodeMirror;if(t){var r=t.coordsChar({left:e.pageX,top:e.pageY},"page"),n=t.getLine(r.line),i=/"(.*)":\s*"?(.*)"?/.exec(n);if(i){var o=i[1],a="SPAN"===e.target.tagName?e.target:e.target.querySelector("span");if(a&&"SPAN"===a.tagName){var s=n.indexOf(":");if(r.ch>=s&&p.includes(o))g(a,function(e){try{return/\d+,?$/.test(e)?new Date(1e3*parseInt(e,10)).toString():new Date(e.replace(/[",]/g,"")).toString()}catch(e){return"Invalid date"}}(i[2]),"right");else{var u=c.common.claims[o];u?g(a,u,"left"):d()}}else d()}else d()}else d()}var v=r(32),m=r.n(v);m.a.defineMode("jwt",function(){function e(e,r){return e.eatWhile(/[^.]/),r.cur=t,"jwt-header"}function t(e,t){return e.next(),t.cur=r,"jwt-dot"}function r(e,t){return e.eatWhile(/[^.]/),t.cur=n,"jwt-payload"}function n(e,t){return e.next(),t.cur=i,"jwt-dot"}function i(e){return e.skipToEnd(),"jwt-signature"}return{token:function(e,t){return(0,t.cur)(e,t)},startState:function(){return{cur:e}}}});var b={mode:"application/json",lineWrapping:!0,extraKeys:{Tab:function(e){e.replaceSelection("   ","end")}},lint:!0,scrollbarStyle:"null"},w=Object.assign({},b,{mode:"jwt",theme:"night"}),C=new m.a(u.i,b),E=new m.a(u.l,b),S=new m.a(u.f,w);window.test||(window.test={}),window.test.headerEditor=C,window.test.payloadEditor=E,window.test.tokenEditor=S;var T=r(12);function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var _=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.events=[],this.callDepth=0}var t,r;return t=e,(r=[{key:"addEvent",value:function(e,t,r,n,i){this.events.push({target:e,enable:t,disable:r,event:n,handler:i}),e[t](n,i)}},{key:"addDomEvent",value:function(e,t,r){this.addEvent(e,"addEventListener","removeEventListener",t,r)}},{key:"addCodeMirrorEvent",value:function(e,t,r){this.addEvent(e,"on","off",t,r)}},{key:"withDisabledEvents",value:function(e){0===this.callDepth&&this.events.forEach(function(e){e.target[e.disable](e.event,e.handler)}),++this.callDepth;var t=function(e){var t={};try{t.result=e()}catch(e){t.exception=e}return t}(e);if(--this.callDepth,0===this.callDepth&&function(e){e.forEach(function(e){e.target[e.enable](e.event,e.handler)})}(this.events),t.exception)throw t.exception;return t.result}}])&&A(t.prototype,r),e}(),k="-----BEGIN RSA PRIVATE KEY-----\nMIICWwIBAAKBgQDdlatRjRjogo3WojgGHFHYLugdUWAY9iR3fy4arWNA1KoS8kVw\n33cJibXr8bvwUAUparCwlvdbH6dvEOfou0/gCFQsHUfQrSDv+MuSUMAe8jzKE4qW\n+jK+xQU9a03GUnKHkkle+Q0pX/g6jXZ7r1/xAK5Do2kQ+X5xK9cipRgEKwIDAQAB\nAoGAD+onAtVye4ic7VR7V50DF9bOnwRwNXrARcDhq9LWNRrRGElESYYTQ6EbatXS\n3MCyjjX2eMhu/aF5YhXBwkppwxg+EOmXeh+MzL7Zh284OuPbkglAaGhV9bb6/5Cp\nuGb1esyPbYW+Ty2PC0GSZfIXkXs76jXAu9TOBvD0ybc2YlkCQQDywg2R/7t3Q2OE\n2+yo382CLJdrlSLVROWKwb4tb2PjhY4XAwV8d1vy0RenxTB+K5Mu57uVSTHtrMK0\nGAtFr833AkEA6avx20OHo61Yela/4k5kQDtjEf1N0LfI+BcWZtxsS3jDM3i1Hp0K\nSu5rsCPb8acJo5RO26gGVrfAsDcIXKC+bQJAZZ2XIpsitLyPpuiMOvBbzPavd4gY\n6Z8KWrfYzJoI/Q9FuBo6rKwl4BFoToD7WIUS+hpkagwWiz+6zLoX1dbOZwJACmH5\nfSSjAkLRi54PKJ8TFUeOP15h9sQzydI8zJU+upvDEKZsZc/UhT/SySDOxQ4G/523\nY0sz/OZtSWcol/UMgQJALesy++GdvoIDLfJX5GBQpuFgFenRiRDabxrE9MNUZ2aP\nFaFp+DyAe+b4nDwuJaW2LURbr8AEZga7oQj0uYxcYw==\n-----END RSA PRIVATE KEY-----",I="-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDdlatRjRjogo3WojgGHFHYLugd\nUWAY9iR3fy4arWNA1KoS8kVw33cJibXr8bvwUAUparCwlvdbH6dvEOfou0/gCFQs\nHUfQrSDv+MuSUMAe8jzKE4qW+jK+xQU9a03GUnKHkkle+Q0pX/g6jXZ7r1/xAK5D\no2kQ+X5xK9cipRgEKwIDAQAB\n-----END PUBLIC KEY-----",x={hs256:{token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c",secret:"your-256-bit-secret"},hs384:{token:"eyJhbGciOiJIUzM4NCIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWUsImlhdCI6MTUxNjIzOTAyMn0.bQTnz6AuMJvmXXQsVPrxeQNvzDkimo7VNXxHeSBfClLufmCVZRUuyTwJF311JHuh",secret:"your-384-bit-secret"},hs512:{token:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWUsImlhdCI6MTUxNjIzOTAyMn0.VFb0qJ1LRg_4ujbZoRMXnVkUgiuKq5KxWqNdbKq_G9Vvz-S1zZa9LPxtHWKa64zDl2ofkT8F6jBt_K4riU-fPg",secret:"your-512-bit-secret"},rs256:{token:"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWUsImlhdCI6MTUxNjIzOTAyMn0.TCYt5XsITJX1CxPCT8yAV-TVkIEq_PbChOMqsLfRoPsnsgw5WEuts01mq-pQy7UJiN5mgRxD-WUcX16dUEMGlv50aqzpqh4Qktb3rk-BuQy72IFLOqV0G_zS245-kronKb78cPN25DGlcTwLtjPAYuNzVBAh4vGHSrQyHUdBBPM",privateKey:k,publicKey:I},rs384:{token:"eyJhbGciOiJSUzM4NCIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWUsImlhdCI6MTUxNjIzOTAyMn0.CN9hqUMdVb5LGo06Geb8ap1qYfbJ4rEZIMqTE9gxA2m6GGmsXkznRxzoFpAzQUey9q5HehRTk_-TxYydN3QtFPfrTbAHep7PLhp3XhdvTJ1ok__UBjv4aP6UWTF-Rflr3qeC18LdlM4nyKL7ZwSGDzytWihGod5vn4GAXErUUE4",privateKey:k,publicKey:I},rs512:{token:"eyJhbGciOiJSUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWUsImlhdCI6MTUxNjIzOTAyMn0.MejLezWY6hjGgbIXkq6Qbvx_-q5vWaTR6qPiNHphvla-XaZD3up1DN6Ib5AEOVtuB3fC9l-0L36noK4qQA79lhpSK3gozXO6XPIcCp4C8MU_ACzGtYe7IwGnnK3Emr6IHQE0bpGinHX1Ak1pAuwJNawaQ6Nvmz2ozZPsyxmiwoo",privateKey:k,publicKey:I},es256:{token:"eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWUsImlhdCI6MTUxNjIzOTAyMn0.tyh-VfuzIxCyGYDlkBA7DfyjrqmSHu6pQ2hoZuFqUSLPNY2N0mpHb3nk5K17HWP_3cYHBw7AhHale5wky6-sVA",privateKey:"-----BEGIN PRIVATE KEY-----\nMIGHAgEAMBMGByqGSM49AgEGCCqGSM49AwEHBG0wawIBAQQgevZzL1gdAFr88hb2\nOF/2NxApJCzGCEDdfSp6VQO30hyhRANCAAQRWz+jn65BtOMvdyHKcvjBeBSDZH2r\n1RTwjmYSi9R/zpBnuQ4EiMnCqfMPWiZqB4QdbAd0E7oH50VpuZ1P087G\n-----END PRIVATE KEY-----",publicKey:"-----BEGIN PUBLIC KEY-----\nMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEEVs/o5+uQbTjL3chynL4wXgUg2R9\nq9UU8I5mEovUf86QZ7kOBIjJwqnzD1omageEHWwHdBO6B+dFabmdT9POxg==\n-----END PUBLIC KEY-----"},es384:{token:"eyJhbGciOiJFUzM4NCIsInR5cCI6IkpXVCIsImtpZCI6ImlUcVhYSTB6YkFuSkNLRGFvYmZoa00xZi02ck1TcFRmeVpNUnBfMnRLSTgifQ.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWUsImlhdCI6MTUxNjIzOTAyMn0.cJOP_w-hBqnyTsBm3T6lOE5WpcHaAkLuQGAs1QO-lg2eWs8yyGW8p9WagGjxgvx7h9X72H7pXmXqej3GdlVbFmhuzj45A9SXDOAHZ7bJXwM1VidcPi7ZcrsMSCtP1hiN",privateKey:"-----BEGIN EC PRIVATE KEY-----\nMIGkAgEBBDCAHpFQ62QnGCEvYh/pE9QmR1C9aLcDItRbslbmhen/h1tt8AyMhske\nenT+rAyyPhGgBwYFK4EEACKhZANiAAQLW5ZJePZzMIPAxMtZXkEWbDF0zo9f2n4+\nT1h/2sh/fviblc/VTyrv10GEtIi5qiOy85Pf1RRw8lE5IPUWpgu553SteKigiKLU\nPeNpbqmYZUkWGh3MLfVzLmx85ii2vMU=\n-----END EC PRIVATE KEY-----",publicKey:"-----BEGIN PUBLIC KEY-----\nMHYwEAYHKoZIzj0CAQYFK4EEACIDYgAEC1uWSXj2czCDwMTLWV5BFmwxdM6PX9p+\nPk9Yf9rIf374m5XP1U8q79dBhLSIuaojsvOT39UUcPJROSD1FqYLued0rXiooIii\n1D3jaW6pmGVJFhodzC31cy5sfOYotrzF\n-----END PUBLIC KEY-----"},es512:{token:"eyJhbGciOiJFUzUxMiIsInR5cCI6IkpXVCIsImtpZCI6InhaRGZacHJ5NFA5dlpQWnlHMmZOQlJqLTdMejVvbVZkbTd0SG9DZ1NOZlkifQ.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWUsImlhdCI6MTUxNjIzOTAyMn0.AP_CIMClixc5-BFflmjyh_bRrkloEvwzn8IaWJFfMz13X76PGWF0XFuhjJUjp7EYnSAgtjJ-7iJG4IP7w3zGTBk_AUdmvRCiWp5YAe8S_Hcs8e3gkeYoOxiXFZlSSAx0GfwW1cZ0r67mwGtso1I3VXGkSjH5J0Rk6809bn25GoGRjOPu",privateKey:"-----BEGIN EC PRIVATE KEY-----\nMIHcAgEBBEIBiyAa7aRHFDCh2qga9sTUGINE5jHAFnmM8xWeT/uni5I4tNqhV5Xx\n0pDrmCV9mbroFtfEa0XVfKuMAxxfZ6LM/yKgBwYFK4EEACOhgYkDgYYABAGBzgdn\nP798FsLuWYTDDQA7c0r3BVk8NnRUSexpQUsRilPNv3SchO0lRw9Ru86x1khnVDx+\nduq4BiDFcvlSAcyjLACJvjvoyTLJiA+TQFdmrearjMiZNE25pT2yWP1NUndJxPcv\nVtfBW48kPOmvkY4WlqP5bAwCXwbsKrCgk6xbsp12ew==\n-----END EC PRIVATE KEY-----",publicKey:"-----BEGIN PUBLIC KEY-----\nMIGbMBAGByqGSM49AgEGBSuBBAAjA4GGAAQBgc4HZz+/fBbC7lmEww0AO3NK9wVZ\nPDZ0VEnsaUFLEYpTzb90nITtJUcPUbvOsdZIZ1Q8fnbquAYgxXL5UgHMoywAib47\n6MkyyYgPk0BXZq3mq4zImTRNuaU9slj9TVJ3ScT3L1bXwVuPJDzpr5GOFpaj+WwM\nAl8G7CqwoJOsW7Kddns=\n-----END PUBLIC KEY-----"},ps256:{token:"eyJhbGciOiJQUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWUsImlhdCI6MTUxNjIzOTAyMn0.P9_X1ctIxnnoUpKSWpYw3rF62e-d8LXe3sETuLn4Lhigw5OQhi-mBBKoBMneHy4kimS84zxnMby0FYo9wKM3I3pEg8Qrz0Q00tNhKCwOnZ7Q-e86sW1luK1z82tufF-sZ9_BY_LGQsym0lQmQaHFzLmEDXnOzWsjUThHGVJTI64",privateKey:k,publicKey:I},ps384:{token:"eyJhbGciOiJQUzM4NCIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWUsImlhdCI6MTUxNjIzOTAyMn0.oywIg-I6w59yw9jiPxewn5n2BhrD7hSifWSmzFKGBMPEMd0qweVNjlyxu2TodunPzlh49OW8QA0ygNRL9VQrWA3GXzb5FubNF4s7Y15QePx52anlvebzihx5-hR0UhKbVC0UODwYNMiY-v0L7iMbT9UvuSj0GAuZMxndo2Y2VFQ",privateKey:k,publicKey:I}},B=r(69),N=r(11),L=r.n(N),R=new _;function O(e){return e&&0===e.indexOf("HS")}function P(e){return e&&-1===e.indexOf("HS")}function D(){u.s.classList.remove("valid-token"),u.s.classList.add("invalid-token"),u.s.innerHTML='<i class="icon-budicon-501"></i> '.concat(c.editor.signatureInvalid)}function F(){var e=document.getElementsByClassName("error");Array.prototype.forEach.call(e,function(e){e.classList.remove("error")}),u.s.classList.remove("invalid-token"),u.s.classList.add("valid-token"),u.s.innerHTML='<i class="icon-budicon-499"></i> '.concat(c.editor.signatureVerified)}function U(e){var t=e.substr(0,2),r=e.substr(2,3);"HS"===t?(u.j.firstChild.textContent="HMACSHA".concat(r),u.q.style.display="",u.k.style.display="none"):(u.o.firstChild.textContent="".concat({RS:"RSASHA",PS:"RSAPSSSHA",ES:"ECDSASHA"}[t]).concat(r),u.q.style.display="none",u.k.style.display=""),Object(n.b)(l.b)}function M(e){R.withDisabledEvents(function(){var t=u.b.querySelector('option[value="'.concat(e,'"]'));t?(t.selected=!0,U(e)):L.a.info("Invalid algorithm ".concat(e,", ignoring..."))})}function j(e){R.withDisabledEvents(function(){var t=x[e.toLowerCase()],r=Object(T.a)(t.token);S.setValue(t.token),C.setValue(Object(l.e)(r.header)),E.setValue(Object(l.e)(r.payload)),O(e)?u.r.value=t.secret:(u.n.value=t.publicKey,u.m.value=t.privateKey),F()})}function H(e){R.withDisabledEvents(function(){try{var t=JSON.parse(C.getValue());t.alg=e,C.setValue(Object(l.e)(t))}catch(e){e instanceof SyntaxError||L.a.warn("Failed to encode token: ",e)}try{W()}catch(e){}})}function K(){var e=Object(l.c)();U(e),function(e){for(var t=Object.keys(x),r=0;r<t.length;r++){var n=t[r];if(x[n].token===e)return!0}return!1}(Object(l.d)(S))?j(e):H(e)}function V(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.classList.add("error"),D(),t&&R.withDisabledEvents(function(){S.setValue("")})}function z(){var e=Object(l.d)(S);e&&e.length>0&&Object(n.e)("lastToken",e);var t=u.n.value;t&&t.length>0&&Object(n.e)("lastPublicKey",t)}function W(){Object(n.b)(l.b),R.withDisabledEvents(function(){var e;try{e=JSON.parse(C.getValue())}catch(e){return void V(u.i,!0)}if(e.alg){var t;M(e.alg);try{t=JSON.parse(E.getValue())}catch(e){return void V(u.l,!0)}var r=O(e.alg)?u.r.value:u.m.value;Object(T.c)(e,t,r,u.p.checked).then(function(e){R.withDisabledEvents(function(){S.setValue(e),z()})}).catch(function(e){R.withDisabledEvents(function(){L.a.warn("Failed to sign/encode token: ",e),D(),S.setValue("")})}).finally(function(){G()})}else H(Object(l.c)())})}function q(){Object(n.b)(l.b),R.withDisabledEvents(function(){try{var e=Object(l.d)(S),t=Object(T.a)(e);M(t.header.alg),P(t.header.alg)&&(r=t,new Promise(function(e,t){var n=r.header,i=r.payload;if(n.alg&&0!==n.alg.indexOf("HS"))if(n.x5c||n.x5u)e(o(n));else if(n.jku)e(a(n.kid,n.jku));else if(n.jwk)e(o(n.jwk));else if(n.kid&&i.iss){var s=i.iss+".well-known/jwks.json";e(a(n.kid,s))}else t("No details about key");else t("Unsupported alg: ".concat(n.alg))})).then(function(e){R.withDisabledEvents(function(){u.n.value=e,G()})}),C.setValue(Object(l.e)(t.header)),E.setValue(Object(l.e)(t.payload)),t.errors?V(u.f,!1):(z(),G())}catch(e){L.a.warn("Failed to decode token: ",e)}var r})}function G(){var e=Object(l.d)(S),t=Object(T.a)(e);if(t.header.alg&&"none"!==t.header.alg){var r=O(t.header.alg)?u.r.value:u.n.value;Object(T.d)(e,r,u.p.checked).then(function(e){e?F():D()})}else D()}function Y(e){S.setValue(e)}function X(){return{token:Object(l.d)(S),publicKey:P(Object(l.c)())?u.n.value:void 0}}var Z,Q,J=document.querySelector(".jwt-clipboard-btn"),$=document.getElementById("share-this-jwt-text"),ee=document.querySelector('optgroup[label="Cookies"]'),te=document.querySelector('optgroup[label="Web Storage"]'),re=ee.parentElement,ne=document.querySelector(".save-back"),ie=document.getElementById("save-back-link");function oe(){[ee,te].forEach(function(e){if(e.querySelectorAll(":not(.load-from-no-jwts)").length>0){var t=e.querySelectorAll(".load-from-no-jwts");Array.prototype.forEach.call(t,function(e){return e.remove()})}else{var r=document.createElement("option");r.classList.add("load-from-no-jwts"),r.text=c.extension.noJwtsFound,r.disabled=!0,e.innerHTML="",e.appendChild(r)}})}function ae(e){if("cookies"===e.type||"storage"===e.type){var t=[];e.tokens.forEach(function(r){if(!Object(T.b)(r.value)){if("cookies"===e.type)return;try{if(r.value=JSON.parse(r.value),!Object(T.b)(r.value))return}catch(n){return}}var n=document.createElement("option");n.text=r.name,n.value=r.value,n.setAttribute("data-type",r.type),r.cookie&&n.setAttribute("data-cookie",JSON.stringify(r.cookie)),t.push(n)}),"cookies"===e.type?t.forEach(function(e){return ee.appendChild(e)}):t.forEach(function(e){return te.appendChild(e)}),oe()}}Object(l.a)(),R.addDomEvent(u.b,"change",K),R.addCodeMirrorEvent(S,"change",q),R.addCodeMirrorEvent(C,"change",W),R.addCodeMirrorEvent(E,"change",W),R.addDomEvent(u.r,"input",B.a),R.addDomEvent(u.r,"input",W),R.addDomEvent(u.p,"change",W),R.addDomEvent(u.m,"input",W),R.addDomEvent(u.n,"input",G),u.h.addEventListener("click",function(e){e.preventDefault(),u.e.parentNode.classList.remove("current"),u.h.parentNode.classList.add("current"),u.d.classList.remove("current"),u.g.classList.add("current")}),u.e.addEventListener("click",function(e){e.preventDefault(),u.h.parentNode.classList.remove("current"),u.e.parentNode.classList.add("current"),u.g.classList.remove("current"),u.d.classList.add("current")}),M("HS256"),function(){var e=localStorage.getItem("lastToken");if(e){Y(e);var t=localStorage.getItem("lastPublicKey");t&&(u.n.value=t)}else j("HS256")}(),Object(l.b)(),Object(B.b)(),u.l.addEventListener("mousemove",y),u.i.addEventListener("mousemove",y),(Z=function(){var e=document.createElement("textarea");document.body.appendChild(e),e.focus(),e.select(),document.execCommand("Paste");var t=e.value;return e.remove(),Object(T.b)(t)?t:null}())&&Y(Z),chrome.runtime.onMessage.addListener(ae),chrome.tabs.executeScript({file:"js/webstorage.js",runAt:"document_idle"}),chrome.tabs.query({active:!0,currentWindow:!0},function(e){chrome.cookies.getAll({url:e[0].url},function(e){ae({type:"cookies",tokens:e.map(function(e){return{name:e.name,value:e.value,type:"cookie",cookie:e}})})})}),oe(),ne.addEventListener("click",function(){var e=re.options[re.selectedIndex],t=e.getAttribute("data-type"),r=e.text,n=X().token;e.value=n,chrome.tabs.query({active:!0,currentWindow:!0},function(i){var o,a,s,u={type:t+"Save",name:r,value:n};"cookie"===t?(o=i[0].url,a=u,s=JSON.parse(e.getAttribute("data-cookie")),chrome.cookies.remove({url:o,name:s.name,storeId:s.storeId}),chrome.cookies.set({url:o,name:s.name,value:a.value,domain:s.domain,path:s.path,secure:s.secure,httpOnly:s.httpOnly,expirationDate:s.expirationDate,storeId:s.storeId})):chrome.tabs.sendMessage(i[0].id,u)})}),re.addEventListener("change",function(){var e=re.options[re.selectedIndex];if("0"!==e.getAttribute("name")){ne.classList.remove("hide");var t=e.parentElement.getAttribute("label").toLowerCase();e.text,Y(e.value),ie.firstChild.textContent=c.extension.saveBackTo+t}else ne.classList.add("hide")}),Q=$,J.addEventListener("click",function(e){e.preventDefault();var t=X();if(t.token){var r=Object(n.a)(t.token,t.publicKey);window.test||(window.test={}),window.test.shareJwtCopiedUrl=r}var i=Q.firstChild;i.textContent=c.common.jwtIoUrlCopied,setTimeout(function(){i.textContent=c.common.shareThisJwt},2e3)})},,,function(e,t,r){var n=r(2);r(72),r(71),r(3);var i="forge.task",o={},a=0;n.debug.set(i,"tasks",o);var s={};n.debug.set(i,"queues",s);var u="ready",l="running",c="blocked",f="sleeping",h="done",p="error",d={ready:{}};d.ready.stop=u,d.ready.start=l,d.ready.cancel=h,d.ready.fail=p,d.running={},d.running.stop=u,d.running.start=l,d.running.block=c,d.running.unblock=l,d.running.sleep=f,d.running.wakeup=l,d.running.cancel=h,d.running.fail=p,d.blocked={},d.blocked.stop=c,d.blocked.start=c,d.blocked.block=c,d.blocked.unblock=c,d.blocked.sleep=c,d.blocked.wakeup=c,d.blocked.cancel=h,d.blocked.fail=p,d.sleeping={},d.sleeping.stop=f,d.sleeping.start=f,d.sleeping.block=f,d.sleeping.unblock=f,d.sleeping.sleep=f,d.sleeping.wakeup=f,d.sleeping.cancel=h,d.sleeping.fail=p,d.done={},d.done.stop=h,d.done.start=h,d.done.block=h,d.done.unblock=h,d.done.sleep=h,d.done.wakeup=h,d.done.cancel=h,d.done.fail=p,d.error={},d.error.stop=p,d.error.start=p,d.error.block=p,d.error.unblock=p,d.error.sleep=p,d.error.wakeup=p,d.error.cancel=p,d.error.fail=p;var g=function(e){this.id=-1,this.name=e.name||"?",this.parent=e.parent||null,this.run=e.run,this.subtasks=[],this.error=!1,this.state=u,this.blocks=0,this.timeoutId=null,this.swapTime=null,this.userData=null,this.id=a++,o[this.id]=this};g.prototype.debug=function(e){e=e||"",n.log.debug(i,e,"[%s][%s] task:",this.id,this.name,this,"subtasks:",this.subtasks.length,"queue:",s)},g.prototype.next=function(e,t){"function"==typeof e&&(t=e,e=this.name);var r=new g({run:t,name:e,parent:this});return r.state=l,r.type=this.type,r.successCallback=this.successCallback||null,r.failureCallback=this.failureCallback||null,this.subtasks.push(r),this},g.prototype.parallel=function(e,t){return n.util.isArray(e)&&(t=e,e=this.name),this.next(e,function(r){var i=r;i.block(t.length);for(var o=function(e,r){n.task.start({type:e,run:function(e){t[r](e)},success:function(e){i.unblock()},failure:function(e){i.unblock()}})},a=0;a<t.length;a++)o(e+"__parallel-"+r.id+"-"+a,a)})},g.prototype.stop=function(){this.state=d[this.state].stop},g.prototype.start=function(){this.error=!1,this.state=d[this.state].start,this.state===l&&(this.start=new Date,this.run(this),y(this,0))},g.prototype.block=function(e){e=void 0===e?1:e,this.blocks+=e,this.blocks>0&&(this.state=d[this.state].block)},g.prototype.unblock=function(e){return e=void 0===e?1:e,this.blocks-=e,0===this.blocks&&this.state!==h&&(this.state=l,y(this,0)),this.blocks},g.prototype.sleep=function(e){e=void 0===e?0:e,this.state=d[this.state].sleep;var t=this;this.timeoutId=setTimeout(function(){t.timeoutId=null,t.state=l,y(t,0)},e)},g.prototype.wait=function(e){e.wait(this)},g.prototype.wakeup=function(){this.state===f&&(cancelTimeout(this.timeoutId),this.timeoutId=null,this.state=l,y(this,0))},g.prototype.cancel=function(){this.state=d[this.state].cancel,this.permitsNeeded=0,null!==this.timeoutId&&(cancelTimeout(this.timeoutId),this.timeoutId=null),this.subtasks=[]},g.prototype.fail=function(e){if(this.error=!0,v(this,!0),e)e.error=this.error,e.swapTime=this.swapTime,e.userData=this.userData,y(e,0);else{if(null!==this.parent){for(var t=this.parent;null!==t.parent;)t.error=this.error,t.swapTime=this.swapTime,t.userData=this.userData,t=t.parent;v(t,!0)}this.failureCallback&&this.failureCallback(this)}};var y=function(e,t){var r=t>30||+new Date-e.swapTime>20,n=function(t){if(t++,e.state===l)if(r&&(e.swapTime=+new Date),e.subtasks.length>0){var n=e.subtasks.shift();n.error=e.error,n.swapTime=e.swapTime,n.userData=e.userData,n.run(n),n.error||y(n,t)}else v(e),e.error||null!==e.parent&&(e.parent.error=e.error,e.parent.swapTime=e.swapTime,e.parent.userData=e.userData,y(e.parent,t))};r?setTimeout(n,0):n(t)},v=function(e,t){e.state=h,delete o[e.id],null===e.parent&&(e.type in s?0===s[e.type].length?n.log.error(i,"[%s][%s] task queue empty [%s]",e.id,e.name,e.type):s[e.type][0]!==e?n.log.error(i,"[%s][%s] task not first in queue [%s]",e.id,e.name,e.type):(s[e.type].shift(),0===s[e.type].length?delete s[e.type]:s[e.type][0].start()):n.log.error(i,"[%s][%s] task queue missing [%s]",e.id,e.name,e.type),t||(e.error&&e.failureCallback?e.failureCallback(e):!e.error&&e.successCallback&&e.successCallback(e)))};e.exports=n.task=n.task||{},n.task.start=function(e){var t=new g({run:e.run,name:e.name||"?"});t.type=e.type,t.successCallback=e.success||null,t.failureCallback=e.failure||null,t.type in s?s[e.type].push(t):(s[t.type]=[t],function(e){e.error=!1,e.state=d[e.state].start,setTimeout(function(){e.state===l&&(e.swapTime=+new Date,e.run(e),y(e,0))},0)}(t))},n.task.cancel=function(e){e in s&&(s[e]=[s[e][0]])},n.task.createCondition=function(){var e={tasks:{},wait:function(t){t.id in e.tasks||(t.block(),e.tasks[t.id]=t)},notify:function(){var t=e.tasks;for(var r in e.tasks={},t)t[r].unblock()}};return e}},function(e,t,r){var n=r(2);r(18),r(27),r(48),r(26),r(3);var i=e.exports=n.ssh=n.ssh||{};function o(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var i=n.util.hexToBytes(r);e.putInt32(i.length),e.putBytes(i)}function a(e,t){e.putInt32(t.length),e.putString(t)}function s(){for(var e=n.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}i.privateKeyToPutty=function(e,t,r){r=r||"";var i=""===(t=t||"")?"none":"aes256-cbc",u="PuTTY-User-Key-File-2: ssh-rsa\r\n";u+="Encryption: "+i+"\r\n",u+="Comment: "+r+"\r\n";var l=n.util.createBuffer();a(l,"ssh-rsa"),o(l,e.e),o(l,e.n);var c=n.util.encode64(l.bytes(),64),f=Math.floor(c.length/66)+1;u+="Public-Lines: "+f+"\r\n",u+=c;var h,p=n.util.createBuffer();if(o(p,e.d),o(p,e.p),o(p,e.q),o(p,e.qInv),t){var d=p.length()+16-1;d-=d%16;var g=s(p.bytes());g.truncate(g.length()-d+p.length()),p.putBuffer(g);var y=n.util.createBuffer();y.putBuffer(s("\0\0\0\0",t)),y.putBuffer(s("\0\0\0",t));var v=n.aes.createEncryptionCipher(y.truncate(8),"CBC");v.start(n.util.createBuffer().fillWithByte(0,16)),v.update(p.copy()),v.finish();var m=v.output;m.truncate(16),h=n.util.encode64(m.bytes(),64)}else h=n.util.encode64(p.bytes(),64);u+="\r\nPrivate-Lines: "+(f=Math.floor(h.length/66)+1)+"\r\n",u+=h;var b=s("putty-private-key-file-mac-key",t),w=n.util.createBuffer();a(w,"ssh-rsa"),a(w,i),a(w,r),w.putInt32(l.length()),w.putBuffer(l),w.putInt32(p.length()),w.putBuffer(p);var C=n.hmac.create();return C.start("sha1",b),C.update(w.bytes()),u+"\r\nPrivate-MAC: "+C.digest().toHex()+"\r\n"},i.publicKeyToOpenSSH=function(e,t){t=t||"";var r=n.util.createBuffer();return a(r,"ssh-rsa"),o(r,e.e),o(r,e.n),"ssh-rsa "+n.util.encode64(r.bytes())+" "+t},i.privateKeyToOpenSSH=function(e,t){return t?n.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):n.pki.privateKeyToPem(e)},i.getPublicKeyFingerprint=function(e,t){var r=(t=t||{}).md||n.md.md5.create(),i=n.util.createBuffer();a(i,"ssh-rsa"),o(i,e.e),o(i,e.n),r.start(),r.update(i.getBytes());var s=r.digest();if("hex"===t.encoding){var u=s.toHex();return t.delimiter?u.match(/.{2}/g).join(t.delimiter):u}if("binary"===t.encoding)return s.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".');return s}},function(e,t,r){e.exports=r(16),r(48),r(26),r(64),r(59)},function(e,t,r){var n=r(2);r(3),r(9),r(41),e.exports=n.kem=n.kem||{};var i=n.jsbn.BigInteger;function o(e,t,r,i){e.generate=function(e,o){for(var a=new n.util.ByteBuffer,s=Math.ceil(o/i)+r,u=new n.util.ByteBuffer,l=r;l<s;++l){u.putInt32(l),t.start(),t.update(e+u.getBytes());var c=t.digest();a.putBytes(c.getBytes(i))}return a.truncate(a.length()-o),a.getBytes()}}n.kem.rsa={},n.kem.rsa.create=function(e,t){var r=(t=t||{}).prng||n.random;return{encrypt:function(t,o){var a,s=Math.ceil(t.n.bitLength()/8);do{a=new i(n.util.bytesToHex(r.getBytesSync(s)),16).mod(t.n)}while(a.equals(i.ZERO));var u=s-(a=n.util.hexToBytes(a.toString(16))).length;return u>0&&(a=n.util.fillString(String.fromCharCode(0),u)+a),{encapsulation:t.encrypt(a,"NONE"),key:e.generate(a,o)}},decrypt:function(t,r,n){var i=t.decrypt(r,"NONE");return e.generate(i,n)}}},n.kem.kdf1=function(e,t){o(this,e,0,t||e.digestLength)},n.kem.kdf2=function(e,t){o(this,e,1,t||e.digestLength)}},function(e,t,r){(function(t){var n=r(2);if(r(41),r(9),r(59),r(3),void 0===i)var i=n.jsbn.BigInteger;var o=n.util.ByteBuffer,a=void 0===t?Uint8Array:t;n.pki=n.pki||{},e.exports=n.pki.ed25519=n.ed25519=n.ed25519||{};var s=n.ed25519;function u(e){var r=e.message;if(r instanceof Uint8Array)return r;var n=e.encoding;if(void 0===r){if(!e.md)throw new TypeError('"options.message" or "options.md" not specified.');r=e.md.digest().getBytes(),n="binary"}if("string"==typeof r&&!n)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if("string"==typeof r){if(void 0!==t)return new t(r,n);r=new o(r,n)}else if(!(r instanceof o))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var i=new a(r.length()),s=0;s<i.length;++s)i[s]=r.at(s);return i}s.constants={},s.constants.PUBLIC_KEY_BYTE_LENGTH=32,s.constants.PRIVATE_KEY_BYTE_LENGTH=64,s.constants.SEED_BYTE_LENGTH=32,s.constants.SIGN_BYTE_LENGTH=64,s.constants.HASH_BYTE_LENGTH=64,s.generateKeyPair=function(e){var t=(e=e||{}).seed;if(void 0===t)t=n.random.getBytesSync(s.constants.SEED_BYTE_LENGTH);else if("string"==typeof t){if(t.length!==s.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+s.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=u({message:t,encoding:"binary"});for(var r=new a(s.constants.PUBLIC_KEY_BYTE_LENGTH),i=new a(s.constants.PRIVATE_KEY_BYTE_LENGTH),o=0;o<32;++o)i[o]=t[o];return function(e,t){var r,n=[L(),L(),L(),L()],i=v(t,32);for(i[0]&=248,i[31]&=127,i[31]|=64,I(n,i),E(e,n),r=0;r<32;++r)t[r+32]=e[r]}(r,i),{publicKey:r,privateKey:i}},s.publicKeyFromPrivateKey=function(e){var t=u({message:(e=e||{}).privateKey,encoding:"binary"});if(t.length!==s.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+s.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new a(s.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r},s.sign=function(e){var t=u(e=e||{}),r=u({message:e.privateKey,encoding:"binary"});if(r.length!==s.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+s.constants.PRIVATE_KEY_BYTE_LENGTH);var n=new a(s.constants.SIGN_BYTE_LENGTH+t.length);!function(e,t,r,n){var i,o,a=new Float64Array(64),s=[L(),L(),L(),L()],u=v(n,32);u[0]&=248,u[31]&=127,u[31]|=64;for(i=0;i<r;++i)e[64+i]=t[i];for(i=0;i<32;++i)e[32+i]=u[32+i];var l=v(e.subarray(32),r+32);for(b(l),I(s,l),E(e,s),i=32;i<64;++i)e[i]=n[i];var c=v(e,r+64);for(b(c),i=32;i<64;++i)a[i]=0;for(i=0;i<32;++i)a[i]=l[i];for(i=0;i<32;++i)for(o=0;o<32;o++)a[i+o]+=c[i]*u[o];m(e.subarray(32),a)}(n,t,t.length,r);for(var i=new a(s.constants.SIGN_BYTE_LENGTH),o=0;o<i.length;++o)i[o]=n[o];return i},s.verify=function(e){var t=u(e=e||{});if(void 0===e.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=u({message:e.signature,encoding:"binary"});if(r.length!==s.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+s.constants.SIGN_BYTE_LENGTH);var n=u({message:e.publicKey,encoding:"binary"});if(n.length!==s.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+s.constants.PUBLIC_KEY_BYTE_LENGTH);var i,o=new a(s.constants.SIGN_BYTE_LENGTH+t.length),h=new a(s.constants.SIGN_BYTE_LENGTH+t.length);for(i=0;i<s.constants.SIGN_BYTE_LENGTH;++i)o[i]=r[i];for(i=0;i<t.length;++i)o[i+s.constants.SIGN_BYTE_LENGTH]=t[i];return function(e,t,r,n){var i,o=new a(32),s=[L(),L(),L(),L()],u=[L(),L(),L(),L()];if(r<64)return-1;if(function(e,t){var r=L(),n=L(),i=L(),o=L(),a=L(),s=L(),u=L();return x(e[2],c),function(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(e[1],t),P(i,e[1]),D(o,i,f),O(i,i,e[2]),R(o,e[2],o),P(a,o),P(s,a),D(u,s,a),D(r,u,i),D(r,r,o),function(e,t){var r,n=L();for(r=0;r<16;++r)n[r]=t[r];for(r=250;r>=0;--r)P(n,n),1!==r&&D(n,n,t);for(r=0;r<16;++r)e[r]=n[r]}(r,r),D(r,r,i),D(r,r,o),D(r,r,o),D(e[0],r,o),P(n,e[0]),D(n,n,o),T(n,i)&&D(e[0],e[0],y),P(n,e[0]),D(n,n,o),T(n,i)?-1:(_(e[0])===t[31]>>7&&O(e[0],l,e[0]),D(e[3],e[0],e[1]),0)}(u,n))return-1;for(i=0;i<r;++i)e[i]=t[i];for(i=0;i<32;++i)e[i+32]=n[i];var h=v(e,r);if(b(h),k(s,u,h),I(u,t.subarray(32)),w(s,u),E(o,s),r-=64,A(t,0,o,0)){for(i=0;i<r;++i)e[i]=0;return-1}for(i=0;i<r;++i)e[i]=t[i+64];return r}(h,o,o.length,n)>=0};var l=L(),c=L([1]),f=L([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h=L([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),p=L([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=L([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),g=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),y=L([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function v(e,r){var i=n.md.sha512.create(),u=new o(e);i.update(u.getBytes(r),"binary");var l=i.digest().getBytes();if(void 0!==t)return new t(l,"binary");for(var c=new a(s.constants.HASH_BYTE_LENGTH),f=0;f<64;++f)c[f]=l.charCodeAt(f);return c}function m(e,t){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)t[i]+=r-16*t[n]*g[i-(n-32)],r=t[i]+128>>8,t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;++i)t[i]+=r-(t[31]>>4)*g[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;++i)t[i]-=r*g[i];for(n=0;n<32;++n)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function b(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;m(e,t)}function w(e,t){var r=L(),n=L(),i=L(),o=L(),a=L(),s=L(),u=L(),l=L(),c=L();O(r,e[1],e[0]),O(c,t[1],t[0]),D(r,r,c),R(n,e[0],e[1]),R(c,t[0],t[1]),D(n,n,c),D(i,e[3],t[3]),D(i,i,h),D(o,e[2],t[2]),R(o,o,o),O(a,n,r),O(s,o,i),R(u,o,i),R(l,n,r),D(e[0],a,s),D(e[1],l,u),D(e[2],u,s),D(e[3],a,l)}function C(e,t,r){for(var n=0;n<4;++n)N(e[n],t[n],r)}function E(e,t){var r=L(),n=L(),i=L();!function(e,t){var r,n=L();for(r=0;r<16;++r)n[r]=t[r];for(r=253;r>=0;--r)P(n,n),2!==r&&4!==r&&D(n,n,t);for(r=0;r<16;++r)e[r]=n[r]}(i,t[2]),D(r,t[0],i),D(n,t[1],i),S(e,n),e[31]^=_(r)<<7}function S(e,t){var r,n,i,o=L(),a=L();for(r=0;r<16;++r)a[r]=t[r];for(B(a),B(a),B(a),n=0;n<2;++n){for(o[0]=a[0]-65517,r=1;r<15;++r)o[r]=a[r]-65535-(o[r-1]>>16&1),o[r-1]&=65535;o[15]=a[15]-32767-(o[14]>>16&1),i=o[15]>>16&1,o[14]&=65535,N(a,o,1-i)}for(r=0;r<16;r++)e[2*r]=255&a[r],e[2*r+1]=a[r]>>8}function T(e,t){var r=new a(32),n=new a(32);return S(r,e),S(n,t),A(r,0,n,0)}function A(e,t,r,n){return function(e,t,r,n,i){var o,a=0;for(o=0;o<32;++o)a|=e[t+o]^r[n+o];return(1&a-1>>>8)-1}(e,t,r,n)}function _(e){var t=new a(32);return S(t,e),1&t[0]}function k(e,t,r){var n,i;for(x(e[0],l),x(e[1],c),x(e[2],c),x(e[3],l),i=255;i>=0;--i)C(e,t,n=r[i/8|0]>>(7&i)&1),w(t,e),w(e,e),C(e,t,n)}function I(e,t){var r=[L(),L(),L(),L()];x(r[0],p),x(r[1],d),x(r[2],c),D(r[3],p,d),k(e,r,t)}function x(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function B(e){var t,r,n=1;for(t=0;t<16;++t)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function N(e,t,r){for(var n,i=~(r-1),o=0;o<16;++o)n=i&(e[o]^t[o]),e[o]^=n,t[o]^=n}function L(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}function R(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}function O(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}function P(e,t){D(e,t,t)}function D(e,t,r){var n,i,o=0,a=0,s=0,u=0,l=0,c=0,f=0,h=0,p=0,d=0,g=0,y=0,v=0,m=0,b=0,w=0,C=0,E=0,S=0,T=0,A=0,_=0,k=0,I=0,x=0,B=0,N=0,L=0,R=0,O=0,P=0,D=r[0],F=r[1],U=r[2],M=r[3],j=r[4],H=r[5],K=r[6],V=r[7],z=r[8],W=r[9],q=r[10],G=r[11],Y=r[12],X=r[13],Z=r[14],Q=r[15];o+=(n=t[0])*D,a+=n*F,s+=n*U,u+=n*M,l+=n*j,c+=n*H,f+=n*K,h+=n*V,p+=n*z,d+=n*W,g+=n*q,y+=n*G,v+=n*Y,m+=n*X,b+=n*Z,w+=n*Q,a+=(n=t[1])*D,s+=n*F,u+=n*U,l+=n*M,c+=n*j,f+=n*H,h+=n*K,p+=n*V,d+=n*z,g+=n*W,y+=n*q,v+=n*G,m+=n*Y,b+=n*X,w+=n*Z,C+=n*Q,s+=(n=t[2])*D,u+=n*F,l+=n*U,c+=n*M,f+=n*j,h+=n*H,p+=n*K,d+=n*V,g+=n*z,y+=n*W,v+=n*q,m+=n*G,b+=n*Y,w+=n*X,C+=n*Z,E+=n*Q,u+=(n=t[3])*D,l+=n*F,c+=n*U,f+=n*M,h+=n*j,p+=n*H,d+=n*K,g+=n*V,y+=n*z,v+=n*W,m+=n*q,b+=n*G,w+=n*Y,C+=n*X,E+=n*Z,S+=n*Q,l+=(n=t[4])*D,c+=n*F,f+=n*U,h+=n*M,p+=n*j,d+=n*H,g+=n*K,y+=n*V,v+=n*z,m+=n*W,b+=n*q,w+=n*G,C+=n*Y,E+=n*X,S+=n*Z,T+=n*Q,c+=(n=t[5])*D,f+=n*F,h+=n*U,p+=n*M,d+=n*j,g+=n*H,y+=n*K,v+=n*V,m+=n*z,b+=n*W,w+=n*q,C+=n*G,E+=n*Y,S+=n*X,T+=n*Z,A+=n*Q,f+=(n=t[6])*D,h+=n*F,p+=n*U,d+=n*M,g+=n*j,y+=n*H,v+=n*K,m+=n*V,b+=n*z,w+=n*W,C+=n*q,E+=n*G,S+=n*Y,T+=n*X,A+=n*Z,_+=n*Q,h+=(n=t[7])*D,p+=n*F,d+=n*U,g+=n*M,y+=n*j,v+=n*H,m+=n*K,b+=n*V,w+=n*z,C+=n*W,E+=n*q,S+=n*G,T+=n*Y,A+=n*X,_+=n*Z,k+=n*Q,p+=(n=t[8])*D,d+=n*F,g+=n*U,y+=n*M,v+=n*j,m+=n*H,b+=n*K,w+=n*V,C+=n*z,E+=n*W,S+=n*q,T+=n*G,A+=n*Y,_+=n*X,k+=n*Z,I+=n*Q,d+=(n=t[9])*D,g+=n*F,y+=n*U,v+=n*M,m+=n*j,b+=n*H,w+=n*K,C+=n*V,E+=n*z,S+=n*W,T+=n*q,A+=n*G,_+=n*Y,k+=n*X,I+=n*Z,x+=n*Q,g+=(n=t[10])*D,y+=n*F,v+=n*U,m+=n*M,b+=n*j,w+=n*H,C+=n*K,E+=n*V,S+=n*z,T+=n*W,A+=n*q,_+=n*G,k+=n*Y,I+=n*X,x+=n*Z,B+=n*Q,y+=(n=t[11])*D,v+=n*F,m+=n*U,b+=n*M,w+=n*j,C+=n*H,E+=n*K,S+=n*V,T+=n*z,A+=n*W,_+=n*q,k+=n*G,I+=n*Y,x+=n*X,B+=n*Z,N+=n*Q,v+=(n=t[12])*D,m+=n*F,b+=n*U,w+=n*M,C+=n*j,E+=n*H,S+=n*K,T+=n*V,A+=n*z,_+=n*W,k+=n*q,I+=n*G,x+=n*Y,B+=n*X,N+=n*Z,L+=n*Q,m+=(n=t[13])*D,b+=n*F,w+=n*U,C+=n*M,E+=n*j,S+=n*H,T+=n*K,A+=n*V,_+=n*z,k+=n*W,I+=n*q,x+=n*G,B+=n*Y,N+=n*X,L+=n*Z,R+=n*Q,b+=(n=t[14])*D,w+=n*F,C+=n*U,E+=n*M,S+=n*j,T+=n*H,A+=n*K,_+=n*V,k+=n*z,I+=n*W,x+=n*q,B+=n*G,N+=n*Y,L+=n*X,R+=n*Z,O+=n*Q,w+=(n=t[15])*D,a+=38*(E+=n*U),s+=38*(S+=n*M),u+=38*(T+=n*j),l+=38*(A+=n*H),c+=38*(_+=n*K),f+=38*(k+=n*V),h+=38*(I+=n*z),p+=38*(x+=n*W),d+=38*(B+=n*q),g+=38*(N+=n*G),y+=38*(L+=n*Y),v+=38*(R+=n*X),m+=38*(O+=n*Z),b+=38*(P+=n*Q),o=(n=(o+=38*(C+=n*F))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),o+=i-1+37*(i-1),e[0]=o,e[1]=a,e[2]=s,e[3]=u,e[4]=l,e[5]=c,e[6]=f,e[7]=h,e[8]=p,e[9]=d,e[10]=g,e[11]=y,e[12]=v,e[13]=m,e[14]=b,e[15]=w}}).call(this,r(1).Buffer)},function(e,t,r){var n=r(2);r(18),r(73);var i=e.exports=n.tls;function o(e,t,r){var o=t.entity===n.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:n.cipher.createDecipher("AES-CBC",o?r.keys.server_write_key:r.keys.client_write_key),iv:o?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:n.cipher.createCipher("AES-CBC",o?r.keys.client_write_key:r.keys.server_write_key),iv:o?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=l,e.write.cipherFunction=a,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=i.hmac_sha1}function a(e,t){var r,o=!1,a=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(a),t.updateSequenceNumber(),r=e.version.minor===i.Versions.TLS_1_0.minor?t.cipherState.init?null:t.cipherState.iv:n.random.getBytesSync(16),t.cipherState.init=!0;var u=t.cipherState.cipher;return u.start({iv:r}),e.version.minor>=i.Versions.TLS_1_1.minor&&u.output.putBytes(r),u.update(e.fragment),u.finish(s)&&(e.fragment=u.output,e.length=e.fragment.length(),o=!0),o}function s(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}function u(e,t,r){var n=!0;if(r){for(var i=t.length(),o=t.last(),a=i-1-o;a<i-1;++a)n=n&&t.at(a)==o;n&&t.truncate(o+1)}return n}function l(e,t){var r,o=!1;r=e.version.minor===i.Versions.TLS_1_0.minor?t.cipherState.init?null:t.cipherState.iv:e.fragment.getBytes(16),t.cipherState.init=!0;var a=t.cipherState.cipher;a.start({iv:r}),a.update(e.fragment),o=a.finish(u);var s=t.macLength,l=n.random.getBytesSync(s),c=a.output.length();c>=s?(e.fragment=a.output.getBytes(c-s),l=a.output.getBytes(s)):e.fragment=a.output.getBytes(),e.fragment=n.util.createBuffer(e.fragment),e.length=e.fragment.length();var f=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),function(e,t,r){var i=n.hmac.create();return i.start("SHA1",e),i.update(t),t=i.digest().getBytes(),i.start(null,null),i.update(r),t===(r=i.digest().getBytes())}(t.macKey,l,f)&&o}i.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=i.BulkCipherAlgorithm.aes,e.cipher_type=i.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=i.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:o},i.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=i.BulkCipherAlgorithm.aes,e.cipher_type=i.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=i.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:o}},function(e,t,r){"use strict";var n=r(19),i={JWE:r(52),JWS:r(68),util:r(7)};e.exports=function(e){var t,r,o;if("signatures"in e||"signature"in e)t="JWS",r=function(t,r){return i.JWS.createVerify(t).verify(e,r)},o=(o=e.signatures||[{protected:e.protected,header:e.header,signature:e.signature}]).map(function(e){var t,r={};return e.header&&(r=n(r,e.header)),e.protected&&(t=e.protected,t=i.util.base64url.decode(t,"utf8"),t=JSON.parse(t),r=n(r,t)),r});else if("ciphertext"in e){t="JWE",r=function(t,r){return i.JWE.createDecrypt(t).decrypt(e,r)};var a={};e.protected&&(a.protected=e.protected,a.protected=i.util.base64url.decode(a.protected,"utf8"),a.protected=JSON.parse(a.protected)),e.unprotected&&(a.unprotected=e.unprotected),o=(o=e.recipients||[{}]).map(function(e){var t={};return e.header&&(t=n(t,e.header)),a.unprotected&&(t=n(t,a.unprotected)),a.protected&&(t=n(t,a.protected)),t})}return{type:t,format:"json",input:e,all:o,perform:r}}},function(e,t,r){"use strict";var n={JWE:r(52),JWS:r(68),util:r(7)};e.exports=function(e){var t,r,i,o=e.split(".");if(3===o.length)t="JWS",r=function(t,r){return n.JWS.createVerify(t).verify(e,r)};else{if(5!==o.length)throw new TypeError("invalid jose serialization");t="JWE",r=function(t,r){return n.JWE.createDecrypt(t).decrypt(e,r)}}return i=n.util.base64url.decode(o[0],"utf8"),i=JSON.parse(i),{type:t,format:"compact",input:e,header:i,perform:r}}},function(e,t,r){"use strict";(function(t){var n=r(121),i=r(120),o=e.exports=function(e){if(t.isBuffer(e))return n(e.toString("ascii"));if("string"==typeof e)return n(e);if(e)return i(e);throw new TypeError("invalid input")};o.compact=n,o.json=i}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){var n=r(40),i=r(85),o=r(25),a=r(19),s=r(83),u={algorithms:"*"};function l(e,r){var l,c;if(o.isKey(e))c=(l=e).keystore;else{if(!o.isKeyStore(e))throw new TypeError("Keystore must be provided");c=e}r=a(u,r),Object.defineProperty(this,"decrypt",{value:function(e,u){var f=(u=a({},r,u||{})).handlers||{},h=Object.keys(f),p=new i(u.algorithms);if("string"==typeof e)e={protected:(e=e.split("."))[0],recipients:[{encrypted_key:e[1]}],iv:e[2],ciphertext:e[3],tag:e[4]};else if(!e||"object"!=typeof e)throw new Error("invalid input");"encrypted_key"in e&&(e.recipients=[{encrypted_key:e.encrypted_key}]);var d,g,y,v,m,b=e.recipients||[{}];return Promise.resolve(b).then(function(t){if(e.protected){g=n.decode(e.protected).toString("utf8");var r=(g=JSON.parse(g)).crit;if(r){if(!Array.isArray(r))return Promise.reject(new Error("Invalid 'crit' header"));for(var i=0;r.length>i;i++)if(-1===h.indexOf(r[i]))return Promise.reject(new Error("Critical extension is not supported: "+r[i]))}d=g,g=Object.keys(g)}else d={},g=[];return d=a(e.unprotected||{},d),t=t.map(function(e){var t=Promise.resolve(),r=e.header||{};return r=a(r,d),e.header=r,e.protected=g,p.match(r.alg)||(t=t.then(function(){return Promise.reject(new Error("Algorithm not allowed: "+r.alg))})),p.match(r.enc)||(t=t.then(function(){return Promise.reject(new Error("Algorithm not allowed: "+r.enc))})),r.epk&&(t=(t=t.then(function(){return o.asKey(r.epk)})).then(function(e){r.epk=e.toObject(!1)})),t.then(function(){return e})}),Promise.all(t)}).then(function(e){var t={};return new Promise(function(r,i){var a=function(){var s=e.shift();if(s){var u=Promise.resolve(s);(u=(u=u.then(function(e){var t=m=e.encrypted_key||"";return t=n.decode(t),(y=l||c.get({use:"enc",alg:e.header.alg,kid:e.header.kid}))?y.unwrap(e.header.alg,t,e.header):Promise.reject()})).then(function(e){v={kty:"oct",k:n.encode(e)},v=o.asKey(v),t.key=y,t.header=s.header,t.protected=s.protected,r(t)})).catch(a)}else i(new Error("no key found"))};a()})}).then(function(t){return t.iv=e.iv,t.tag=e.tag,t.ciphertext=e.ciphertext,t}).then(function(e){var t=[];return h.forEach(function(r){var n;"function"==typeof(r=f[r])?n=r(e):"object"==typeof r&&"function"==typeof r.prepare&&(n=r.prepare(e)),n&&t.push(Promise.resolve(n))}),Promise.all(t).then(function(){return e})}).then(function(e){return t.isBuffer(e.ciphertext)||(e.ciphertext=n.decode(e.ciphertext)),e}).then(function(t){var r=e.protected;"aad"in e&&null!=e.aad&&(r+="."+e.aad);var n={iv:t.iv,adata:r,tag:t.tag,kdata:m,epu:t.epu,epv:t.epv},i=t.ciphertext;return delete t.iv,delete t.tag,delete t.ciphertext,v.then(function(e){return e.decrypt(t.header.enc,i,n).then(function(e){return t.payload=t.plaintext=e,t})})}).then(function(e){return"DEF"===e.header.zip?new Promise(function(r,n){s.inflateRaw(t.from(e.plaintext),function(t,i){t?n(t):(e.payload=e.plaintext=i,r(e))})}):e}).then(function(e){var t=[];return h.forEach(function(r){var n;"object"==typeof(r=f[r])&&"function"==typeof r.complete&&(n=r.complete(e)),n&&t.push(Promise.resolve(n))}),Promise.all(t).then(function(){return e})})}})}e.exports={decrypter:l,createDecrypt:function(e,t){return new l(e,t)}}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";e.exports={zip:!1,format:"general",contentAlg:"A128CBC-HS256",protect:"*"}},function(e,t,r){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,r){"use strict";var n=r(33),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,r,u,l,c,f,h){var p,d,g,y,v,m,b,w,C,E=h.bits,S=0,T=0,A=0,_=0,k=0,I=0,x=0,B=0,N=0,L=0,R=null,O=0,P=new n.Buf16(16),D=new n.Buf16(16),F=null,U=0;for(S=0;S<=15;S++)P[S]=0;for(T=0;T<u;T++)P[t[r+T]]++;for(k=E,_=15;_>=1&&0===P[_];_--);if(k>_&&(k=_),0===_)return l[c++]=20971520,l[c++]=20971520,h.bits=1,0;for(A=1;A<_&&0===P[A];A++);for(k<A&&(k=A),B=1,S=1;S<=15;S++)if(B<<=1,(B-=P[S])<0)return-1;if(B>0&&(0===e||1!==_))return-1;for(D[1]=0,S=1;S<15;S++)D[S+1]=D[S]+P[S];for(T=0;T<u;T++)0!==t[r+T]&&(f[D[t[r+T]]++]=T);if(0===e?(R=F=f,m=19):1===e?(R=i,O-=257,F=o,U-=257,m=256):(R=a,F=s,m=-1),L=0,T=0,S=A,v=c,I=k,x=0,g=-1,y=(N=1<<k)-1,1===e&&N>852||2===e&&N>592)return 1;for(;;){b=S-x,f[T]<m?(w=0,C=f[T]):f[T]>m?(w=F[U+f[T]],C=R[O+f[T]]):(w=96,C=0),p=1<<S-x,A=d=1<<I;do{l[v+(L>>x)+(d-=p)]=b<<24|w<<16|C|0}while(0!==d);for(p=1<<S-1;L&p;)p>>=1;if(0!==p?(L&=p-1,L+=p):L=0,T++,0==--P[S]){if(S===_)break;S=t[r+f[T]]}if(S>k&&(L&y)!==g){for(0===x&&(x=k),v+=A,B=1<<(I=S-x);I+x<_&&!((B-=P[I+x])<=0);)I++,B<<=1;if(N+=1<<I,1===e&&N>852||2===e&&N>592)return 1;l[g=L&y]=k<<24|I<<16|v-c|0}}return 0!==L&&(l[v+L]=S-x<<24|64<<16|0),h.bits=k,0}},function(e,t,r){"use strict";e.exports=function(e,t){var r,n,i,o,a,s,u,l,c,f,h,p,d,g,y,v,m,b,w,C,E,S,T,A,_;r=e.state,n=e.next_in,A=e.input,i=n+(e.avail_in-5),o=e.next_out,_=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),u=r.dmax,l=r.wsize,c=r.whave,f=r.wnext,h=r.window,p=r.hold,d=r.bits,g=r.lencode,y=r.distcode,v=(1<<r.lenbits)-1,m=(1<<r.distbits)-1;e:do{d<15&&(p+=A[n++]<<d,d+=8,p+=A[n++]<<d,d+=8),b=g[p&v];t:for(;;){if(p>>>=w=b>>>24,d-=w,0==(w=b>>>16&255))_[o++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=g[(65535&b)+(p&(1<<w)-1)];continue t}if(32&w){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}C=65535&b,(w&=15)&&(d<w&&(p+=A[n++]<<d,d+=8),C+=p&(1<<w)-1,p>>>=w,d-=w),d<15&&(p+=A[n++]<<d,d+=8,p+=A[n++]<<d,d+=8),b=y[p&m];r:for(;;){if(p>>>=w=b>>>24,d-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=y[(65535&b)+(p&(1<<w)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(E=65535&b,d<(w&=15)&&(p+=A[n++]<<d,(d+=8)<w&&(p+=A[n++]<<d,d+=8)),(E+=p&(1<<w)-1)>u){e.msg="invalid distance too far back",r.mode=30;break e}if(p>>>=w,d-=w,E>(w=o-a)){if((w=E-w)>c&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(S=0,T=h,0===f){if(S+=l-w,w<C){C-=w;do{_[o++]=h[S++]}while(--w);S=o-E,T=_}}else if(f<w){if(S+=l+f-w,(w-=f)<C){C-=w;do{_[o++]=h[S++]}while(--w);if(S=0,f<C){C-=w=f;do{_[o++]=h[S++]}while(--w);S=o-E,T=_}}}else if(S+=f-w,w<C){C-=w;do{_[o++]=h[S++]}while(--w);S=o-E,T=_}for(;C>2;)_[o++]=T[S++],_[o++]=T[S++],_[o++]=T[S++],C-=3;C&&(_[o++]=T[S++],C>1&&(_[o++]=T[S++]))}else{S=o-E;do{_[o++]=_[S++],_[o++]=_[S++],_[o++]=_[S++],C-=3}while(C>2);C&&(_[o++]=_[S++],C>1&&(_[o++]=_[S++]))}break}}break}}while(n<i&&o<s);n-=C=d>>3,p&=(1<<(d-=C<<3))-1,e.next_in=n,e.next_out=o,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=o<s?s-o+257:257-(o-s),r.hold=p,r.bits=d}},function(e,t,r){"use strict";var n=r(33),i=r(75),o=r(74),a=r(127),s=r(126),u=1,l=2,c=0,f=-2,h=1,p=12,d=30,g=852,y=592;function v(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function m(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=h,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(g),t.distcode=t.distdyn=new n.Buf32(y),t.sane=1,t.back=-1,c):f}function b(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,m(e)):f}function w(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?f:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,b(e))):f}function C(e,t){var r,i;return e?(i=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},e.state=i,i.window=null,(r=w(e,t))!==c&&(e.state=null),r):f}var E,S,T=!0;function A(e){if(T){var t;for(E=new n.Buf32(512),S=new n.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(u,e.lens,0,288,E,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(l,e.lens,0,32,S,0,e.work,{bits:5}),T=!1}e.lencode=E,e.lenbits=9,e.distcode=S,e.distbits=5}function _(e,t,r,i){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new n.Buf8(a.wsize)),i>=a.wsize?(n.arraySet(a.window,t,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>i&&(o=i),n.arraySet(a.window,t,r-i,o,a.wnext),(i-=o)?(n.arraySet(a.window,t,r-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}t.inflateReset=b,t.inflateReset2=w,t.inflateResetKeep=m,t.inflateInit=function(e){return C(e,15)},t.inflateInit2=C,t.inflate=function(e,t){var r,g,y,m,b,w,C,E,S,T,k,I,x,B,N,L,R,O,P,D,F,U,M,j,H=0,K=new n.Buf8(4),V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return f;(r=e.state).mode===p&&(r.mode=13),b=e.next_out,y=e.output,C=e.avail_out,m=e.next_in,g=e.input,w=e.avail_in,E=r.hold,S=r.bits,T=w,k=C,U=c;e:for(;;)switch(r.mode){case h:if(0===r.wrap){r.mode=13;break}for(;S<16;){if(0===w)break e;w--,E+=g[m++]<<S,S+=8}if(2&r.wrap&&35615===E){r.check=0,K[0]=255&E,K[1]=E>>>8&255,r.check=o(r.check,K,2,0),E=0,S=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&E)<<8)+(E>>8))%31){e.msg="incorrect header check",r.mode=d;break}if(8!=(15&E)){e.msg="unknown compression method",r.mode=d;break}if(S-=4,F=8+(15&(E>>>=4)),0===r.wbits)r.wbits=F;else if(F>r.wbits){e.msg="invalid window size",r.mode=d;break}r.dmax=1<<F,e.adler=r.check=1,r.mode=512&E?10:p,E=0,S=0;break;case 2:for(;S<16;){if(0===w)break e;w--,E+=g[m++]<<S,S+=8}if(r.flags=E,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=d;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=d;break}r.head&&(r.head.text=E>>8&1),512&r.flags&&(K[0]=255&E,K[1]=E>>>8&255,r.check=o(r.check,K,2,0)),E=0,S=0,r.mode=3;case 3:for(;S<32;){if(0===w)break e;w--,E+=g[m++]<<S,S+=8}r.head&&(r.head.time=E),512&r.flags&&(K[0]=255&E,K[1]=E>>>8&255,K[2]=E>>>16&255,K[3]=E>>>24&255,r.check=o(r.check,K,4,0)),E=0,S=0,r.mode=4;case 4:for(;S<16;){if(0===w)break e;w--,E+=g[m++]<<S,S+=8}r.head&&(r.head.xflags=255&E,r.head.os=E>>8),512&r.flags&&(K[0]=255&E,K[1]=E>>>8&255,r.check=o(r.check,K,2,0)),E=0,S=0,r.mode=5;case 5:if(1024&r.flags){for(;S<16;){if(0===w)break e;w--,E+=g[m++]<<S,S+=8}r.length=E,r.head&&(r.head.extra_len=E),512&r.flags&&(K[0]=255&E,K[1]=E>>>8&255,r.check=o(r.check,K,2,0)),E=0,S=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((I=r.length)>w&&(I=w),I&&(r.head&&(F=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,g,m,I,F)),512&r.flags&&(r.check=o(r.check,g,I,m)),w-=I,m+=I,r.length-=I),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===w)break e;I=0;do{F=g[m+I++],r.head&&F&&r.length<65536&&(r.head.name+=String.fromCharCode(F))}while(F&&I<w);if(512&r.flags&&(r.check=o(r.check,g,I,m)),w-=I,m+=I,F)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===w)break e;I=0;do{F=g[m+I++],r.head&&F&&r.length<65536&&(r.head.comment+=String.fromCharCode(F))}while(F&&I<w);if(512&r.flags&&(r.check=o(r.check,g,I,m)),w-=I,m+=I,F)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;S<16;){if(0===w)break e;w--,E+=g[m++]<<S,S+=8}if(E!==(65535&r.check)){e.msg="header crc mismatch",r.mode=d;break}E=0,S=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=p;break;case 10:for(;S<32;){if(0===w)break e;w--,E+=g[m++]<<S,S+=8}e.adler=r.check=v(E),E=0,S=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=b,e.avail_out=C,e.next_in=m,e.avail_in=w,r.hold=E,r.bits=S,2;e.adler=r.check=1,r.mode=p;case p:if(5===t||6===t)break e;case 13:if(r.last){E>>>=7&S,S-=7&S,r.mode=27;break}for(;S<3;){if(0===w)break e;w--,E+=g[m++]<<S,S+=8}switch(r.last=1&E,S-=1,3&(E>>>=1)){case 0:r.mode=14;break;case 1:if(A(r),r.mode=20,6===t){E>>>=2,S-=2;break e}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=d}E>>>=2,S-=2;break;case 14:for(E>>>=7&S,S-=7&S;S<32;){if(0===w)break e;w--,E+=g[m++]<<S,S+=8}if((65535&E)!=(E>>>16^65535)){e.msg="invalid stored block lengths",r.mode=d;break}if(r.length=65535&E,E=0,S=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(I=r.length){if(I>w&&(I=w),I>C&&(I=C),0===I)break e;n.arraySet(y,g,m,I,b),w-=I,m+=I,C-=I,b+=I,r.length-=I;break}r.mode=p;break;case 17:for(;S<14;){if(0===w)break e;w--,E+=g[m++]<<S,S+=8}if(r.nlen=257+(31&E),E>>>=5,S-=5,r.ndist=1+(31&E),E>>>=5,S-=5,r.ncode=4+(15&E),E>>>=4,S-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=d;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;S<3;){if(0===w)break e;w--,E+=g[m++]<<S,S+=8}r.lens[V[r.have++]]=7&E,E>>>=3,S-=3}for(;r.have<19;)r.lens[V[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,M={bits:r.lenbits},U=s(0,r.lens,0,19,r.lencode,0,r.work,M),r.lenbits=M.bits,U){e.msg="invalid code lengths set",r.mode=d;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;L=(H=r.lencode[E&(1<<r.lenbits)-1])>>>16&255,R=65535&H,!((N=H>>>24)<=S);){if(0===w)break e;w--,E+=g[m++]<<S,S+=8}if(R<16)E>>>=N,S-=N,r.lens[r.have++]=R;else{if(16===R){for(j=N+2;S<j;){if(0===w)break e;w--,E+=g[m++]<<S,S+=8}if(E>>>=N,S-=N,0===r.have){e.msg="invalid bit length repeat",r.mode=d;break}F=r.lens[r.have-1],I=3+(3&E),E>>>=2,S-=2}else if(17===R){for(j=N+3;S<j;){if(0===w)break e;w--,E+=g[m++]<<S,S+=8}S-=N,F=0,I=3+(7&(E>>>=N)),E>>>=3,S-=3}else{for(j=N+7;S<j;){if(0===w)break e;w--,E+=g[m++]<<S,S+=8}S-=N,F=0,I=11+(127&(E>>>=N)),E>>>=7,S-=7}if(r.have+I>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=d;break}for(;I--;)r.lens[r.have++]=F}}if(r.mode===d)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=d;break}if(r.lenbits=9,M={bits:r.lenbits},U=s(u,r.lens,0,r.nlen,r.lencode,0,r.work,M),r.lenbits=M.bits,U){e.msg="invalid literal/lengths set",r.mode=d;break}if(r.distbits=6,r.distcode=r.distdyn,M={bits:r.distbits},U=s(l,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,M),r.distbits=M.bits,U){e.msg="invalid distances set",r.mode=d;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(w>=6&&C>=258){e.next_out=b,e.avail_out=C,e.next_in=m,e.avail_in=w,r.hold=E,r.bits=S,a(e,k),b=e.next_out,y=e.output,C=e.avail_out,m=e.next_in,g=e.input,w=e.avail_in,E=r.hold,S=r.bits,r.mode===p&&(r.back=-1);break}for(r.back=0;L=(H=r.lencode[E&(1<<r.lenbits)-1])>>>16&255,R=65535&H,!((N=H>>>24)<=S);){if(0===w)break e;w--,E+=g[m++]<<S,S+=8}if(L&&0==(240&L)){for(O=N,P=L,D=R;L=(H=r.lencode[D+((E&(1<<O+P)-1)>>O)])>>>16&255,R=65535&H,!(O+(N=H>>>24)<=S);){if(0===w)break e;w--,E+=g[m++]<<S,S+=8}E>>>=O,S-=O,r.back+=O}if(E>>>=N,S-=N,r.back+=N,r.length=R,0===L){r.mode=26;break}if(32&L){r.back=-1,r.mode=p;break}if(64&L){e.msg="invalid literal/length code",r.mode=d;break}r.extra=15&L,r.mode=22;case 22:if(r.extra){for(j=r.extra;S<j;){if(0===w)break e;w--,E+=g[m++]<<S,S+=8}r.length+=E&(1<<r.extra)-1,E>>>=r.extra,S-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;L=(H=r.distcode[E&(1<<r.distbits)-1])>>>16&255,R=65535&H,!((N=H>>>24)<=S);){if(0===w)break e;w--,E+=g[m++]<<S,S+=8}if(0==(240&L)){for(O=N,P=L,D=R;L=(H=r.distcode[D+((E&(1<<O+P)-1)>>O)])>>>16&255,R=65535&H,!(O+(N=H>>>24)<=S);){if(0===w)break e;w--,E+=g[m++]<<S,S+=8}E>>>=O,S-=O,r.back+=O}if(E>>>=N,S-=N,r.back+=N,64&L){e.msg="invalid distance code",r.mode=d;break}r.offset=R,r.extra=15&L,r.mode=24;case 24:if(r.extra){for(j=r.extra;S<j;){if(0===w)break e;w--,E+=g[m++]<<S,S+=8}r.offset+=E&(1<<r.extra)-1,E>>>=r.extra,S-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=d;break}r.mode=25;case 25:if(0===C)break e;if(I=k-C,r.offset>I){if((I=r.offset-I)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=d;break}I>r.wnext?(I-=r.wnext,x=r.wsize-I):x=r.wnext-I,I>r.length&&(I=r.length),B=r.window}else B=y,x=b-r.offset,I=r.length;I>C&&(I=C),C-=I,r.length-=I;do{y[b++]=B[x++]}while(--I);0===r.length&&(r.mode=21);break;case 26:if(0===C)break e;y[b++]=r.length,C--,r.mode=21;break;case 27:if(r.wrap){for(;S<32;){if(0===w)break e;w--,E|=g[m++]<<S,S+=8}if(k-=C,e.total_out+=k,r.total+=k,k&&(e.adler=r.check=r.flags?o(r.check,y,k,b-k):i(r.check,y,k,b-k)),k=C,(r.flags?E:v(E))!==r.check){e.msg="incorrect data check",r.mode=d;break}E=0,S=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;S<32;){if(0===w)break e;w--,E+=g[m++]<<S,S+=8}if(E!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=d;break}E=0,S=0}r.mode=29;case 29:U=1;break e;case d:U=-3;break e;case 31:return-4;case 32:default:return f}return e.next_out=b,e.avail_out=C,e.next_in=m,e.avail_in=w,r.hold=E,r.bits=S,(r.wsize||k!==e.avail_out&&r.mode<d&&(r.mode<27||4!==t))&&_(e,e.output,e.next_out,k-e.avail_out)?(r.mode=31,-4):(T-=e.avail_in,k-=e.avail_out,e.total_in+=T,e.total_out+=k,r.total+=k,r.wrap&&k&&(e.adler=r.check=r.flags?o(r.check,y,k,e.next_out-k):i(r.check,y,k,e.next_out-k)),e.data_type=r.bits+(r.last?64:0)+(r.mode===p?128:0)+(20===r.mode||15===r.mode?256:0),(0===T&&0===k||4===t)&&U===c&&(U=-5),U)},t.inflateEnd=function(e){if(!e||!e.state)return f;var t=e.state;return t.window&&(t.window=null),e.state=null,c},t.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?f:(r.head=t,t.done=!1,c):f},t.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?f:11===r.mode&&i(1,t,n,0)!==r.check?-3:_(e,t,n,n)?(r.mode=31,-4):(r.havedict=1,c):f},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,r){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,r){"use strict";var n=r(33);function i(e){for(var t=e.length;--t>=0;)e[t]=0}var o=0,a=256,s=a+1+29,u=30,l=19,c=2*s+1,f=15,h=16,p=256,d=16,g=17,y=18,v=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],m=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],w=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],C=new Array(2*(s+2));i(C);var E=new Array(2*u);i(E);var S=new Array(512);i(S);var T=new Array(256);i(T);var A=new Array(29);i(A);var _,k,I,x=new Array(u);function B(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function N(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function L(e){return e<256?S[e]:S[256+(e>>>7)]}function R(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function O(e,t,r){e.bi_valid>h-r?(e.bi_buf|=t<<e.bi_valid&65535,R(e,e.bi_buf),e.bi_buf=t>>h-e.bi_valid,e.bi_valid+=r-h):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function P(e,t,r){O(e,r[2*t],r[2*t+1])}function D(e,t){var r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1}function F(e,t,r){var n,i,o=new Array(f+1),a=0;for(n=1;n<=f;n++)o[n]=a=a+r[n-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=D(o[s]++,s))}}function U(e){var t;for(t=0;t<s;t++)e.dyn_ltree[2*t]=0;for(t=0;t<u;t++)e.dyn_dtree[2*t]=0;for(t=0;t<l;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*p]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function M(e){e.bi_valid>8?R(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function j(e,t,r,n){var i=2*t,o=2*r;return e[i]<e[o]||e[i]===e[o]&&n[t]<=n[r]}function H(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&j(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!j(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function K(e,t,r){var n,i,o,s,u=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],i=e.pending_buf[e.l_buf+u],u++,0===n?P(e,i,t):(P(e,(o=T[i])+a+1,t),0!==(s=v[o])&&O(e,i-=A[o],s),P(e,o=L(--n),r),0!==(s=m[o])&&O(e,n-=x[o],s))}while(u<e.last_lit);P(e,p,t)}function V(e,t){var r,n,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=c,r=0;r<u;r++)0!==o[2*r]?(e.heap[++e.heap_len]=l=r,e.depth[r]=0):o[2*r+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=l,r=e.heap_len>>1;r>=1;r--)H(e,o,r);i=u;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],H(e,o,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,o[2*i]=o[2*r]+o[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,o[2*r+1]=o[2*n+1]=i,e.heap[1]=i++,H(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,o,a,s,u=t.dyn_tree,l=t.max_code,h=t.stat_desc.static_tree,p=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,g=t.stat_desc.extra_base,y=t.stat_desc.max_length,v=0;for(o=0;o<=f;o++)e.bl_count[o]=0;for(u[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<c;r++)(o=u[2*u[2*(n=e.heap[r])+1]+1]+1)>y&&(o=y,v++),u[2*n+1]=o,n>l||(e.bl_count[o]++,a=0,n>=g&&(a=d[n-g]),s=u[2*n],e.opt_len+=s*(o+a),p&&(e.static_len+=s*(h[2*n+1]+a)));if(0!==v){do{for(o=y-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[y]--,v-=2}while(v>0);for(o=y;0!==o;o--)for(n=e.bl_count[o];0!==n;)(i=e.heap[--r])>l||(u[2*i+1]!==o&&(e.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),n--)}}(e,t),F(o,l,e.bl_count)}function z(e,t,r){var n,i,o=-1,a=t[1],s=0,u=7,l=4;for(0===a&&(u=138,l=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=a,a=t[2*(n+1)+1],++s<u&&i===a||(s<l?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[2*d]++):s<=10?e.bl_tree[2*g]++:e.bl_tree[2*y]++,s=0,o=i,0===a?(u=138,l=3):i===a?(u=6,l=3):(u=7,l=4))}function W(e,t,r){var n,i,o=-1,a=t[1],s=0,u=7,l=4;for(0===a&&(u=138,l=3),n=0;n<=r;n++)if(i=a,a=t[2*(n+1)+1],!(++s<u&&i===a)){if(s<l)do{P(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(P(e,i,e.bl_tree),s--),P(e,d,e.bl_tree),O(e,s-3,2)):s<=10?(P(e,g,e.bl_tree),O(e,s-3,3)):(P(e,y,e.bl_tree),O(e,s-11,7));s=0,o=i,0===a?(u=138,l=3):i===a?(u=6,l=3):(u=7,l=4)}}i(x);var q=!1;function G(e,t,r,i){O(e,(o<<1)+(i?1:0),3),function(e,t,r,i){M(e),R(e,r),R(e,~r),n.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r)}t._tr_init=function(e){q||(function(){var e,t,r,n,i,o=new Array(f+1);for(r=0,n=0;n<28;n++)for(A[n]=r,e=0;e<1<<v[n];e++)T[r++]=n;for(T[r-1]=n,i=0,n=0;n<16;n++)for(x[n]=i,e=0;e<1<<m[n];e++)S[i++]=n;for(i>>=7;n<u;n++)for(x[n]=i<<7,e=0;e<1<<m[n]-7;e++)S[256+i++]=n;for(t=0;t<=f;t++)o[t]=0;for(e=0;e<=143;)C[2*e+1]=8,e++,o[8]++;for(;e<=255;)C[2*e+1]=9,e++,o[9]++;for(;e<=279;)C[2*e+1]=7,e++,o[7]++;for(;e<=287;)C[2*e+1]=8,e++,o[8]++;for(F(C,s+1,o),e=0;e<u;e++)E[2*e+1]=5,E[2*e]=D(e,5);_=new B(C,v,a+1,s,f),k=new B(E,m,0,u,f),I=new B(new Array(0),b,0,l,7)}(),q=!0),e.l_desc=new N(e.dyn_ltree,_),e.d_desc=new N(e.dyn_dtree,k),e.bl_desc=new N(e.bl_tree,I),e.bi_buf=0,e.bi_valid=0,U(e)},t._tr_stored_block=G,t._tr_flush_block=function(e,t,r,n){var i,o,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<a;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),V(e,e.l_desc),V(e,e.d_desc),s=function(e){var t;for(z(e,e.dyn_ltree,e.l_desc.max_code),z(e,e.dyn_dtree,e.d_desc.max_code),V(e,e.bl_desc),t=l-1;t>=3&&0===e.bl_tree[2*w[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=r+5,r+4<=i&&-1!==t?G(e,t,r,n):4===e.strategy||o===i?(O(e,2+(n?1:0),3),K(e,C,E)):(O(e,4+(n?1:0),3),function(e,t,r,n){var i;for(O(e,t-257,5),O(e,r-1,5),O(e,n-4,4),i=0;i<n;i++)O(e,e.bl_tree[2*w[i]+1],3);W(e,e.dyn_ltree,t-1),W(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),K(e,e.dyn_ltree,e.dyn_dtree)),U(e),n&&M(e)},t._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(T[r]+a+1)]++,e.dyn_dtree[2*L(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){O(e,2,3),P(e,p,C),function(e){16===e.bi_valid?(R(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,r){"use strict";var n,i=r(33),o=r(130),a=r(75),s=r(74),u=r(129),l=0,c=4,f=0,h=-2,p=-1,d=1,g=4,y=2,v=8,m=9,b=286,w=30,C=19,E=2*b+1,S=15,T=3,A=258,_=A+T+1,k=42,I=103,x=113,B=666,N=1,L=2,R=3,O=4;function P(e,t){return e.msg=u[t],t}function D(e){return(e<<1)-(e>4?9:0)}function F(e){for(var t=e.length;--t>=0;)e[t]=0}function U(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(i.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function M(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,U(e.strm)}function j(e,t){e.pending_buf[e.pending++]=t}function H(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function K(e,t){var r,n,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,u=e.strstart>e.w_size-_?e.strstart-(e.w_size-_):0,l=e.window,c=e.w_mask,f=e.prev,h=e.strstart+A,p=l[o+a-1],d=l[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(l[(r=t)+a]===d&&l[r+a-1]===p&&l[r]===l[o]&&l[++r]===l[o+1]){o+=2,r++;do{}while(l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&o<h);if(n=A-(h-o),o=h-A,n>a){if(e.match_start=t,a=n,n>=s)break;p=l[o+a-1],d=l[o+a]}}}while((t=f[t&c])>u&&0!=--i);return a<=e.lookahead?a:e.lookahead}function V(e){var t,r,n,o,u,l,c,f,h,p,d=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=d+(d-_)){i.arraySet(e.window,e.window,d,d,0),e.match_start-=d,e.strstart-=d,e.block_start-=d,t=r=e.hash_size;do{n=e.head[--t],e.head[t]=n>=d?n-d:0}while(--r);t=r=d;do{n=e.prev[--t],e.prev[t]=n>=d?n-d:0}while(--r);o+=d}if(0===e.strm.avail_in)break;if(l=e.strm,c=e.window,f=e.strstart+e.lookahead,h=o,p=void 0,(p=l.avail_in)>h&&(p=h),r=0===p?0:(l.avail_in-=p,i.arraySet(c,l.input,l.next_in,p,f),1===l.state.wrap?l.adler=a(l.adler,c,p,f):2===l.state.wrap&&(l.adler=s(l.adler,c,p,f)),l.next_in+=p,l.total_in+=p,p),e.lookahead+=r,e.lookahead+e.insert>=T)for(u=e.strstart-e.insert,e.ins_h=e.window[u],e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+T-1])&e.hash_mask,e.prev[u&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=u,u++,e.insert--,!(e.lookahead+e.insert<T)););}while(e.lookahead<_&&0!==e.strm.avail_in)}function z(e,t){for(var r,n;;){if(e.lookahead<_){if(V(e),e.lookahead<_&&t===l)return N;if(0===e.lookahead)break}if(r=0,e.lookahead>=T&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+T-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-_&&(e.match_length=K(e,r)),e.match_length>=T)if(n=o._tr_tally(e,e.strstart-e.match_start,e.match_length-T),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=T){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+T-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(M(e,!1),0===e.strm.avail_out))return N}return e.insert=e.strstart<T-1?e.strstart:T-1,t===c?(M(e,!0),0===e.strm.avail_out?R:O):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?N:L}function W(e,t){for(var r,n,i;;){if(e.lookahead<_){if(V(e),e.lookahead<_&&t===l)return N;if(0===e.lookahead)break}if(r=0,e.lookahead>=T&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+T-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=T-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-_&&(e.match_length=K(e,r),e.match_length<=5&&(e.strategy===d||e.match_length===T&&e.strstart-e.match_start>4096)&&(e.match_length=T-1)),e.prev_length>=T&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-T,n=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-T),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+T-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=T-1,e.strstart++,n&&(M(e,!1),0===e.strm.avail_out))return N}else if(e.match_available){if((n=o._tr_tally(e,0,e.window[e.strstart-1]))&&M(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return N}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<T-1?e.strstart:T-1,t===c?(M(e,!0),0===e.strm.avail_out?R:O):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?N:L}function q(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function G(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=y,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?k:x,e.adler=2===t.wrap?0:1,t.last_flush=l,o._tr_init(t),f):P(e,h)}function Y(e){var t,r=G(e);return r===f&&((t=e.state).window_size=2*t.w_size,F(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=T-1,t.match_available=0,t.ins_h=0),r}function X(e,t,r,n,o,a){if(!e)return h;var s=1;if(t===p&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),o<1||o>m||r!==v||n<8||n>15||t<0||t>9||a<0||a>g)return P(e,h);8===n&&(n=9);var u=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*E),this.dyn_dtree=new i.Buf16(2*(2*w+1)),this.bl_tree=new i.Buf16(2*(2*C+1)),F(this.dyn_ltree),F(this.dyn_dtree),F(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(S+1),this.heap=new i.Buf16(2*b+1),F(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*b+1),F(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return e.state=u,u.strm=e,u.wrap=s,u.gzhead=null,u.w_bits=n,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+T-1)/T),u.window=new i.Buf8(2*u.w_size),u.head=new i.Buf16(u.hash_size),u.prev=new i.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new i.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=a,u.method=r,Y(e)}n=[new q(0,0,0,0,function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(V(e),0===e.lookahead&&t===l)return N;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,M(e,!1),0===e.strm.avail_out))return N;if(e.strstart-e.block_start>=e.w_size-_&&(M(e,!1),0===e.strm.avail_out))return N}return e.insert=0,t===c?(M(e,!0),0===e.strm.avail_out?R:O):(e.strstart>e.block_start&&(M(e,!1),e.strm.avail_out),N)}),new q(4,4,8,4,z),new q(4,5,16,8,z),new q(4,6,32,32,z),new q(4,4,16,16,W),new q(8,16,32,32,W),new q(8,16,128,128,W),new q(8,32,128,256,W),new q(32,128,258,1024,W),new q(32,258,258,4096,W)],t.deflateInit=function(e,t){return X(e,t,v,15,8,0)},t.deflateInit2=X,t.deflateReset=Y,t.deflateResetKeep=G,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?h:(e.state.gzhead=t,f):h},t.deflate=function(e,t){var r,i,a,u;if(!e||!e.state||t>5||t<0)return e?P(e,h):h;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===B&&t!==c)return P(e,0===e.avail_out?-5:h);if(i.strm=e,r=i.last_flush,i.last_flush=t,i.status===k)if(2===i.wrap)e.adler=0,j(i,31),j(i,139),j(i,8),i.gzhead?(j(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),j(i,255&i.gzhead.time),j(i,i.gzhead.time>>8&255),j(i,i.gzhead.time>>16&255),j(i,i.gzhead.time>>24&255),j(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),j(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(j(i,255&i.gzhead.extra.length),j(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(j(i,0),j(i,0),j(i,0),j(i,0),j(i,0),j(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),j(i,3),i.status=x);else{var p=v+(i.w_bits-8<<4)<<8;p|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(p|=32),p+=31-p%31,i.status=x,H(i,p),0!==i.strstart&&(H(i,e.adler>>>16),H(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),U(e),a=i.pending,i.pending!==i.pending_buf_size));)j(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),U(e),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,j(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),U(e),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,j(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.status=I)}else i.status=I;if(i.status===I&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&U(e),i.pending+2<=i.pending_buf_size&&(j(i,255&e.adler),j(i,e.adler>>8&255),e.adler=0,i.status=x)):i.status=x),0!==i.pending){if(U(e),0===e.avail_out)return i.last_flush=-1,f}else if(0===e.avail_in&&D(t)<=D(r)&&t!==c)return P(e,-5);if(i.status===B&&0!==e.avail_in)return P(e,-5);if(0!==e.avail_in||0!==i.lookahead||t!==l&&i.status!==B){var d=2===i.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(V(e),0===e.lookahead)){if(t===l)return N;break}if(e.match_length=0,r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(M(e,!1),0===e.strm.avail_out))return N}return e.insert=0,t===c?(M(e,!0),0===e.strm.avail_out?R:O):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?N:L}(i,t):3===i.strategy?function(e,t){for(var r,n,i,a,s=e.window;;){if(e.lookahead<=A){if(V(e),e.lookahead<=A&&t===l)return N;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=T&&e.strstart>0&&(n=s[i=e.strstart-1])===s[++i]&&n===s[++i]&&n===s[++i]){a=e.strstart+A;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a);e.match_length=A-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=T?(r=o._tr_tally(e,1,e.match_length-T),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(M(e,!1),0===e.strm.avail_out))return N}return e.insert=0,t===c?(M(e,!0),0===e.strm.avail_out?R:O):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?N:L}(i,t):n[i.level].func(i,t);if(d!==R&&d!==O||(i.status=B),d===N||d===R)return 0===e.avail_out&&(i.last_flush=-1),f;if(d===L&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(F(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),U(e),0===e.avail_out))return i.last_flush=-1,f}return t!==c?f:i.wrap<=0?1:(2===i.wrap?(j(i,255&e.adler),j(i,e.adler>>8&255),j(i,e.adler>>16&255),j(i,e.adler>>24&255),j(i,255&e.total_in),j(i,e.total_in>>8&255),j(i,e.total_in>>16&255),j(i,e.total_in>>24&255)):(H(i,e.adler>>>16),H(i,65535&e.adler)),U(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?f:1)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==k&&69!==t&&73!==t&&91!==t&&t!==I&&t!==x&&t!==B?P(e,h):(e.state=null,t===x?P(e,-3):f):h},t.deflateSetDictionary=function(e,t){var r,n,o,s,u,l,c,p,d=t.length;if(!e||!e.state)return h;if(2===(s=(r=e.state).wrap)||1===s&&r.status!==k||r.lookahead)return h;for(1===s&&(e.adler=a(e.adler,t,d,0)),r.wrap=0,d>=r.w_size&&(0===s&&(F(r.head),r.strstart=0,r.block_start=0,r.insert=0),p=new i.Buf8(r.w_size),i.arraySet(p,t,d-r.w_size,r.w_size,0),t=p,d=r.w_size),u=e.avail_in,l=e.next_in,c=e.input,e.avail_in=d,e.next_in=0,e.input=t,V(r);r.lookahead>=T;){n=r.strstart,o=r.lookahead-(T-1);do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+T-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--o);r.strstart=n,r.lookahead=T-1,V(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=T-1,r.match_available=0,e.next_in=l,e.input=c,e.avail_in=u,r.wrap=s,f},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,r){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,r){"use strict";(function(e,n){var i=r(77),o=r(132),a=r(131),s=r(128),u=r(125);for(var l in u)t[l]=u[l];function c(e){if("number"!=typeof e||e<t.DEFLATE||e>t.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7,c.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,i(this.init_done,"close before init"),i(this.mode<=t.UNZIP),this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?a.deflateEnd(this.strm):this.mode!==t.INFLATE&&this.mode!==t.GUNZIP&&this.mode!==t.INFLATERAW&&this.mode!==t.UNZIP||s.inflateEnd(this.strm),this.mode=t.NONE,this.dictionary=null)},c.prototype.write=function(e,t,r,n,i,o,a){return this._write(!0,e,t,r,n,i,o,a)},c.prototype.writeSync=function(e,t,r,n,i,o,a){return this._write(!1,e,t,r,n,i,o,a)},c.prototype._write=function(r,o,a,s,u,l,c,f){if(i.equal(arguments.length,8),i(this.init_done,"write before init"),i(this.mode!==t.NONE,"already finalized"),i.equal(!1,this.write_in_progress,"write already in progress"),i.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,i.equal(!1,void 0===o,"must provide flush value"),this.write_in_progress=!0,o!==t.Z_NO_FLUSH&&o!==t.Z_PARTIAL_FLUSH&&o!==t.Z_SYNC_FLUSH&&o!==t.Z_FULL_FLUSH&&o!==t.Z_FINISH&&o!==t.Z_BLOCK)throw new Error("Invalid flush value");if(null==a&&(a=e.alloc(0),u=0,s=0),this.strm.avail_in=u,this.strm.input=a,this.strm.next_in=s,this.strm.avail_out=f,this.strm.output=l,this.strm.next_out=c,this.flush=o,!r)return this._process(),this._checkError()?this._afterSync():void 0;var h=this;return n.nextTick(function(){h._process(),h._after()}),this},c.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},c.prototype._process=function(){var e=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=a.deflate(this.strm,this.flush);break;case t.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(31!==this.strm.input[e]){this.mode=t.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;139===this.strm.input[e]?(this.gzip_id_bytes_read=2,this.mode=t.GUNZIP):this.mode=t.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:for(this.err=s.inflate(this.strm,this.flush),this.err===t.Z_NEED_DICT&&this.dictionary&&(this.err=s.inflateSetDictionary(this.strm,this.dictionary),this.err===t.Z_OK?this.err=s.inflate(this.strm,this.flush):this.err===t.Z_DATA_ERROR&&(this.err=t.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=s.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},c.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===t.Z_FINISH)return this._error("unexpected end of file"),!1;break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},c.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},c.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},c.prototype.init=function(e,r,n,o,a){i(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),i(e>=8&&e<=15,"invalid windowBits"),i(r>=-1&&r<=9,"invalid compression level"),i(n>=1&&n<=9,"invalid memlevel"),i(o===t.Z_FILTERED||o===t.Z_HUFFMAN_ONLY||o===t.Z_RLE||o===t.Z_FIXED||o===t.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(r,e,n,o,a),this._setDictionary()},c.prototype.params=function(){throw new Error("deflateParams Not supported")},c.prototype.reset=function(){this._reset(),this._setDictionary()},c.prototype._init=function(e,r,n,i,u){switch(this.level=e,this.windowBits=r,this.memLevel=n,this.strategy=i,this.flush=t.Z_NO_FLUSH,this.err=t.Z_OK,this.mode!==t.GZIP&&this.mode!==t.GUNZIP||(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),this.mode!==t.DEFLATERAW&&this.mode!==t.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new o,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=a.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=s.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==t.Z_OK&&this._error("Init error"),this.dictionary=u,this.write_in_progress=!1,this.init_done=!0},c.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=a.deflateSetDictionary(this.strm,this.dictionary)}this.err!==t.Z_OK&&this._error("Failed to set dictionary")}},c.prototype._reset=function(){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=a.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=s.inflateReset(this.strm)}this.err!==t.Z_OK&&this._error("Failed to reset stream")},t.Zlib=c}).call(this,r(1).Buffer,r(14))},function(e,t,r){e.exports=r(50).PassThrough},function(e,t,r){e.exports=r(50).Transform},function(e,t,r){e.exports=r(20)},function(e,t,r){e.exports=r(49)},function(e,t,r){"use strict";e.exports=o;var n=r(78),i=r(28);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=r(24),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){(function(t){function r(e){try{if(!t.localStorage)return!1}catch(e){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,r(6))},function(e,t){},function(e,t,r){"use strict";var n=r(34).Buffer,i=r(142);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,i=n.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=i,r=a,o.data.copy(t,r),a+=o.data.length,o=o.next;return i},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,r){e.exports=i;var n=r(51).EventEmitter;function i(){n.call(this)}r(24)(i,n),i.Readable=r(50),i.Writable=r(139),i.Duplex=r(138),i.Transform=r(137),i.PassThrough=r(136),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",u));var a=!1;function s(){a||(a=!0,e.end())}function u(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){if(c(),0===n.listenerCount(this,"error"))throw e}function c(){r.removeListener("data",i),e.removeListener("drain",o),r.removeListener("end",s),r.removeListener("close",u),r.removeListener("error",l),e.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),e.removeListener("close",c)}return r.on("error",l),e.on("error",l),r.on("end",c),r.on("close",c),e.on("close",c),e.emit("pipe",r),e}},function(e,t,r){"use strict";(function(t){var n=r(96),i=r(17),o=r(7),a=r(84).generateCEK,s=r(25),u=r(84).slice,l=r(83),c=r(15),f=r(124);function h(e,r,u){var f=!1,h=e.format||"general",p=!!e.protectAll,d=t.alloc(0);Object.defineProperty(this,"zip",{get:function(){return r.zip||""},enumerable:!0}),Object.defineProperty(this,"compact",{get:function(){return"compact"===h},enumerable:!0}),Object.defineProperty(this,"format",{get:function(){return h},enumerable:!0}),Object.defineProperty(this,"protected",{get:function(){return i(e.protect)},enumerable:!0}),Object.defineProperty(this,"header",{get:function(){return i(r)},enumerable:!0}),Object.defineProperty(this,"update",{value:function(e,r){if(f)throw new Error("already final");return null!=e&&(e=o.asBuffer(e,r),d=d.length?t.concat([d,e],d.length+e.length):e),this}}),Object.defineProperty(this,"final",{value:function(g,y){if(f)return Promise.reject(new Error("already final"));this.update(g,y),f=!0;var v,m=Promise.resolve({}),b=r.enc,w={};switch(m=(m=(m=(m=(m=m.then(function(t){return e.cek&&(v=s.asKey(e.cek)),t})).then(function(t){var l=Promise.all(u);return(l=l.then(function(t){var u=1===t.length;return t=t.map(function(t){return function(t,u){var l={};l=n(l,r),l=n(l,t.header);var c,f,h=t.key,p=l.alg;return 0===(l.alg||"").indexOf("ECDH-ES")?(c=h.keystore.temp(),f=t.epk?Promise.resolve(t.epk).then(function(e){t.header.epk=e.toJSON(!1,["kid"]),l.epk=e.toObject(!0,["kid"])}):c.generate("EC",h.get("crv")).then(function(e){t.header.epk=e.toJSON(!1,["kid"]),l.epk=e.toObject(!0,["kid"])})):f=Promise.resolve(),(f=f.then(function(){var t,n;return"dir"===p&&u?n=(v=Promise.resolve(h)).then(function(e){return b||(l.enc=r.enc=b=e.algorithms(s.MODE_ENCRYPT)[0]),{once:!0,direct:!0}}):(v||(b||(l.enc=r.enc=b=e.contentAlg),v=a(b)),n=(n=v.then(function(e){return t=e.get("k",!0),h})).then(function(e){return e.wrap(p,t,l)})),n})).then(function(e){if(e.once&&!u)return Promise.reject(new Error("cannot use 'alg':'"+p+"' with multiple recipients"));var r,a={};return e.data&&(r=e.data,r=o.base64url.encode(r)),e.direct&&r?v=s.asKey({kty:"oct",k:r}):r&&(a.encrypted_key=r),t.header&&Object.keys(t.header).length&&(a.header=i(t.header||{})),e.header&&(a.header=n(a.header||{},e.header)),a})}(t,u)}),Promise.all(t)})).then(function(e){return t.recipients=e.filter(function(e){return!!e}),t})})).then(function(t){var a,s,u,l;return u=i(r),p&&1===t.recipients.length||"compact"===h?(a={},a=n({},u,t.recipients[0].header),s=Object.keys(a).length,u=void 0,l=0,delete t.recipients[0].header,0===Object.keys(t.recipients[0]).length&&t.recipients.splice(0,1)):(a={},s=0,l=Object.keys(u).length,e.protect.forEach(function(e){e in u&&(a[e]=u[e],s++,delete u[e],l--)}),t.recipients=(t.recipients||[]).map(function(e){var t=(e=e||{}).header;return t&&(Object.keys(t).forEach(function(e){e in a&&delete t[e]}),Object.keys(t).length||delete e.header),e})),t.recipients&&0!==t.recipients.length||delete t.recipients,u&&l>0&&(w=n(w,u),t.unprotected=u),a&&s>0&&(w=n(w,a),a=JSON.stringify(a),t.protected=o.base64url.encode(a,"utf8")),t})).then(function(e){var r=d;return w.zip?"DEF"===w.zip?new Promise(function(n,i){l.deflateRaw(t.from(r,"binary"),function(t,r){t?i(t):(e.plaintext=r,n(e))})}):Promise.reject(new Error("unsupported 'zip' mode")):(e.plaintext=r,e)})).then(function(r){w.adata=r.protected,"aad"in e&&null!=e.aad&&(w.adata+="."+e.aad,w.adata=t.from(w.adata,"utf8"));var n=e.iv||o.randomBytes(c.NONCELENGTH[b]/8);"string"==typeof n&&(n=o.base64url.decode(n)),w.iv=n,"recipients"in r&&1===r.recipients.length&&(w.kdata=r.recipients[0].encrypted_key),"epu"in e&&null!=e.epu&&(w.epu=e.epu),"epv"in e&&null!=e.epv&&(w.epv=e.epv);var i=r.plaintext;return delete r.plaintext,v.then(function(t){var a=t.encrypt(b,i,w);return a.then(function(t){return r.iv=o.base64url.encode(n,"binary"),"aad"in e&&null!=e.aad&&(r.aad=e.aad),r.ciphertext=o.base64url.encode(t.data,"binary"),r.tag=o.base64url.encode(t.tag,"binary"),r})})}),h){case"compact":m=m.then(function(e){var t=new Array(5);return t[0]=e.protected,e.recipients&&e.recipients[0]&&(t[1]=e.recipients[0].encrypted_key),t[2]=e.iv,t[3]=e.ciphertext,t[4]=e.tag,t.join(".")});break;case"flattened":m=m.then(function(e){var t={},r=e.recipients&&e.recipients[0];return e.protected&&(t.protected=e.protected),e.unprotected&&(t.unprotected=e.unprotected),["header","encrypted_key"].forEach(function(e){r&&e in r&&r[e]&&("object"!=typeof r[e]||Object.keys(r[e]).length)&&(t[e]=r[e])}),e.aad&&(t.aad=e.aad),t.iv=e.iv,t.ciphertext=e.ciphertext,t.tag=e.tag,t});break;case"general":m=m.then(function(e){var t=e.recipients||[];return(t=(t=t.map(function(e){if(Object.keys(e).length)return e})).filter(function(e){return!!e})).length?e.recipients=t:delete e.recipients,e})}return m}})}e.exports={encrypter:h,createEncrypt:function(e,t){var r=e,a=1,l=t;if(0===arguments.length)throw new Error("at least one recipient must be provided");1===arguments.length?(l=e,a=0,r={}):s.isKey(e)||e&&"kty"in e||e&&"key"in e&&(s.isKey(e.key)||"kty"in e.key)?(l=e,a=0,r={}):r=i(e),Array.isArray(l)||(l=u(arguments,a)),r=n(i(f),r);var c=i(r.fields||{});switch(r.zip&&(c.zip="boolean"==typeof r.zip?!!r.zip&&"DEF":r.zip),r.format=(r.compact?"compact":r.format)||"general",r.format){case"compact":if("aad"in e)throw new Error("additional authenticated data cannot be used for compact serialization");case"flattened":if(l.length>1)throw new Error("too many recipients for compact serialization")}var p=!1;if("compact"===r.format||"*"===r.protect)p=!0,r.protect=Object.keys(c).concat("enc");else if("string"==typeof r.protect)r.protect=[r.protect];else if(Array.isArray(r.protect))r.protect=r.protect.concat();else{if(r.protect)throw new Error("protect must be a list of fields");r.protect=[]}if(p&&1<l.length)throw new Error("too many recipients to protect all header parameters");return l=l.map(function(e,t){var r;return r=e&&"kty"in e?(r=s.asKey(e)).then(function(e){return{key:e}}):e?(r=s.asKey(e.key)).then(function(t){return{header:e.header,reference:e.reference,key:t}}):Promise.reject(new Error("missing key for recipient "+t)),e.epk&&(r=r.then(function(t){return s.asKey(e.epk).then(function(e){return t.epk=e,t})})),r.then(function(e){var r=e.key,i=e.header||{};e.header=i;var o={};if(o=n(o,c),(o=n(o,e.header)).alg||(o.alg=r.algorithms(s.MODE_WRAP)[0],i.alg=o.alg),!o.alg)return Promise.reject(new Error("key not valid for encrypting to recipient "+t));i.alg=o.alg;var a,u=e.reference;if(delete e.reference,void 0===u?u=(u=["kid","jku","x5c","x5t","x5u"].some(function(e){return e in i}))?null:"kid":"boolean"==typeof u&&(u=u?"kid":null),u)if(a=r.toJSON(),"jwk"===u){if("oct"===r.kty)return Promise.reject(new Error("cannot embed key"));i.jwk=a}else u in a&&(i[u]=a[u]);return Object.freeze(e)})}),new h({aad:"aad"in r?o.base64url.encode(r.aad||""):null,contentAlg:r.contentAlg,format:r.format,protect:r.protect,cek:r.cek,iv:r.iv,protectAll:p},c,l)}}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){var n=r(17),i=r(19),o=r(40),a=r(85),s=r(25),u={algorithms:"*",allowEmbeddedKey:!1},l=function(e,r){var l,c;c=s.isKey(e)?(l=e).keystore:s.isKeyStore(e)?e:s.createKeyStore(),r=i(u,r),Object.defineProperty(this,"defaultKey",{value:l||void 0,enumerable:!0}),Object.defineProperty(this,"keystore",{value:c,enumerable:!0}),Object.defineProperty(this,"verify",{value:function(e,u){var f=(u=i({},r,u||{})).handlers||{},h=Object.keys(f),p=new a(u.algorithms);if("string"==typeof e)e={payload:(e=e.split("."))[1],signatures:[{protected:e[0],signature:e[2]}]};else if(!e||"object"===e)throw new Error("invalid input");e.signature&&(e.signatures=[{protected:e.protected||void 0,header:e.header||void 0,signature:e.signature}]);var d=e.signatures||[{}];d=d.map(function(e){var t=n(e.header||{}),r=e.protected?JSON.parse(o.decode(e.protected,"utf8")):{};t=i(t,r);var a=o.decode(e.signature);if(!p.match(t.alg))return Promise.reject(new Error("Algorithm not allowed: "+t.alg));var s=r.crit;if(s){if(!Array.isArray(s))return Promise.reject(new Error("Invalid 'crit' header"));for(var u=0;s.length>u;u++)if(-1===h.indexOf(s[u]))return Promise.reject(new Error("Critical extension is not supported: "+s[u]))}return r=Object.keys(r),Promise.resolve({protected:r,aad:e.protected||"",header:t,signature:a})});var g=Promise.all(d);return g.then(function(r){return new Promise(function(n,a){var p=function(){var d=r.shift();if(d){d=i({},d,{payload:e.payload});var g=Promise.resolve(d);(g=(g=(g=(g=(g=(g=g.then(function(e){var r;return u.allowEmbeddedKey&&e.header.jwk?r=s.asKey(e.header.jwk):u.allowEmbeddedKey&&e.header.x5c?(r=e.header.x5c[0],r=t.from(r,"base64"),r=s.asKey(r,"pkix")):r=Promise.resolve(l||c.get({use:"sig",alg:e.header.alg,kid:e.header.kid})),r.then(function(t){return t?(e.key=t,e):Promise.reject(new Error("key does not match"))})})).then(function(e){var t=[];return h.forEach(function(r){var n;"function"==typeof(r=f[r])?n=r(e):"object"==typeof r&&"function"==typeof r.prepare&&(n=r.prepare(e)),n&&t.push(Promise.resolve(n))}),Promise.all(t).then(function(){return e})})).then(function(e){var r=e.aad||"",n=e.payload||"",i=t.alloc(1+r.length+n.length),o=0;return i.write(r,o,"ascii"),o+=r.length,i.write(".",o,"ascii"),o++,t.isBuffer(n)?n.copy(i,o):i.write(n,o,"binary"),e.content=i,e})).then(function(e){return e.key.verify(e.header.alg,e.content,e.signature)})).then(function(e){var t=d.payload;return t=o.decode(t),{protected:d.protected,header:d.header,payload:t,signature:e.mac,key:d.key}})).then(function(e){var t=[];return h.forEach(function(r){var n;"object"==typeof(r=f[r])&&"function"==typeof r.complete&&(n=r.complete(e)),n&&t.push(Promise.resolve(n))}),Promise.all(t).then(function(){return e})})).then(n,p)}else a(new Error("no key found"))};p()})})}})};e.exports={verifier:l,createVerify:function(e,t){return new l(e,t)}}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";e.exports={compact:!1,protect:"*"}},function(e,t,r){"use strict";e.exports={slice:function(e,t){return Array.prototype.slice.call(e,t||0)}}},function(e,t,r){"use strict";(function(t){var n=r(54),i=r(5),o=r(89),a={BaseKey:r(38),helpers:r(29)},s=["ES256","ES384","ES512"],u=["ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW"];function l(e){switch(e){case"1.2.840.10045.3.1.7":return"P-256";case"1.3.132.0.34":return"P-384";case"1.3.132.0.35":return"P-521";default:return null}}var c={publicKey:function(e){var t=a.helpers.COMMON_PROPS.concat([{name:"crv",type:"string"},{name:"x",type:"binary"},{name:"y",type:"binary"}]),r=a.helpers.unpackProps(e,t);return r&&r.crv&&r.x&&r.y?r.length=n.curveSize(r.crv):(delete r.crv,delete r.x,delete r.y),r},privateKey:function(e){var t=a.helpers.COMMON_PROPS.concat([{name:"crv",type:"string"},{name:"x",type:"binary"},{name:"y",type:"binary"},{name:"d",type:"binary"}]),r=a.helpers.unpackProps(e,t);return r&&r.crv&&r.x&&r.y&&r.d?r.length=n.curveSize(r.crv):r=void 0,r},thumbprint:function(e){return e.public&&(e=e.public),{crv:e.crv,kty:"EC",x:e.x,y:e.y}},algorithms:function(e,t){var r=e.public&&e.public.length||e.private&&e.private.length||0;switch(521===r&&(r=512),t){case"encrypt":case"decrypt":return[];case"wrap":return e.public&&u||[];case"unwrap":return e.private&&u||[];case"sign":return e.private?s.filter(function(e){return e==="ES"+r}):[];case"verify":return e.public?s.filter(function(e){return e==="ES"+r}):[]}},encryptKey:function(e,t){return t.public},decryptKey:function(e,t){return t.private},wrapKey:function(e,t){return t.public},unwrapKey:function(e,t){return t.private},signKey:function(e,t){return t.private},verifyKey:function(e,t){return t.public},convertToPEM:function(e,r){var n,o,a,s=e.crv;return s=function(e){switch(s){case"P-256":return"1.2.840.10045.3.1.7";case"P-384":return"1.3.132.0.34";case"P-521":return"1.3.132.0.35";default:return null}}(),s=i.asn1.oidToDer(s),r?(n="EC PRIVATE KEY",o=t.concat([t.from([0,4]),e.x,e.y]).toString("binary"),e=e.d.toString("binary"),a=i.asn1.create(i.asn1.Class.UNIVERSAL,i.asn1.Type.SEQUENCE,!0,[i.asn1.create(i.asn1.Class.UNIVERSAL,i.asn1.Type.INTEGER,!1,""),i.asn1.create(i.asn1.Class.UNIVERSAL,i.asn1.Type.OCTETSTRING,!1,e),i.asn1.create(i.asn1.Class.CONTEXT_SPECIFIC,0,!0,[i.asn1.create(i.asn1.Class.UNIVERSAL,i.asn1.Type.OID,!1,s.bytes())]),i.asn1.create(i.asn1.Class.CONTEXT_SPECIFIC,1,!0,[i.asn1.create(i.asn1.Class.UNIVERSAL,i.asn1.Type.BITSTRING,!1,o)])])):(n="PUBLIC KEY",e=t.concat([t.from([0,4]),e.x,e.y]).toString("binary"),a=i.asn1.create(i.asn1.Class.UNIVERSAL,i.asn1.Type.SEQUENCE,!0,[i.asn1.create(i.asn1.Class.UNIVERSAL,i.asn1.Type.SEQUENCE,!0,[i.asn1.create(i.asn1.Class.UNIVERSAL,i.asn1.Type.OID,!1,i.asn1.oidToDer("1.2.840.10045.2.1").bytes()),i.asn1.create(i.asn1.Class.UNIVERSAL,i.asn1.Type.OID,!1,s.bytes())]),i.asn1.create(i.asn1.Class.UNIVERSAL,i.asn1.Type.BITSTRING,!1,e)])),a=i.asn1.toDer(a).bytes(),i.pem.encode({type:n,body:a})}},f={oid:"1.2.840.10045.2.1",privateKey:{name:"ECPrivateKey",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"ECPrivateKey.version",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.INTEGER,constructed:!1},{name:"ECPrivateKey.private",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.OCTETSTRING,constructed:!1,capture:"d"},{tagClass:i.asn1.Class.CONTEXT_SPECIFIC,name:"ECPrivateKey.parameters",constructed:!0,value:[{name:"ECPrivateKey.namedCurve",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.OID,constructed:!1,capture:"crv"}]},{name:"ECPrivateKey.publicKey",tagClass:i.asn1.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"ECPrivateKey.point",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.BITSTRING,constructed:!1,capture:"point"}]}]},embeddedPrivateKey:{name:"ECPrivateKey",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"ECPrivateKey.version",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.INTEGER,constructed:!1},{name:"ECPrivateKey.private",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.OCTETSTRING,constructed:!1,capture:"d"},{name:"ECPrivateKey.publicKey",tagClass:i.asn1.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"ECPrivateKey.point",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.BITSTRING,constructed:!1,capture:"point"}]}]}},h={kty:"EC",validators:f,prepare:function(e){var t=c,r=Promise.resolve(e);return(r=r.then(function(e){return a.helpers.thumbprint(t,e)})).then(function(r){var n={};return n[a.helpers.INTERNALS.THUMBPRINT_HASH]=r,e[a.helpers.INTERNALS.THUMBPRINT_KEY]=n,t})},generate:function(e){var t=o.generateKeyPair(e),r={crv:e,x:t.public.x,y:t.public.y,d:t.private.d};return Promise.resolve(r)},import:function(e){if(f.oid!==e.keyOid)return null;var r;if(e.keyParams&&i.asn1.Type.OID===e.keyParams.type?r=l(r=i.asn1.derToOid(e.keyParams.value)):e.crv&&(r=l(r=i.asn1.derToOid(e.crv))),!r)return null;if(!e.parsed){var n={};if("private"===e.type){if("string"==typeof e.keyValue?e.keyValue=i.asn1.fromDer(e.keyValue):Array.isArray(e.keyValue)&&(e.keyValue=e.keyValue[0]),!i.asn1.validate(e.keyValue,f.embeddedPrivateKey,n,[]))return null}else n.point=e.keyValue;e=n}var o={kty:"EC",crv:r};if(e.d&&(o.d=t.from(e.d,"binary")),e.point){var a=t.from(e.point,"binary");if(4!==a.readUInt16BE(0))return null;var s=(a=a.slice(2)).length/2;o.x=a.slice(0,s),o.y=a.slice(s)}return o}};e.exports=Object.freeze({config:c,factory:h}),r(39).registry.register(h)}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){var n=r(5),i=r(53),o=r(10).nodeCrypto,a={BaseKey:r(38),helpers:r(29)},s=["RS256","RS384","RS512","PS256","PS384","PS512"],u=["RSA-OAEP","RSA-OAEP-256","RSA1_5"],l={publicKey:function(e){var t,r=a.helpers.COMMON_PROPS.concat([{name:"n",type:"binary"},{name:"e",type:"binary"}]);return(t=a.helpers.unpackProps(e,r))&&t.n&&t.e?t.length=8*t.n.length:(delete t.e,delete t.n),t},privateKey:function(e){var t,r=a.helpers.COMMON_PROPS.concat([{name:"n",type:"binary"},{name:"e",type:"binary"},{name:"d",type:"binary"},{name:"p",type:"binary"},{name:"q",type:"binary"},{name:"dp",type:"binary"},{name:"dq",type:"binary"},{name:"qi",type:"binary"}]);return(t=a.helpers.unpackProps(e,r))&&t.d&&t.n&&t.e&&t.p&&t.q&&t.dp&&t.dq&&t.qi?t.length=8*t.d.length:t=void 0,t},thumbprint:function(e){return e.public&&(e=e.public),{e:e.e,kty:"RSA",n:e.n}},algorithms:function(e,t){switch(t){case"encrypt":case"decrypt":return[];case"wrap":return e.public&&u.slice()||[];case"unwrap":return e.private&&u.slice()||[];case"sign":return e.private&&s.slice()||[];case"verify":return e.public&&s.slice()||[]}return[]},wrapKey:function(e,t){return t.public},unwrapKey:function(e,t){return t.private},signKey:function(e,t){return t.private},verifyKey:function(e,t){return t.public},convertToPEM:function(e,t){var r=i.convertToForge(e,!t);return t?n.pki.privateKeyToPem(r):n.pki.publicKeyToPem(r)}},c={oid:"1.2.840.113549.1.1.1",privateKey:{name:"RSAPrivateKey",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"version"},{name:"RSAPrivateKey.modulus",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"n"},{name:"RSAPrivateKey.publicExponent",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"e"},{name:"RSAPrivateKey.privateExponent",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"d"},{name:"RSAPrivateKey.prime1",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"p"},{name:"RSAPrivateKey.prime2",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"q"},{name:"RSAPrivateKey.exponent1",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"dp"},{name:"RSAPrivateKey.exponent2",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"dq"},{name:"RSAPrivateKey.coefficient",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"qi"}]},publicKey:{name:"RSAPublicKey",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"n"},{name:"RSAPublicKey.exponent",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"e"}]}},f={kty:"RSA",validators:c,prepare:function(e){var t=l,r=Promise.resolve(e);return(r=r.then(function(e){return a.helpers.thumbprint(t,e)})).then(function(r){var n={};return n[a.helpers.INTERNALS.THUMBPRINT_HASH]=r,e[a.helpers.INTERNALS.THUMBPRINT_KEY]=n,t})},generate:function(e){var r;if(o)r=new Promise(function(t,r){n.pki.rsa.generateKeyPair({bits:e,e:65537},function(e,n){if(e)return r(e);t(n.privateKey)})});else{var i=n.pki.rsa.generateKeyPair({bits:e,e:65537});r=Promise.resolve(i.privateKey)}return r.then(function(e){var r={};return["e","n","d","p","q",{incoming:"dP",outgoing:"dp"},{incoming:"dQ",outgoing:"dq"},{incoming:"qInv",outgoing:"qi"}].forEach(function(n){var i,o,a;"string"==typeof n?i=o=n:(i=n.incoming,o=n.outgoing),i in e&&(r[o]=((a=(a=e[i]).toString(16)).length%2&&(a="0"+a),t.from(a,"hex")))}),r})},import:function(e){if(c.oid!==e.keyOid)return null;if(!e.parsed){"string"==typeof e.keyValue?e.keyValue=n.asn1.fromDer(e.keyValue):Array.isArray(e.keyValue)&&(e.keyValue=e.keyValue[0]);var r="private"===e.type?c.privateKey:c.publicKey,i={};if(!n.asn1.validate(e.keyValue,r,i,[]))return null;e=i}var o={kty:"RSA"};return["n","e","d","p","q","dp","dq","qi"].forEach(function(r){if(r in e){var n=t.from(e[r],"binary");0===n[0]&&(n=n.slice(1)),o[r]=n}}),o}};e.exports=Object.freeze({config:l,factory:f}),r(39).registry.register(f)}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){var n=r(7),i={BaseKey:r(38),helpers:r(29)},o=["HS256","HS384","HS512"],a=["A128GCM","A192GCM","A256GCM","A128CBC-HS256","A192CBC-HS384","A256CBC-HS512","A128CBC+HS256","A192CBC+HS384","A256CBC+HS512"],s=["A128KW","A192KW","A256KW","A128GCMKW","A192GCMKW","A256GCMKW","PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW","dir"];function u(e,r){return"iv"in r&&(r.iv=t.isBuffer(r.iv)?r.iv:n.base64url.decode(r.iv||"")),"adata"in r&&(r.adata=t.isBuffer(r.adata)?r.adata:t.from(r.adata||"","utf8")),"mac"in r&&(r.mac=t.isBuffer(r.mac)?r.mac:n.base64url.decode(r.mac||"")),"tag"in r&&(r.tag=t.isBuffer(r.tag)?r.tag:n.base64url.decode(r.tag||"")),r}function l(e,r){return"iv"in r&&(r.iv=t.isBuffer(r.iv)?r.iv:n.base64url.decode(r.iv||"")),"adata"in r&&(r.adata=t.isBuffer(r.adata)?r.adata:t.from(r.adata||"","utf8")),r}var c={publicKey:function(e){var t=i.helpers.COMMON_PROPS.concat([]);return i.helpers.unpackProps(e,t)},privateKey:function(e){var t,r=i.helpers.COMMON_PROPS.concat([{name:"k",type:"binary"}]);return(t=i.helpers.unpackProps(e,r))&&t.k?t.length=8*t.k.length:t=void 0,t},thumbprint:function(e){return e.private&&(e=e.private),{k:e.k||"",kty:"oct"}},algorithms:function(e,t){var r=e.private&&8*e.private.k.length,n=[256,384,512];if(!r)return[];switch(t){case"encrypt":case"decrypt":return a.filter(function(e){return e==="A"+r/2+"CBC-HS"+r||e==="A"+r/2+"CBC+HS"+r||e==="A"+r+"GCM"});case"sign":case"verify":return o.filter(function(e){var t=!1;return n.forEach(function(n){n>r||(t|=e==="HS"+n)}),t});case"wrap":case"unwrap":return s.filter(function(e){return e==="A"+r+"KW"||e==="A"+r+"GCMKW"||0===e.indexOf("PBES2-")||"dir"===e})}return[]},encryptKey:function(e,t){return t.private&&t.private.k},encryptProps:l,decryptKey:function(e,t){return t.private&&t.private.k},decryptProps:u,wrapKey:function(e,t){return t.private&&t.private.k},wrapProps:l,unwrapKey:function(e,t){return t.private&&t.private.k},unwrapProps:u,signKey:function(e,t){return t.private&&t.private.k},verifyKey:function(e,t){return t.private&&t.private.k}},f={kty:"oct",prepare:function(e){var t=c,r=Promise.resolve(e);return(r=r.then(function(e){return i.helpers.thumbprint(t,e)})).then(function(r){var n={};return n[i.helpers.INTERNALS.THUMBPRINT_HASH]=r,e[i.helpers.INTERNALS.THUMBPRINT_KEY]=n,t})},generate:function(e){var t=n.randomBytes(e/8);return Promise.resolve({k:t})}};e.exports=Object.freeze({config:c,factory:f}),r(39).registry.register(f)}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){var n=r(5),i=r(15),o=r(10),a=r(53),s={};["PS256","PS384","PS512"].forEach(function(e){s[e]={sign:function(e){var r=e.replace("PS","SHA").toLowerCase(),s=e.replace("PS","SHA-"),u={name:"RSA-PSS",hash:{name:s},saltLength:i.HASHLENGTH[s]/8};return o.setupFallback(null,function(e,r){return e=a.convertToJWK(e,!1),o.subtleCrypto.importKey("jwk",e,u,!0,["sign"]).then(function(e){return o.subtleCrypto.sign(u,e,r)}).then(function(e){var n=t.from(e);return{data:r,mac:n}})},function(e,o){var u=n.md[r].create();u.start(),u.update(o);var l=n.pss.create({md:n.md[r].create(),mgf:n.mgf.mgf1.create(n.md[r].create()),saltLength:i.HASHLENGTH[s]/8}),c=a.convertToForge(e,!1).sign(u,l);return c=t.from(c,"binary"),Promise.resolve({data:o,mac:c})})}(e),verify:function(e){var t=e.replace("PS","SHA").toLowerCase(),r=e.replace("PS","SHA-"),s={name:"RSA-PSS",hash:{name:r},saltLength:i.HASHLENGTH[r]/8};return o.setupFallback(null,function(e,t,r){return e=a.convertToJWK(e,!0),o.subtleCrypto.importKey("jwk",e,s,!0,["verify"]).then(function(e){return o.subtleCrypto.verify(s,e,r,t)}).then(function(e){return e?{data:t,mac:r,valid:!0}:Promise.reject(new Error("verification failed"))})},function(e,o,s){var u=n.md[t].create();u.start(),u.update(o),u=u.digest().bytes();var l=n.pss.create({md:n.md[t].create(),mgf:n.mgf.mgf1.create(n.md[t].create()),saltLength:i.HASHLENGTH[r]/8}),c=a.convertToForge(e,!0),f=s.toString("binary");return c.verify(u,f,l)?Promise.resolve({data:o,mac:s,valid:!0}):Promise.reject(new Error("verification failed"))})}(e)}}),["RS256","RS384","RS512"].forEach(function(e){s[e]={sign:function(e){var r,i=e.replace("RS","SHA").toLowerCase(),s=e.replace("RS","SHA-"),u={name:"RSASSA-PKCS1-V1_5",hash:{name:s}};return o.nodeCrypto&&o.nodeCrypto.getHashes().indexOf(s)>-1&&(r=function(e,t){e=a.convertToPem(e,!1);var r=o.nodeCrypto.createSign(s);return r.update(t),{data:t,mac:r.sign(a.convertToPem(e,!1))}}),o.setupFallback(r,function(e,r){return e=a.convertToJWK(e,!1),o.subtleCrypto.importKey("jwk",e,u,!0,["sign"]).then(function(e){return o.subtleCrypto.sign(u,e,r)}).then(function(e){var n=t.from(e);return{data:r,mac:n}})},function(e,r){var o=n.md[i].create();o.start(),o.update(r);var s=a.convertToForge(e,!1).sign(o,"RSASSA-PKCS1-V1_5");return s=t.from(s,"binary"),Promise.resolve({data:r,mac:s})})}(e),verify:function(e){var t,r=e.replace("RS","SHA").toLowerCase(),i={name:"RSASSA-PKCS1-V1_5",hash:{name:e.replace("RS","SHA-")}};return o.nodeCrypto&&o.nodeCrypto.getHashes().indexOf(r)>-1&&(t=function(e,t,n){var i=o.nodeCrypto.createVerify(r);return i.update(t),i.end(),i.verify(a.convertToPem(e,!0),n)?{data:t,mac:n,valid:!0}:Promise.reject(new Error("verification failed"))}),o.setupFallback(t,function(e,t,r){return e=a.convertToJWK(e,!0),o.subtleCrypto.importKey("jwk",e,i,!0,["verify"]).then(function(e){return o.subtleCrypto.verify(i,e,r,t)}).then(function(e){return e?{data:t,mac:r,valid:!0}:Promise.reject(new Error("verification failed"))})},function(e,t,i){var o=n.md[r].create();o.start(),o.update(t),o=o.digest().bytes();var s=a.convertToForge(e,!0),u=i.toString("binary");return s.verify(o,u,"RSASSA-PKCS1-V1_5")?Promise.resolve({data:t,mac:i,valid:!0}):Promise.reject(new Error("verification failed"))})}(e)}}),e.exports=s}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){var n=r(5),i=r(10),o=r(30),a=r(53),s={};["RSA-OAEP","RSA-OAEP-256","RSA1_5"].forEach(function(e){s[e]={encrypt:function(e){var r,s={name:e};return"RSA-OAEP-256"===e?(s.name="RSA-OAEP",s.hash={name:"SHA-256"}):"RSA-OAEP"===e?s.hash={name:"SHA-1"}:s.name="RSAES-PKCS1-v1_5",r="RSAES-PKCS1-v1_5"!==s.name?function(e,r){return e=a.convertToJWK(e,!0),i.subtleCrypto.importKey("jwk",e,s,!0,["encrypt"]).then(function(e){return i.subtleCrypto.encrypt(s,e,r)}).then(function(e){return{data:t.from(e)}})}:null,i.setupFallback(null,r,function(e,t){t=new o(t).bytes();var r=a.convertToForge(e,!0),i={};"RSA-OAEP"===s.name&&(i.md=s.hash.name.toLowerCase().replace(/-/g,""),i.md=n.md[i.md].create());var u=r.encrypt(t,s.name.toUpperCase(),i);return u=new o(u).native(),Promise.resolve({data:u})})}(e),decrypt:function(e){var r,s,u={name:e};return"RSA-OAEP-256"===e?(u.name="RSA-OAEP",u.hash={name:"SHA-256"}):"RSA-OAEP"===e?u.hash={name:"SHA-1"}:u.name="RSAES-PKCS1-v1_5",r="RSAES-PKCS1-v1_5"!==u.name?function(e,r){return e=a.convertToJWK(e,!1),i.subtleCrypto.importKey("jwk",e,u,!0,["decrypt"]).then(function(e){return i.subtleCrypto.decrypt(u,e,r)}).then(function(e){return t.from(e)})}:null,i.nodeCrypto&&"RSA-OAEP"===e&&(s=function(e,t){return e=a.convertToPem(e,!1),i.nodeCrypto.privateDecrypt(e,t)}),i.setupFallback(s,r,function(e,t){t=new o(t).bytes();var r=a.convertToForge(e,!1),i={};"RSA-OAEP"===u.name&&(i.md=u.hash.name.toLowerCase().replace(/-/g,""),i.md=n.md[i.md].create());var s=r.decrypt(t,u.name.toUpperCase(),i);return s=new o(s).native(),Promise.resolve(s)})}(e)}}),e.exports=s}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){var n=r(5),i=r(19),o=r(7),a=r(10),s=r(15),u=r(55),l=t.from([0]);function c(e,r,n){var i="PBES2-"+e+"+"+r,o=[t.from(i,"utf8"),l,n];return t.concat(o)}var f={};["PBKDF2-SHA-256","PBKDF2-SHA-384","PBKDF2-SHA-512"].forEach(function(e){var r=e.replace("PBKDF2-","");f[e]={derive:function(e){function r(e){var r=(e=e||{}).length||0,n=o.asBuffer(e.salt||t.alloc(0),"base64u4l"),i=e.iterations||0;if(0>=r)throw new Error("invalid key length");if(0>=i)throw new Error("invalid iteration count");return e.length=r,e.salt=n,e.iterations=i,e}return a.setupFallback(function(t,n){if(6>a.nodeCrypto.pbkdf2.length)throw new Error("unsupported algorithm: PBKDF2-"+e);try{n=r(n)}catch(e){return Promise.reject(e)}var i=n.length,o=n.salt,s=n.iterations,u=e.replace("-","");return new Promise(function(e,r){a.nodeCrypto.pbkdf2(t,o,s,i,u,function(t,n){t?r(t):e(n)})})},function(t,n){try{n=r(n)}catch(e){return Promise.reject(e)}var i=n.length,s=n.salt,u=n.iterations,l=Promise.resolve(t);return(l=(l=l.then(function(e){return a.subtleCrypto.importKey("raw",e,"PBKDF2",!1,["deriveBits"])})).then(function(t){var r={name:"PBKDF2",salt:new Uint8Array(s),iterations:u,hash:e};return a.subtleCrypto.deriveBits(r,t,8*i)})).then(function(e){return o.asBuffer(e)})},function(i,o){try{o=r(o)}catch(e){return Promise.reject(e)}var a=o.length,s=o.salt,u=o.iterations;return new Promise(function(r,o){var l=n.md[e.replace("-","").toLowerCase()].create();n.pkcs5.pbkdf2(i.toString("binary"),s.toString("binary"),u,a,l,function(e,n){e?o(e):(n=t.from(n,"binary"),r(n))})})})}(r)}}),["PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"].forEach(function(e){var r=/PBES2-(HS\d+)\+(A\d+KW)/g.exec(e),n=r[1],a=r[2];f[e]={encrypt:function(e,r){var n="PBKDF2-"+e.replace("HS","SHA-"),a=s.KEYLENGTH[r]/8;return function(s,l,h){h=h||{};var p=o.asBuffer(h.p2s||t.alloc(0),"base64url"),d=h.p2c||8192;if(0>=d)throw new Error("invalid iteration count");if(0===p.length)p=o.randomBytes(16);else if(8>p.length)throw new Error("salt too small");var g={p2s:o.base64url.encode(p),p2c:d};p=c(e,r,p),h=i(h,{salt:p,iterations:d,length:a});var y=Promise.resolve(s);return(y=(y=y.then(function(e){return f[n].derive(e,h)})).then(function(e){return u[r].encrypt(e,l)})).then(function(e){return e.header=i(e.header||{},g),e})}}(n,a),decrypt:function(e,r){var n="PBKDF2-"+e.replace("HS","SHA-"),a=s.KEYLENGTH[r]/8;return function(s,l,h){h=h||{};var p=o.asBuffer(h.p2s||t.alloc(0),"base64url"),d=h.p2c||0;if(0>=d)return Promise.reject(new Error("invalid iteration count"));if(8>p.length)return Promise.reject(new Error("salt too small"));p=c(e,r,p),h=i(h,{salt:p,iterations:d,length:a});var g=Promise.resolve(s);return(g=g.then(function(e){return f[n].derive(e,h)})).then(function(e){return u[r].decrypt(e,l)})}}(n,a)}}),e.exports=f}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){var n=r(54),i=r(10),o=r(37);function a(e){switch(e){case"SHA-256":return"P-256";case"SHA-384":return"P-384";case"SHA-512":return"P-521";default:throw new Error("unsupported hash: "+e)}}var s={};["ES256","ES384","ES512"].forEach(function(e){var r=e.replace(/ES(\d+)/g,function(e,t){return"SHA-"+t});s[e]={sign:function(e){var r=a(e);return i.setupFallback(null,function(o,a){if(r!==o.crv)return Promise.reject(new Error("invalid curve"));var s=n.convertToJWK(o,!1),u={name:"ECDSA",namedCurve:s.crv,hash:{name:e}};return i.subtleCrypto.importKey("jwk",s,u,!0,["sign"]).then(function(e){return i.subtleCrypto.sign(u,e,a)}).then(function(e){return e=t.from(e),{data:a,mac:e}})},function(i,a){if(r!==i.crv)return Promise.reject(new Error("invalid curve"));var s=n.convertToForge(i,!1);return o[e].digest(a).then(function(e){return e=s.sign(e),e=t.concat([e.r,e.s]),{data:a,mac:e}})})}(r),verify:function(e){var t=a(e);return i.setupFallback(null,function(r,o,a){if(t!==r.crv)return Promise.reject(new Error("invalid curve"));var s=n.convertToJWK(r,!0),u={name:"ECDSA",namedCurve:s.crv,hash:{name:e}};return i.subtleCrypto.importKey("jwk",s,u,!0,["verify"]).then(function(e){return i.subtleCrypto.verify(u,e,a,o)}).then(function(e){return e?{data:o,mac:a,valid:!0}:Promise.reject(new Error("verification failed"))})},function(r,i,a){if(t!==r.crv)return Promise.reject(new Error("invalid curve"));var s=n.convertToForge(r,!0);return o[e].digest(i).then(function(e){var t=a.length/2,r={r:a.slice(0,t),s:a.slice(t)};return s.verify(e,r)?{data:i,mac:a,valid:!0}:Promise.reject(new Error("verification failed"))})})}(r)}}),e.exports=s}).call(this,r(1).Buffer)},function(e,t,r){"use strict";var n=r(5).jsbn.BigInteger,i=r(88);function o(e,t,r,n){this.curve=e,this.g=t,this.n=r,this.h=n}function a(e){return new n(e,16)}o.prototype.getCurve=function(){return this.curve},o.prototype.getG=function(){return this.g},o.prototype.getN=function(){return this.n},o.prototype.getH=function(){return this.h};var s,u,l,c,f,h,p=e.exports={secp256r1:(s=a("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF"),u=a("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC"),l=a("5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B"),c=a("FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551"),f=n.ONE,h=new i.ECCurveFp(s,u,l),new o(h,h.decodePointHex("046B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C2964FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5"),c,f)),secp384r1:function(){var e=a("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF"),t=a("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC"),r=a("B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF"),s=a("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973"),u=n.ONE,l=new i.ECCurveFp(e,t,r);return new o(l,l.decodePointHex("04AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB73617DE4A96262C6F5D9E98BF9292DC29F8F41DBD289A147CE9DA3113B5F0B8C00A60B1CE1D7E819D7A431D7C90EA0E5F"),s,u)}(),secp521r1:function(){var e=a("01FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF"),t=a("01FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC"),r=a("0051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00"),s=a("01FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409"),u=n.ONE,l=new i.ECCurveFp(e,t,r);return new o(l,l.decodePointHex("0400C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66011839296A789A3BC0045C8A5FB42C7D1BD998F54449579B446817AFBD17273E662C97EE72995EF42640C550B9013FAD0761353C7086A272C24088BE94769FD16650"),s,u)}()};p["P-256"]=p.secp256r1,p["P-384"]=p.secp384r1,p["P-521"]=p.secp521r1},function(e,t,r){"use strict";(function(t){var n=r(17),i=r(19),o=r(95),a=r(94),s=r(7),u=r(54),l=r(87),c=r(90),f=r(55),h=r(10),p=r(15);function d(e){switch(e){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new Error("unsupported curve: "+e)}}var g=e.exports={};function y(e,r,n){function i(e){return t.concat([h.int32ToBuffer(e.length),e])}var o=n.algorithm||"",a=p.KEYLENGTH[o],u=s.asBuffer(n.apu||"","base64url"),l=s.asBuffer(n.apv||"","base64url"),c={public:r,length:a/8,hash:"SHA-256",otherInfo:t.concat([i(t.from(o,"utf8")),i(u),i(l),h.int32ToBuffer(a)])};return g["ECDH-CONCAT"].derive(e,c)}["ECDH","ECDH-HKDF","ECDH-CONCAT"].forEach(function(e){var r,s,f=/^ECDH(?:-(\w+))?$/g.exec(e||"")[1],p=g[e]=g[e]||{};switch(f||""){case"CONCAT":p.derive=function(e,t){var r;t=t||{};try{if(!(r=t.hash||d(e.crv)))throw new Error("invalid hash: "+r);r.toUpperCase()}catch(e){return Promise.reject(e)}var n=["public"],i=g.ECDH.derive(e,a(t,n));return i.then(function(e){return c["CONCAT-"+r].derive(e,o(t,n))})};break;case"HKDF":p.derive=function(e,t){var r;t=t||{};try{if(!(r=t.hash||d(e.crv)))throw new Error("invalid hash: "+r);r.toUpperCase()}catch(e){return Promise.reject(e)}var n=["public"],i=g.ECDH.derive(e,a(t,n));return i.then(function(e){return l["HKDF-"+r].derive(e,o(t,n))})};break;case"":p.derive=(r={name:"ECDH"},s=function(e,t){var r=e&&u.convertToForge(e,!0);if(!r||!r.isValid())return Promise.reject(new Error("invalid EC public key"));switch(t){case"jwk":r=u.convertToJWK(e,!0);break;case"buffer":r=u.convertToBuffer(e,!0)}return Promise.resolve(r)},h.setupFallback(function(e,t){if("function"!=typeof h.nodeCrypto.createECDH)throw new Error("unsupported algorithm: ECDH");var r,n=(t=t||{}).length||0;switch(e.crv){case"P-256":r="prime256v1";break;case"P-384":r="secp384r1";break;case"P-521":r="secp521r1";break;default:return Promise.reject(new Error("invalid curve: "+r))}var i=u.convertToBuffer(e,!1),o=s(t.public,"buffer");return o.then(function(e){var t=h.nodeCrypto.createECDH(r);t.setPrivateKey(i);var o=t.computeSecret(e);if(n){if(o.length<n)return Promise.reject(new Error("key length too large: "+n));o=o.slice(0,n)}return o})},function(e,o){e=e||{};var a=(o=o||{}).length||0,l=i(n(r),{namedCurve:e.crv});a||(a=e.d.length);var c=u.convertToJWK(e,!1);c=h.subtleCrypto.importKey("jwk",c,l,!1,["deriveBits"]);var f=s(o.public,"jwk");f=f.then(function(e){return h.subtleCrypto.importKey("jwk",e,l,!1,[])});var p=Promise.all([c,f]);return(p=p.then(function(e){var t=e[0],o=e[1],s=i(n(r),{public:o});return h.subtleCrypto.deriveBits(s,t,8*a)})).then(function(e){return t.from(e)})},function(e,t){var r=(t=t||{}).length||0,n=u.convertToForge(e,!1),i=s(t.public,"forge");return i.then(function(e){var t=n.computeSecret(e);if(r){if(t.length<r)return Promise.reject(new Error("key length too large: "+r));t=t.slice(0,r)}return t})}));break;default:p.derive=null}}),["ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW"].forEach(function(e){var t,r,n=/^ECDH-ES(?:\+(.+))?/g.exec(e||"")[1],i=g[e]=g[e]||{};n?(n=f[n])?(i.encrypt=(r=n.encrypt,function(e,t,n){if(!(n=n||{}).epk||!n.epk.d)return Promise.reject(new Error("missing ephemeral private key"));var i=u.convertToObj(n.epk,!1);if(!e||!e.x||!e.y)return Promise.reject(new Error("missing static public key"));var o=y(i,u.convertToObj(e,!0),{algorithm:n.alg,apu:n.apu,apv:n.apv});return o.then(function(e){return r(e,t)})}),i.decrypt=(t=n.decrypt,function(e,r,n){if(!(n=n||{}).epk||!n.epk.x||!n.epk.y)return Promise.reject(new Error("missing ephemeral public key"));var i=u.convertToObj(n.epk,!0);if(!e||!e.d)return Promise.reject(new Error("missing static private key"));var o=y(u.convertToObj(e,!1),i,{algorithm:n.alg,apu:n.apu,apv:n.apv});return o.then(function(e){return t(e,r)})})):i.ecrypt=i.decrypt=null:(i.encrypt=function(e,t,r){if(!(r=r||{}).epk||!r.epk.d)return Promise.reject(new Error("missing ephemeral private key"));var n=u.convertToObj(r.epk,!1);if(!e||!e.x||!e.y)return Promise.reject(new Error("missing static public key"));var i=y(n,u.convertToObj(e,!0),{algorithm:r.enc,apu:r.apu,apv:r.apv});return i.then(function(e){return{data:e,once:!0,direct:!0}})},i.decrypt=function(e,t,r){if(!(r=r||{}).epk||!r.epk.x||!r.epk.y)return Promise.reject(new Error("missing ephemeral public key"));var n=u.convertToObj(r.epk,!0);if(!e||!e.d)return Promise.reject(new Error("missing static private key"));var i=y(u.convertToObj(e,!1),n,{algorithm:r.enc,apu:r.apu,apv:r.apv});return i.then(function(e){return e})})})}).call(this,r(1).Buffer)},function(e,t,r){"use strict";var n={dir:{encrypt:function(e){return Promise.resolve({data:e,once:!0,direct:!0})},decrypt:function(e){return Promise.resolve(e)}}};e.exports=n},function(e,t,r){"use strict";var n=r(36);e.exports={encrypt:function(e,t,r,i,o){var a=new Array(4),s=new Array(4);n.bigEndianToInt(t,r,a),e.encrypt(a,s),n.intToBigEndian(s,i,o)}}},function(e,t){var r=1/0,n=9007199254740991,i=1.7976931348623157e308,o=NaN,a=4294967295,s="[object Function]",u="[object GeneratorFunction]",l="[object Symbol]",c=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,p=/^0o[0-7]+$/i,d=/^(?:0|[1-9]\d*)$/,g=parseInt,y=Object.prototype.toString;function v(e,t,r){if(!m(r))return!1;var i=typeof t;return!!("number"==i?function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}(e.length)&&!function(e){var t=m(e)?y.call(e):"";return t==s||t==u}(e)}(r)&&function(e,t){return!!(t=null==t?n:t)&&("number"==typeof e||d.test(e))&&e>-1&&e%1==0&&e<t}(t,r.length):"string"==i&&t in r)&&function(e,t){return e===t||e!=e&&t!=t}(r[t],e)}function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){return e?(e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&y.call(e)==l}(e))return o;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(c,"");var r=h.test(e);return r||p.test(e)?g(e.slice(2),r?2:8):f.test(e)?o:+e}(e))===r||e===-r?(e<0?-1:1)*i:e==e?e:0:0===e?e:0}function w(e){var t=b(e),r=t%1;return t==t?r?t-r:t:0}e.exports=function(e,t,r,n){var i=e?e.length:0;return i?(r&&"number"!=typeof r&&v(e,t,r)&&(r=0,n=i),function(e,t,r,n){var i=e.length;for((r=w(r))<0&&(r=-r>i?0:i+r),(n=void 0===n||n>i?i:w(n))<0&&(n+=i),n=r>n?0:function(e){return e?(t=w(e),r=a,t==t&&(void 0!==r&&(t=t<=r?t:r),t=t>=0?t:0),t):0;var t,r}(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]}},function(e,t,r){"use strict";var n=r(91),i=r(36);function o(){this.H=[],this.M=null}o.prototype.init=function(e){var t,r,i;if(null==this.M)for(this.M=[],t=0;t<32;++t)for(this.M[t]=[],r=0;r<16;++r)for(this.M[t][r]=[],i=0;i<4;++i)this.M[t][r][i]=0;else if(n.arrayEqual(this.H,e))return;for(this.H=e.slice(),n.asInts(e,this.M[1][8]),r=4;r>=1;r>>=1)n.multiplyP(this.M[1][r+r],this.M[1][r]);for(n.multiplyP(this.M[1][1],this.M[0][8]),r=4;r>=1;r>>=1)n.multiplyP(this.M[0][r+r],this.M[0][r]);for(t=0;;){for(r=2;r<16;r+=r)for(i=1;i<r;++i)n.xor(this.M[t][r],this.M[t][i],this.M[t][r+i]);if(32==++t)return;if(t>1)for(r=8;r>0;r>>=1)n.multiplyP8(this.M[t-2][r],this.M[t][r])}},o.prototype.multiplyH=function(e){for(var t=[],r=15;r>=0;--r){var n=this.M[r+r][15&e[r]];t[0]^=n[0],t[1]^=n[1],t[2]^=n[2],t[3]^=n[3],n=this.M[r+r+1][(240&e[r])>>>4],t[0]^=n[0],t[1]^=n[1],t[2]^=n[2],t[3]^=n[3]}i.intToBigEndian(t,e,0)},e.exports={"8k":o}},function(e,t,r){"use strict";(function(t){var n=r(56),i=r(5),o=r(162),a=r(91),s=r(36),u=r(30),l=r(160);function c(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=this.blockSize||16}e.exports={createCipher:function(e){var t=new i.aes.Algorithm("AES-GCM",c);return t.initialize({key:new u(e.key)}),t.mode.start(e),t.mode},createDecipher:function(e){var t=new i.aes.Algorithm("AES-GCM",c);return t.initialize({key:new u(e.key)}),t.mode._decrypt=!0,t.mode.start(e),t.mode}},c.prototype.start=function(e){if(this.tag=null,!("iv"in(e=e||{})))throw new Error("Gcm needs ParametersWithIV or AEADParameters");if(this.nonce=e.iv,null==this.nonce||this.nonce.length<1)throw new Error("IV must be at least 1 byte");this.tagLength=16,"tag"in e&&(this.tag=t.from(e.tag));var r=this._decrypt?this.blockSize+this.tagLength:this.blockSize;this.bufBlock=t.alloc(r);var i=e.multiplier;if(null==i&&(i=new o["8k"]),this.multiplier=i,this.H=this.zeroBlock(),l.encrypt(this.cipher,this.H,0,this.H,0),this.multiplier.init(this.H),this.exp=null,this.J0=this.zeroBlock(),12===this.nonce.length)this.nonce.copy(this.J0,0,0,this.nonce.length),this.J0[this.blockSize-1]=1;else{this.gHASH(this.J0,this.nonce,this.nonce.length);var a=this.zeroBlock();s.longToBigEndian(new n(this.nonce.length).multiply(8),a,8),this.gHASHBlock(this.J0,a)}this.S=this.zeroBlock(),this.SAt=this.zeroBlock(),this.SAtPre=this.zeroBlock(),this.atBlock=this.zeroBlock(),this.atBlockPos=0,this.atLength=n.ZERO,this.atLengthPre=n.ZERO,this.counter=t.from(this.J0),this.bufOff=0,this.totalLength=n.ZERO,"additionalData"in e&&this.processAADBytes(e.additionalData,0,e.additionalData.length)},c.prototype.update=function(e,t,r,n,i){for(var o=0;r>0;){var a=Math.min(r,this.bufBlock.length-this.bufOff);e.copy(this.bufBlock,this.bufOff,t,t+a),r-=a,t+=a,this.bufOff+=a,this.bufOff===this.bufBlock.length&&(this.outputBlock(n,i+o),o+=this.blockSize)}return o},c.prototype.finish=function(e,r){var n=0;this._decrypt&&(n+=this.update(this.tag,0,this.tag.length,e,r)),this.totalLength.isZero()&&this.initCipher();var i=this.bufOff;if(this._decrypt){if(i<this.tagLength)throw new Error("data too short");i-=this.tagLength}i>0&&(this.gCTRPartial(this.bufBlock,0,i,e,r+n),n+=i),this.atLength=this.atLength.add(this.atBlockPos);var o=this.zeroBlock();s.longToBigEndian(this.atLength.multiply(8),o,0),s.longToBigEndian(this.totalLength.multiply(8),o,8),this.gHASHBlock(this.S,o);var u=t.alloc(this.blockSize);if(l.encrypt(this.cipher,this.J0,0,u,0),this.xor(u,this.S),this._decrypt){if(!a.arrayEqual(this.tag,u))throw new Error("mac check in Gcm failed")}else this.tag=t.alloc(this.tagLength),u.copy(this.tag,0,0,this.tagLength);return n},c.prototype.initCipher=function(){this.atLength.greaterThan(n.ZERO)&&(this.SAt.copy(this.SAtPre,0,0,this.blockSize),this.atLengthPre=this.atLength.add(n.ZERO)),this.atBlockPos>0&&(this.gHASHPartial(this.SAtPre,this.atBlock,0,this.atBlockPos),this.atLengthPre=this.atLengthPre.add(this.atBlockPos)),this.atLengthPre.greaterThan(n.ZERO)&&this.SAtPre.copy(this.S,0,0,this.blockSize)},c.prototype.outputBlock=function(e,t){this.totalLength.isZero()&&this.initCipher(),this.gCTRBlock(this.bufBlock,e,t),this._decrypt?(this.bufBlock.copy(this.bufBlock,0,this.blockSize,this.blockSize+this.tagLength),this.bufOff=this.tagLength):this.bufOff=0},c.prototype.processAADBytes=function(e,t,r){for(var n=0;n<r;++n)this.atBlock[this.atBlockPos]=e[t+n],++this.atBlockPos===this.blockSize&&(this.gHASHBlock(this.SAt,this.atBlock),this.atBlockPos=0,this.atLength=this.atLength.add(this.blockSize))},c.prototype.getNextCounterBlock=function(){for(var e=15;e>=12;--e){var r=this.counter[e]+1&255;if(this.counter[e]=r,0!==r)break}var n=t.alloc(this.blockSize);return l.encrypt(this.cipher,this.counter,0,n,0),n},c.prototype.gCTRBlock=function(e,t,r){var n=this.getNextCounterBlock();this.xor(n,e),n.copy(t,r,0,this.blockSize),this.gHASHBlock(this.S,this._decrypt?e:n),this.totalLength=this.totalLength.add(this.blockSize)},c.prototype.gCTRPartial=function(e,t,r,n,i){var o=this.getNextCounterBlock();this.xor(o,e,t,r),o.copy(n,i,0,r),this.gHASHPartial(this.S,this._decrypt?e:o,0,r),this.totalLength=this.totalLength.add(r)},c.prototype.gHASHBlock=function(e,t){this.xor(e,t),this.multiplier.multiplyH(e)},c.prototype.gHASHPartial=function(e,t,r,n){this.xor(e,t,r,n),this.multiplier.multiplyH(e)},c.prototype.xor=function(e,t,r,n){switch(arguments.length){case 2:for(var i=15;i>=0;--i)e[i]^=t[i];break;case 4:for(;n-- >0;)e[n]^=t[r+n];break;default:throw new TypeError("Expected 2 or 4 arguments.")}return e},c.prototype.zeroBlock=function(){return t.alloc(16)}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){var n=r(10),i=r(7),o=r(15),a=r(163),s={};["A128GCM","A192GCM","A256GCM","A128GCMKW","A192GCMKW","A256GCMKW"].forEach(function(e){var r=/A(\d+)GCM(KW)?/g.exec(e),u=parseInt(r[1]),l="KW"===r[2];s[e]={encrypt:function(e,r){function s(t,n){if(e!==t.length<<3)throw new Error("invalid key size");if(!n&&!r)throw new Error("invalid iv");if(n&&12!==n.length)throw new Error("invalid iv")}function u(e){if(r){var t=i.base64url.encode(e.iv),n=i.base64url.encode(e.tag);e={data:e.data,header:{iv:t,tag:n}}}return e}return n.setupFallback(function(e,r,o){var a=o.iv,l=o.aad||o.adata||t.alloc(0);try{s(e,a)}catch(e){return Promise.reject(e)}a=a||i.randomBytes(12);var c,f="aes-"+8*e.length+"-gcm";try{c=n.nodeCrypto.createCipheriv(f,e,a)}catch(e){throw new Error("unsupported algorithm: "+f)}if("function"!=typeof c.setAAD)throw new Error("unsupported algorithm: "+f);return l.length&&c.setAAD(l),u({data:t.concat([c.update(r),c.final()]),iv:a,tag:c.getAuthTag()})},function(e,r,o){var a=o.iv,l=o.aad||o.adata||t.alloc(0);try{s(e,a)}catch(e){return Promise.reject(e)}a=a||i.randomBytes(12);var c={name:"AES-GCM"};return n.subtleCrypto.importKey("raw",e,c,!0,["encrypt"]).then(function(e){return c.iv=a,c.tagLength=128,l.length&&(c.additionalData=l),n.subtleCrypto.encrypt(c,e,r)}).then(function(e){var r=e.byteLength-16,n=e.slice(r);n=t.from(n);var i=e.slice(0,r);return u({data:i=t.from(i),iv:a,tag:n})})},function(e,r,n){var l,c,f=n.iv,h=n.aad||n.adata||t.alloc(0);try{s(e,f)}catch(e){return Promise.reject(e)}return f=f||i.randomBytes(12),l=a.createCipher({key:e,iv:f,additionalData:h}),c=t.alloc(r.length),new Promise(function(e,t){var n=o.CHUNK_SIZE,i=0,a=0;!function o(){var s=Math.min(n,r.length-a);if(i+=l.update(r,a,s,c,i),a+=s,r.length>a)setTimeout(o,0);else if((i+=l.finish(c,i))===r.length){var h=l.tag;e(u({data:c,iv:f,tag:h}))}else t(new Error("encryption failed"))}()})})}(u,l),decrypt:function(e){function r(t,r,n){if(e!==t.length<<3)throw new Error("invalid key size");if(12!==r.length)throw new Error("invalid iv");if(16!==n.length)throw new Error("invalid tag length")}return n.setupFallback(function(e,i,o){var a=o.aad||o.adata||t.alloc(0),s=o.iv||t.alloc(0),u=o.tag||o.mac||t.alloc(0);try{r(e,s,u)}catch(e){return Promise.reject(e)}var l,c="aes-"+8*e.length+"-gcm";try{l=n.nodeCrypto.createDecipheriv(c,e,s)}catch(e){throw new Error("unsupported algorithm: "+c)}if("function"!=typeof l.setAAD)throw new Error("unsupported algorithm: "+c);l.setAuthTag(u),a.length&&l.setAAD(a);try{return t.concat([l.update(i),l.final()])}catch(e){throw new Error("decryption failed")}},function(e,i,o){var a=o.aad||o.adata||t.alloc(0),s=o.iv||t.alloc(0),u=o.tag||o.mac||t.alloc(0);try{r(e,s,u)}catch(e){return Promise.reject(e)}var l={name:"AES-GCM"};return n.subtleCrypto.importKey("raw",e,l,!0,["decrypt"]).then(function(e){return l.iv=s,l.tagLength=128,a.length&&(l.additionalData=a),i=t.concat([i,u],i.length+u.length),n.subtleCrypto.decrypt(l,e,i)}).then(function(e){return t.from(e)})},function(e,n,i){var s,u,l=i.aad||i.adata||t.alloc(0),c=i.iv||t.alloc(0),f=i.tag||i.mac||t.alloc(0);try{r(e,c,f)}catch(e){return Promise.reject(e)}return s=a.createDecipher({key:e,iv:c,additionalData:l,tag:f}),u=t.alloc(n.length),new Promise(function(e,t){var r=o.CHUNK_SIZE,i=0,a=0;!function o(){var l=Math.min(r,n.length-a);if(i+=s.update(n,a,l,u,i),a+=l,n.length>a)setTimeout(o,0);else{try{i+=s.finish(u,i)}catch(e){return void t(new Error("decryption failed"))}i===n.length?e(u):t(new Error("decryption failed"))}}()})})}(u)}}),e.exports=s}).call(this,r(1).Buffer)},function(e,t){},function(e,t,r){"use strict";(function(t){var n=r(10),i=r(57),o=r(37),a=r(5),s=r(30),u=r(7);function l(e){if(16!==e.length)throw new Error("invalid iv")}function c(e){return n.setupFallback(function(r,i,o){try{l(o)}catch(e){return Promise.reject(e)}var a=Promise.resolve(i);return a.then(function(i){var a="AES-"+e+"-CBC",s=n.nodeCrypto.createCipheriv(a,r,o);return t.concat([s.update(i),s.final()])})},function(e,r,i){try{l(i)}catch(e){return Promise.reject(e)}var o=Promise.resolve();return(o=(o=o.then(function(){return n.subtleCrypto.importKey("raw",e,{name:"AES-CBC"},!0,["encrypt"])})).then(function(e){var t={name:"AES-CBC",iv:i};return n.subtleCrypto.encrypt(t,e,r)})).then(function(e){return t.from(e)})},function(e,t,r){try{l(r)}catch(e){return Promise.reject(e)}var n=Promise.resolve();return n.then(function(){var n=a.cipher.createCipher("AES-CBC",new s(e));return n.start({iv:new s(r)}),n.update(new s(t)),n.finish()?n.output.native():Promise.reject(new Error("encryption failed"))})})}function f(e){return n.setupFallback(function(r,i,o){try{l(o)}catch(e){return Promise.reject(e)}var a=Promise.resolve();return a.then(function(){var a="AES-"+e+"-CBC",s=n.nodeCrypto.createDecipheriv(a,r,o);return t.concat([s.update(i),s.final()])})},function(e,r,i){try{l(i)}catch(e){return Promise.reject(e)}var o=Promise.resolve();return(o=(o=o.then(function(){return n.subtleCrypto.importKey("raw",e,{name:"AES-CBC"},!0,["decrypt"])})).then(function(e){var t={name:"AES-CBC",iv:i};return n.subtleCrypto.decrypt(t,e,r)})).then(function(e){return t.from(e)})},function(e,t,r){try{l(r)}catch(e){return Promise.reject(e)}var n=Promise.resolve();return n.then(function(){var n=a.cipher.createDecipher("AES-CBC",new s(e));return n.start({iv:new s(r)}),n.update(new s(t)),n.finish()?n.output.native():Promise.reject(new Error("encryption failed"))})})}function h(e,t){if(t<<1!=e.length<<3)throw new Error("invalid encryption key size")}var p=t.from("Encryption","utf8"),d=t.from("Integrity","utf8"),g=t.from(".","utf8");function y(e,r,i,a){var s=8*e.length,u=s/2,l=Promise.resolve();return l=(l=l.then(function(){return t.concat([n.int32ToBuffer(1),e,n.int32ToBuffer(u),t.from(r,"utf8"),i,a,p])})).then(function(e){return o["SHA-"+s].digest(e).then(function(e){return e.slice(0,u/8)})}),Promise.resolve(l)}function v(e,r,i,a){var s=8*e.length,u=s,l=Promise.resolve();return l=(l=l.then(function(){return t.concat([n.int32ToBuffer(1),e,n.int32ToBuffer(u),t.from(r,"utf8"),i,a,d])})).then(function(e){return o["SHA-"+s].digest(e).then(function(e){return e.slice(0,u/8)})}),Promise.resolve(l)}var m={};["A128CBC-HS256","A192CBC-HS384","A256CBC-HS512"].forEach(function(e){var r=parseInt(/A(\d+)CBC-HS(\d+)?/g.exec(e)[1]);m[e]={encrypt:function(e){var r=c(e);return function(o,a,s){try{h(o,e)}catch(e){return Promise.reject(e)}var u=o.slice(e/8),l=o.slice(0,e/8),c=s.iv||t.alloc(0),f=s.aad||s.adata||t.alloc(0),p=r(u,a,c);return p.then(function(r){var o=t.concat([f,c,r,n.int64ToBuffer(8*f.length)]);return i["HS"+2*e].sign(l,o,{length:e}).then(function(t){var n=t.mac.slice(0,e/8);return{data:r,tag:n}})})}}(r),decrypt:function(e){var r=f(e);return function(o,a,s){try{h(o,e)}catch(e){return Promise.reject(e)}var u=o.slice(e/8),l=o.slice(0,e/8),c=s.iv||t.alloc(0),f=s.aad||s.adata||t.alloc(0),p=s.tag||s.mac||t.alloc(0),d=Promise.resolve();return(d=d.then(function(){var r=t.concat([f,c,a,n.int64ToBuffer(8*f.length)]);return i["HS"+2*e].verify(l,r,p,{length:e}).then(function(){return a},function(){throw new Error("mac check failed")})})).then(function(){return r(u,a,c)})}}(r)}}),["A128CBC+HS256","A192CBC+HS384","A256CBC+HS512"].forEach(function(e){var r=parseInt(/A(\d+)CBC\+HS(\d+)?/g.exec(e)[1]);m[e]={encrypt:function(e,r){var o=c(e);return function(a,s,l){var c,f,h=l.epu||n.int32ToBuffer(0),p=l.epv||n.int32ToBuffer(0),d=l.iv||t.alloc(0),m=l.aad||l.adata||t.alloc(0),b=l.kdata||t.alloc(0),w=[y(a,r,h,p),v(a,r,h,p)],C=Promise.all(w).then(function(e){c=e[0],f=e[1]});return(C=(C=C.then(function(){return o(c,s,d)})).then(function(r){var n=t.concat([m,g,t.from(b),g,t.from(u.base64url.encode(d),"utf8"),g,t.from(u.base64url.encode(r),"utf8")]);return Promise.all([Promise.resolve(r),i["HS"+2*e].sign(f,n,{length:e})])})).then(function(e){return{data:e[0],tag:e[1].mac}})}}(r,e),decrypt:function(e,r){var o=f(e);return function(a,s,l){var c,f,h=l.epu||n.int32ToBuffer(0),p=l.epv||n.int32ToBuffer(0),d=l.iv||t.alloc(0),m=l.aad||l.adata||t.alloc(0),b=l.kdata||t.alloc(0),w=l.tag||l.mac||t.alloc(0),C=[y(a,r,h,p),v(a,r,h,p)],E=Promise.all(C).then(function(e){c=e[0],f=e[1]});return(E=E.then(function(){var r=t.concat([m,g,t.from(b),g,t.from(u.base64url.encode(d),"utf8"),g,t.from(u.base64url.encode(s),"utf8")]);try{return i["HS"+2*e].verify(f,r,w,{loose:!1})}catch(e){throw new Error("mac check failed")}})).then(function(){return o(c,s,d)})}}(r,e)}}),e.exports=m}).call(this,r(1).Buffer)},function(e,t,r){var n=r(93),i=r(92);e.exports=function(e,t,r){var o=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},function(e,t,r){var n,i,o=r(93),a=r(92),s=0,u=0;e.exports=function(e,t,r){var l=t&&r||0,c=t||[],f=(e=e||{}).node||n,h=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==h){var p=o();null==f&&(f=n=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==h&&(h=i=16383&(p[6]<<8|p[7]))}var d=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:u+1,y=d-s+(g-u)/1e4;if(y<0&&void 0===e.clockseq&&(h=h+1&16383),(y<0||d>s)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=d,u=g,i=h;var v=(1e4*(268435455&(d+=122192928e5))+g)%4294967296;c[l++]=v>>>24&255,c[l++]=v>>>16&255,c[l++]=v>>>8&255,c[l++]=255&v;var m=d/4294967296*1e4&268435455;c[l++]=m>>>8&255,c[l++]=255&m,c[l++]=m>>>24&15|16,c[l++]=m>>>16&255,c[l++]=h>>>8|128,c[l++]=255&h;for(var b=0;b<6;++b)c[l+b]=f[b];return t||a(c)}},function(e,t,r){var n=r(168),i=r(167),o=i;o.v1=n,o.v4=i,e.exports=o},function(e,t,r){(function(t){var r="__lodash_hash_undefined__",n=9007199254740991,i="[object Function]",o="[object GeneratorFunction]",a=/^\[object .+?Constructor\]$/,s="object"==typeof t&&t&&t.Object===Object&&t,u="object"==typeof self&&self&&self.Object===Object&&self,l=s||u||Function("return this")();function c(e,t){return!(!e||!e.length)&&function(e,t,r){if(t!=t)return function(e,t,r,n){for(var i=e.length,o=-1;++o<i;)if(t(e[o],o,e))return o;return-1}(e,h);for(var n=-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}(e,t)>-1}function f(e,t){for(var r=-1,n=e?e.length:0,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function h(e){return e!=e}function p(e,t){return e.has(t)}var d,g=Array.prototype,y=Function.prototype,v=Object.prototype,m=l["__core-js_shared__"],b=(d=/[^.]+$/.exec(m&&m.keys&&m.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",w=y.toString,C=v.hasOwnProperty,E=v.toString,S=RegExp("^"+w.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=g.splice,A=Math.max,_=Math.min,k=D(l,"Map"),I=D(Object,"create");function x(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function B(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function N(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function L(e){var t=-1,r=e?e.length:0;for(this.__data__=new N;++t<r;)this.add(e[t])}function R(e,t){for(var r,n,i=e.length;i--;)if((r=e[i][0])===(n=t)||r!=r&&n!=n)return i;return-1}function O(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}(e.length)&&!j(e)}(e)}(e)?e:[]}function P(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function D(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!H(e)||b&&b in e)&&(j(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?S:a).test(function(e){if(null!=e){try{return w.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(r)?r:void 0}x.prototype.clear=function(){this.__data__=I?I(null):{}},x.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},x.prototype.get=function(e){var t=this.__data__;if(I){var n=t[e];return n===r?void 0:n}return C.call(t,e)?t[e]:void 0},x.prototype.has=function(e){var t=this.__data__;return I?void 0!==t[e]:C.call(t,e)},x.prototype.set=function(e,t){return this.__data__[e]=I&&void 0===t?r:t,this},B.prototype.clear=function(){this.__data__=[]},B.prototype.delete=function(e){var t=this.__data__,r=R(t,e);return!(r<0||(r==t.length-1?t.pop():T.call(t,r,1),0))},B.prototype.get=function(e){var t=this.__data__,r=R(t,e);return r<0?void 0:t[r][1]},B.prototype.has=function(e){return R(this.__data__,e)>-1},B.prototype.set=function(e,t){var r=this.__data__,n=R(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},N.prototype.clear=function(){this.__data__={hash:new x,map:new(k||B),string:new x}},N.prototype.delete=function(e){return P(this,e).delete(e)},N.prototype.get=function(e){return P(this,e).get(e)},N.prototype.has=function(e){return P(this,e).has(e)},N.prototype.set=function(e,t){return P(this,e).set(e,t),this},L.prototype.add=L.prototype.push=function(e){return this.__data__.set(e,r),this},L.prototype.has=function(e){return this.__data__.has(e)};var F,U,M=(F=function(e){var t=f(e,O);return t.length&&t[0]===e[0]?function(e,t,r){for(var n=c,i=e[0].length,o=e.length,a=o,s=Array(o),u=1/0,l=[];a--;){var f=e[a];u=_(f.length,u),s[a]=i>=120&&f.length>=120?new L(a&&f):void 0}f=e[0];var h=-1,d=s[0];e:for(;++h<i&&l.length<u;){var g=f[h],y=g;if(g=0!==g?g:0,!(d?p(d,y):n(l,y,r))){for(a=o;--a;){var v=s[a];if(!(v?p(v,y):n(e[a],y,r)))continue e}d&&d.push(y),l.push(g)}}return l}(t):[]},U=A(void 0===U?F.length-1:U,0),function(){for(var e=arguments,t=-1,r=A(e.length-U,0),n=Array(r);++t<r;)n[t]=e[U+t];t=-1;for(var i=Array(U+1);++t<U;)i[t]=e[t];return i[U]=n,function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(F,this,i)});function j(e){var t=H(e)?E.call(e):"";return t==i||t==o}function H(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=M}).call(this,r(6))},function(e,t,r){(function(t){var r=9007199254740991,n="[object Arguments]",i="[object Function]",o="[object GeneratorFunction]",a="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,u=a||s||Function("return this")();function l(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var c=Object.prototype,f=c.hasOwnProperty,h=c.toString,p=u.Symbol,d=c.propertyIsEnumerable,g=p?p.isConcatSpreadable:void 0;function y(e){return v(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?h.call(e):"";return t==i||t==o}(e)}(e)}(e)&&f.call(e,"callee")&&(!d.call(e,"callee")||h.call(e)==n)}(e)||!!(g&&e&&e[g])}var v=Array.isArray;e.exports=function(e){return e&&e.length?function e(t,r,n,i,o){var a=-1,s=t.length;for(n||(n=y),o||(o=[]);++a<s;){var u=t[a];r>0&&n(u)?r>1?e(u,r-1,n,i,o):l(o,u):i||(o[o.length]=u)}return o}(e,1):[]}}).call(this,r(6))},function(e,t,r){"use strict";var n=t;n.encode=function(e){var t=encodeURIComponent(e||"");return t.replace(/%([0-9a-fA-F]{2})/g,function(e,t){return t=parseInt(t,16),String.fromCharCode(t)})},n.decode=function(e){var t=(e||"").replace(/[\u0080-\u00ff]/g,function(e){return"%"+(256|e.charCodeAt(0)).toString(16).substring(1)});return decodeURIComponent(t)}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){let r=t.length,n=r%4;if(!n)return t;let i=r,o=4-n,a=r+o,s=e.alloc(a);for(s.write(t);o--;)s.write("=",i++);return s.toString()}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const n=r(173);function i(t,r="utf8"){return e.isBuffer(t)?a(t.toString("base64")):a(e.from(t,r).toString("base64"))}function o(e){return e=e.toString(),n.default(e).replace(/\-/g,"+").replace(/_/g,"/")}function a(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}let s=i;s.encode=i,s.decode=function(t,r="utf8"){return e.from(o(t),"base64").toString(r)},s.toBase64=o,s.fromBase64=a,s.toBuffer=function(t){return e.from(o(t),"base64")},t.default=s}).call(this,r(1).Buffer)},function(e,t,r){var n=r(2);r(66),e.exports=n.mgf=n.mgf||{},n.mgf.mgf1=n.mgf1},function(e,t,r){(function(t){var r={};e.exports=r;var n={};r.encode=function(e,t,r){if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');if(void 0!==r&&"number"!=typeof r)throw new TypeError('"maxline" must be a number.');var n="";if(e instanceof Uint8Array){var i=0,o=t.length,a=t.charAt(0),s=[0];for(i=0;i<e.length;++i){for(var u=0,l=e[i];u<s.length;++u)l+=s[u]<<8,s[u]=l%o,l=l/o|0;for(;l>0;)s.push(l%o),l=l/o|0}for(i=0;0===e[i]&&i<e.length-1;++i)n+=a;for(i=s.length-1;i>=0;--i)n+=t[s[i]]}else n=function(e,t){var r=0,n=t.length,i=t.charAt(0),o=[0];for(r=0;r<e.length();++r){for(var a=0,s=e.at(r);a<o.length;++a)s+=o[a]<<8,o[a]=s%n,s=s/n|0;for(;s>0;)o.push(s%n),s=s/n|0}var u="";for(r=0;0===e.at(r)&&r<e.length()-1;++r)u+=i;for(r=o.length-1;r>=0;--r)u+=t[o[r]];return u}(e,t);if(r){var c=new RegExp(".{1,"+r+"}","g");n=n.match(c).join("\r\n")}return n},r.decode=function(e,r){if("string"!=typeof e)throw new TypeError('"input" must be a string.');if("string"!=typeof r)throw new TypeError('"alphabet" must be a string.');var i=n[r];if(!i){i=n[r]=[];for(var o=0;o<r.length;++o)i[r.charCodeAt(o)]=o}e=e.replace(/\s/g,"");var a=r.length,s=r.charAt(0),u=[0];for(o=0;o<e.length;o++){var l=i[e.charCodeAt(o)];if(void 0===l)return;for(var c=0,f=l;c<u.length;++c)f+=u[c]*a,u[c]=255&f,f>>=8;for(;f>0;)u.push(255&f),f>>=8}for(var h=0;e[h]===s&&h<e.length-1;++h)u.push(0);return void 0!==t?t.from(u.reverse()):new Uint8Array(u.reverse())}}).call(this,r(1).Buffer)},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,i,o,a,s,u=1,l={},c=!1,f=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick(function(){d(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&d(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),n=function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){d(e.data)},n=function(e){o.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,n=function(e){var t=f.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):n=function(e){setTimeout(d,0,e)},h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return l[u]=i,n(u),u++},h.clearImmediate=p}function p(e){delete l[e]}function d(e){if(c)setTimeout(d,0,e);else{var t=l[e];if(t){c=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{p(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r(6),r(14))},function(e,t,r){(function(e,r){var n="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object AsyncFunction]",s="[object Function]",u="[object GeneratorFunction]",l="[object Null]",c="[object Object]",f="[object Proxy]",h="[object Undefined]",p=/^\[object .+?Constructor\]$/,d=/^(?:0|[1-9]\d*)$/,g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g[o]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g[s]=g["[object Map]"]=g["[object Number]"]=g[c]=g["[object RegExp]"]=g["[object Set]"]=g["[object String]"]=g["[object WeakMap]"]=!1;var y="object"==typeof e&&e&&e.Object===Object&&e,v="object"==typeof self&&self&&self.Object===Object&&self,m=y||v||Function("return this")(),b="object"==typeof t&&t&&!t.nodeType&&t,w=b&&"object"==typeof r&&r&&!r.nodeType&&r,C=w&&w.exports===b,E=C&&y.process,S=function(){try{return E&&E.binding&&E.binding("util")}catch(e){}}(),T=S&&S.isTypedArray;function A(e,t){return"__proto__"==t?void 0:e[t]}var _,k,I,x=Array.prototype,B=Function.prototype,N=Object.prototype,L=m["__core-js_shared__"],R=B.toString,O=N.hasOwnProperty,P=(_=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||""))?"Symbol(src)_1."+_:"",D=N.toString,F=R.call(Object),U=RegExp("^"+R.call(O).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),M=C?m.Buffer:void 0,j=m.Symbol,H=m.Uint8Array,K=(M&&M.allocUnsafe,k=Object.getPrototypeOf,I=Object,function(e){return k(I(e))}),V=Object.create,z=N.propertyIsEnumerable,W=x.splice,q=j?j.toStringTag:void 0,G=function(){try{var e=pe(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Y=M?M.isBuffer:void 0,X=Math.max,Z=Date.now,Q=pe(m,"Map"),J=pe(Object,"create"),$=function(){function e(){}return function(t){if(!Te(t))return{};if(V)return V(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function ee(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function te(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function re(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ne(e){var t=this.__data__=new te(e);this.size=t.size}function ie(e,t,r){(void 0===r||ve(e[t],r))&&(void 0!==r||t in e)||se(e,t,r)}function oe(e,t,r){var n=e[t];O.call(e,t)&&ve(n,r)&&(void 0!==r||t in e)||se(e,t,r)}function ae(e,t){for(var r=e.length;r--;)if(ve(e[r][0],t))return r;return-1}function se(e,t,r){"__proto__"==t&&G?G(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}ee.prototype.clear=function(){this.__data__=J?J(null):{},this.size=0},ee.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ee.prototype.get=function(e){var t=this.__data__;if(J){var r=t[e];return r===n?void 0:r}return O.call(t,e)?t[e]:void 0},ee.prototype.has=function(e){var t=this.__data__;return J?void 0!==t[e]:O.call(t,e)},ee.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=J&&void 0===t?n:t,this},te.prototype.clear=function(){this.__data__=[],this.size=0},te.prototype.delete=function(e){var t=this.__data__,r=ae(t,e);return!(r<0||(r==t.length-1?t.pop():W.call(t,r,1),--this.size,0))},te.prototype.get=function(e){var t=this.__data__,r=ae(t,e);return r<0?void 0:t[r][1]},te.prototype.has=function(e){return ae(this.__data__,e)>-1},te.prototype.set=function(e,t){var r=this.__data__,n=ae(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},re.prototype.clear=function(){this.size=0,this.__data__={hash:new ee,map:new(Q||te),string:new ee}},re.prototype.delete=function(e){var t=he(this,e).delete(e);return this.size-=t?1:0,t},re.prototype.get=function(e){return he(this,e).get(e)},re.prototype.has=function(e){return he(this,e).has(e)},re.prototype.set=function(e,t){var r=he(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},ne.prototype.clear=function(){this.__data__=new te,this.size=0},ne.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},ne.prototype.get=function(e){return this.__data__.get(e)},ne.prototype.has=function(e){return this.__data__.has(e)},ne.prototype.set=function(e,t){var r=this.__data__;if(r instanceof te){var n=r.__data__;if(!Q||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new re(n)}return r.set(e,t),this.size=r.size,this};var ue=function(e,t,r){for(var n=-1,i=Object(e),o=r(e),a=o.length;a--;){var s=o[++n];if(!1===t(i[s],s,i))break}return e};function le(e){return null==e?void 0===e?h:l:q&&q in Object(e)?function(e){var t=O.call(e,q),r=e[q];try{e[q]=void 0;var n=!0}catch(e){}var i=D.call(e);return n&&(t?e[q]=r:delete e[q]),i}(e):function(e){return D.call(e)}(e)}function ce(e){return Ae(e)&&le(e)==o}function fe(e,t,r,n,i){e!==t&&ue(t,function(o,a){if(Te(o))i||(i=new ne),function(e,t,r,n,i,o,a){var s=A(e,r),u=A(t,r),l=a.get(u);if(l)ie(e,r,l);else{var f,h,p,d,g,y=o?o(s,u,r+"",e,t,a):void 0,v=void 0===y;if(v){var m=be(u),b=!m&&Ce(u),w=!m&&!b&&_e(u);y=u,m||b||w?be(s)?y=s:Ae(g=s)&&we(g)?y=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(s):b?(v=!1,y=function(e,t){return e.slice()}(u)):w?(v=!1,d=new(p=(f=u).buffer).constructor(p.byteLength),new H(d).set(new H(p)),h=d,y=new f.constructor(h,f.byteOffset,f.length)):y=[]:function(e){if(!Ae(e)||le(e)!=c)return!1;var t=K(e);if(null===t)return!0;var r=O.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&R.call(r)==F}(u)||me(u)?(y=s,me(s)?y=function(e,t,r,n){var i=!r;r||(r={});for(var o=-1,a=t.length;++o<a;){var s=t[o],u=void 0;void 0===u&&(u=e[s]),i?se(r,s,u):oe(r,s,u)}return r}(s,ke(s)):(!Te(s)||n&&Ee(s))&&(y=function(e){return"function"!=typeof e.constructor||ge(e)?{}:$(K(e))}(u))):v=!1}v&&(a.set(u,y),i(y,u,n,o,a),a.delete(u)),ie(e,r,y)}}(e,t,a,r,fe,n,i);else{var s=n?n(A(e,a),o,a+"",e,t,i):void 0;void 0===s&&(s=o),ie(e,a,s)}},ke)}function he(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function pe(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Te(e)||P&&P in e)&&(Ee(e)?U:p).test(function(e){if(null!=e){try{return R.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(r)?r:void 0}function de(e,t){var r=typeof e;return!!(t=null==t?i:t)&&("number"==r||"symbol"!=r&&d.test(e))&&e>-1&&e%1==0&&e<t}function ge(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||N)}var ye=function(e){var t=0,r=0;return function(){var n=Z(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(G?function(e,t){return G(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:Be);function ve(e,t){return e===t||e!=e&&t!=t}var me=ce(function(){return arguments}())?ce:function(e){return Ae(e)&&O.call(e,"callee")&&!z.call(e,"callee")},be=Array.isArray;function we(e){return null!=e&&Se(e.length)&&!Ee(e)}var Ce=Y||function(){return!1};function Ee(e){if(!Te(e))return!1;var t=le(e);return t==s||t==u||t==a||t==f}function Se(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function Te(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ae(e){return null!=e&&"object"==typeof e}var _e=T?function(e){return function(t){return e(t)}}(T):function(e){return Ae(e)&&Se(e.length)&&!!g[le(e)]};function ke(e){return we(e)?function(e,t){var r=be(e),n=!r&&me(e),i=!r&&!n&&Ce(e),o=!r&&!n&&!i&&_e(e),a=r||n||i||o,s=a?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],u=s.length;for(var l in e)!t&&!O.call(e,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||de(l,u))||s.push(l);return s}(e,!0):function(e){if(!Te(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=ge(e),r=[];for(var n in e)("constructor"!=n||!t&&O.call(e,n))&&r.push(n);return r}(e)}var Ie,xe=(Ie=function(e,t,r){fe(e,t,r)},function(e,t){return ye(function(e,t,r){return t=X(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=X(n.length-t,0),a=Array(o);++i<o;)a[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(a),function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(e,this,s)}}(e,t,Be),e+"")}(function(e,t){var r=-1,n=t.length,i=n>1?t[n-1]:void 0,o=n>2?t[2]:void 0;for(i=Ie.length>3&&"function"==typeof i?(n--,i):void 0,o&&function(e,t,r){if(!Te(r))return!1;var n=typeof t;return!!("number"==n?we(r)&&de(t,r.length):"string"==n&&t in r)&&ve(r[t],e)}(t[0],t[1],o)&&(i=n<3?void 0:i,n=1),e=Object(e);++r<n;){var a=t[r];a&&Ie(e,a,r)}return e}));function Be(e){return e}r.exports=xe}).call(this,r(6),r(106)(e))},function(e,t,r){(function(t){var r="Expected a function",n="__lodash_placeholder__",i=1,o=2,a=4,s=8,u=16,l=32,c=64,f=128,h=512,p=1/0,d=9007199254740991,g=1.7976931348623157e308,y=NaN,v=[["ary",f],["bind",i],["bindKey",o],["curry",s],["curryRight",u],["flip",h],["partial",l],["partialRight",c],["rearg",256]],m="[object Function]",b="[object GeneratorFunction]",w="[object Symbol]",C=/^\s+|\s+$/g,E=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,S=/\{\n\/\* \[wrapped with (.+)\] \*/,T=/,? & /,A=/^[-+]0x[0-9a-f]+$/i,_=/^0b[01]+$/i,k=/^\[object .+?Constructor\]$/,I=/^0o[0-7]+$/i,x=/^(?:0|[1-9]\d*)$/,B=parseInt,N="object"==typeof t&&t&&t.Object===Object&&t,L="object"==typeof self&&self&&self.Object===Object&&self,R=N||L||Function("return this")();function O(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function P(e){return e!=e}function D(e,t){for(var r=-1,i=e.length,o=0,a=[];++r<i;){var s=e[r];s!==t&&s!==n||(e[r]=n,a[o++]=r)}return a}var F,U,M,j=Function.prototype,H=Object.prototype,K=R["__core-js_shared__"],V=(F=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||""))?"Symbol(src)_1."+F:"",z=j.toString,W=H.hasOwnProperty,q=H.toString,G=RegExp("^"+z.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y=Object.create,X=Math.max,Z=Math.min,Q=(U=ne(Object,"defineProperty"),(M=ne.name)&&M.length>2?U:void 0);function J(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r,n=se(r=e.prototype)?Y(r):{},i=e.apply(n,t);return se(i)?i:n}}function $(e,t,r,n,a,l,c,p,d,g){var y=t&f,v=t&i,m=t&o,b=t&(s|u),w=t&h,C=m?void 0:J(e);return function i(){for(var o=arguments.length,s=Array(o),u=o;u--;)s[u]=arguments[u];if(b)var f=re(i),h=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&n++;return n}(s,f);if(n&&(s=function(e,t,r,n){for(var i=-1,o=e.length,a=r.length,s=-1,u=t.length,l=X(o-a,0),c=Array(u+l),f=!n;++s<u;)c[s]=t[s];for(;++i<a;)(f||i<o)&&(c[r[i]]=e[i]);for(;l--;)c[s++]=e[i++];return c}(s,n,a,b)),l&&(s=function(e,t,r,n){for(var i=-1,o=e.length,a=-1,s=r.length,u=-1,l=t.length,c=X(o-s,0),f=Array(c+l),h=!n;++i<c;)f[i]=e[i];for(var p=i;++u<l;)f[p+u]=t[u];for(;++a<s;)(h||i<o)&&(f[p+r[a]]=e[i++]);return f}(s,l,c,b)),o-=h,b&&o<g){var E=D(s,f);return ee(e,t,$,i.placeholder,r,s,E,p,d,g-o)}var S=v?r:this,T=m?S[e]:e;return o=s.length,p?s=function(e,t){for(var r=e.length,n=Z(t.length,r),i=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(e);n--;){var o=t[n];e[n]=ie(o,r)?i[o]:void 0}return e}(s,p):w&&o>1&&s.reverse(),y&&d<o&&(s.length=d),this&&this!==R&&this instanceof i&&(T=C||J(T)),T.apply(S,s)}}function ee(e,t,r,n,u,f,h,p,d,g){var y=t&s;t|=y?l:c,(t&=~(y?c:l))&a||(t&=~(i|o));var v=r(e,t,u,y?f:void 0,y?h:void 0,y?void 0:f,y?void 0:h,p,d,g);return v.placeholder=n,oe(v,e,t)}function te(e,t,n,a,f,h,p,d){var g=t&o;if(!g&&"function"!=typeof e)throw new TypeError(r);var y=a?a.length:0;if(y||(t&=~(l|c),a=f=void 0),p=void 0===p?p:X(ue(p),0),d=void 0===d?d:ue(d),y-=f?f.length:0,t&c){var v=a,m=f;a=f=void 0}var b=[e,t,n,a,f,v,m,h,p,d];if(e=b[0],t=b[1],n=b[2],a=b[3],f=b[4],!(d=b[9]=null==b[9]?g?0:e.length:X(b[9]-y,0))&&t&(s|u)&&(t&=~(s|u)),t&&t!=i)w=t==s||t==u?function(e,t,r){var n=J(e);return function i(){for(var o=arguments.length,a=Array(o),s=o,u=re(i);s--;)a[s]=arguments[s];var l=o<3&&a[0]!==u&&a[o-1]!==u?[]:D(a,u);return(o-=l.length)<r?ee(e,t,$,i.placeholder,void 0,a,l,void 0,void 0,r-o):O(this&&this!==R&&this instanceof i?n:e,this,a)}}(e,t,d):t!=l&&t!=(i|l)||f.length?$.apply(void 0,b):function(e,t,r,n){var o=t&i,a=J(e);return function t(){for(var i=-1,s=arguments.length,u=-1,l=n.length,c=Array(l+s),f=this&&this!==R&&this instanceof t?a:e;++u<l;)c[u]=n[u];for(;s--;)c[u++]=arguments[++i];return O(f,o?r:this,c)}}(e,t,n,a);else var w=function(e,t,r){var n=t&i,o=J(e);return function t(){return(this&&this!==R&&this instanceof t?o:e).apply(n?r:this,arguments)}}(e,t,n);return oe(w,e,t)}function re(e){return e.placeholder}function ne(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!se(e)||V&&V in e)&&(function(e){var t=se(e)?q.call(e):"";return t==m||t==b}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?G:k).test(function(e){if(null!=e){try{return z.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(r)?r:void 0}function ie(e,t){return!!(t=null==t?d:t)&&("number"==typeof e||x.test(e))&&e>-1&&e%1==0&&e<t}var oe=Q?function(e,t,r){var n,i=t+"";return Q(e,"toString",{configurable:!0,enumerable:!1,value:(n=function(e,t){var r=t.length,n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(E,"{\n/* [wrapped with "+t+"] */\n")}(i,function(e,t){return function(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r]););}(v,function(r){var n="_."+r[0];t&r[1]&&!function(e,t){return!(!e||!e.length)&&function(e,t,r){if(t!=t)return function(e,t,r,n){for(var i=e.length,o=-1;++o<i;)if(t(e[o],o,e))return o;return-1}(e,P);for(var n=-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}(e,t)>-1}(e,n)&&e.push(n)}),e.sort()}(function(e){var t=i.match(S);return t?t[1].split(T):[]}(),r)),function(){return n})})}:function(e){return e},ae=function(e,t){return t=X(void 0===t?e.length-1:t,0),function(){for(var r=arguments,n=-1,i=X(r.length-t,0),o=Array(i);++n<i;)o[n]=r[t+n];n=-1;for(var a=Array(t+1);++n<t;)a[n]=r[n];return a[t]=o,O(e,this,a)}}(function(e,t){var r=D(t,re(ae));return te(e,c,void 0,t,r)});function se(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ue(e){var t=function(e){return e?(e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&q.call(e)==w}(e))return y;if(se(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=se(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(C,"");var r=_.test(e);return r||I.test(e)?B(e.slice(2),r?2:8):A.test(e)?y:+e}(e))===p||e===-p?(e<0?-1:1)*g:e==e?e:0:0===e?e:0}(e),r=t%1;return t==t?r?t-r:t:0}ae.placeholder={},e.exports=ae}).call(this,r(6))},function(e,t,r){"use strict";(function(t){var n=r(17),i=r(19),o=r(105),a=r(7),s=r(25),u=r(149).slice,l=r(148),c=function(e,r){var i=!1,o=e.format||"general",s=t.alloc(0);Object.defineProperty(this,"compact",{get:function(){return"compact"===o},enumerable:!0}),Object.defineProperty(this,"format",{get:function(){return o},enumerable:!0}),Object.defineProperty(this,"update",{value:function(e,r){if(i)throw new Error("already final");return null!=e&&(e=a.asBuffer(e,r),s=s.length?t.concat([s,e],s.length+e.length):e),this}}),Object.defineProperty(this,"final",{value:function(e,u){if(i)return Promise.reject(new Error("already final"));var l;switch(this.update(e,u),i=!0,l=(l=(l=Promise.all(r)).then(function(e){return s=a.base64url.encode(s),e=e.map(function(e){var r={},i=0,o=n(e.header),u=Object.keys(o).length;e.protected.forEach(function(e){e in o&&(r[e]=o[e],i++,delete o[e],u--)}),i>0?(r=JSON.stringify(r),r=a.base64url.encode(r)):r="";var l=t.from(r+"."+s,"ascii");return(e=e.key.sign(e.header.alg,l,e.header)).then(function(e){var t={};return 0<i&&(t.protected=r),0<u&&(t.header=o),t.signature=a.base64url.encode(e.mac),t})}),e=[Promise.resolve(s)].concat(e),Promise.all(e)})).then(function(e){return{payload:e[0],signatures:e.slice(1)}}),o){case"compact":l=l.then(function(e){var t=[e.signatures[0].protected,e.payload,e.signatures[0].signature];return t.join(".")});break;case"flattened":l=l.then(function(e){var t={};t.payload=e.payload;var r=e.signatures[0];return r.protected&&(t.protected=r.protected),r.header&&(t.header=r.header),t.signature=r.signature,t})}return l}})};e.exports={signer:c,createSign:function(e,t){var r=e,a=1,f=t;if(0===arguments.length)throw new Error("at least one signatory must be provided");1===arguments.length?(f=e,a=0,r={}):s.isKey(e)||e&&"kty"in e||e&&"key"in e&&(s.isKey(e.key)||"kty"in e.key)?(f=e,a=0,r={}):r=n(e),Array.isArray(f)||(f=u(arguments,a));var h=(r=i(n(l),r)).fields||{},p=r.format;if(p||(p=r.compact?"compact":"general"),("compact"===p||"flattened"===p)&&1<f.length)throw new Error("too many signatories for compact or flattened JSON serialization");var d="*"===r.protect;return r.compact&&(d=!0),f=f.map(function(e,t){return(e&&"kty"in e?s.asKey(e).then(function(e){return{key:e}}):e?s.asKey(e.key).then(function(t){return{header:e.header,reference:e.reference,protect:e.protect,key:t}}):Promise.reject(new Error("missing key for signatory "+t))).then(function(e){var t=e.key,r=e.header||{};r=i(i({},h),r),e.header=r,r.alg||(r.alg=t.algorithms(s.MODE_SIGN)[0]||"");var n,a=e.reference;if(delete e.reference,void 0===a?a=(a=["kid","jku","x5c","x5t","x5u"].some(function(e){return e in r}))?null:"kid":"boolean"==typeof a&&(a=a?"kid":null),a)if(n=t.toJSON(),"jwk"===a){if("oct"===t.kty)return Promise.reject(new Error("cannot embed key"));r.jwk=n}else a in n&&(r[a]=n[a]);var u=e.protect;if(d||"*"===u)u=Object.keys(r);else if("string"===u)u=[u];else if(Array.isArray(u))u=u.concat();else{if(u)return Promise.reject(new Error("protect must be a list of fields"));u=[]}return u=o(u),e.protected=u,Object.freeze(e)})}),new c({format:p},f)}}}).call(this,r(1).Buffer)},function(e,t){t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,l=u>>1,c=-7,f=r?i-1:0,h=r?-1:1,p=e[t+f];for(f+=h,o=p&(1<<-c)-1,p>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;c>0;a=256*a+e[t+f],f+=h,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=l}return(p?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[r+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[r+p]=255&a,p+=d,a/=256,l-=8);e[r+p-d]|=128*g}},function(e,t,r){"use strict";t.byteLength=function(e){var t=l(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){for(var t,r=l(e),n=r[0],a=r[1],s=new o(3*(n+a)/4-a),u=0,c=a>0?n-4:n,f=0;f<c;f+=4)t=i[e.charCodeAt(f)]<<18|i[e.charCodeAt(f+1)]<<12|i[e.charCodeAt(f+2)]<<6|i[e.charCodeAt(f+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;return 2===a&&(t=i[e.charCodeAt(f)]<<2|i[e.charCodeAt(f+1)]>>4,s[u++]=255&t),1===a&&(t=i[e.charCodeAt(f)]<<10|i[e.charCodeAt(f+1)]<<4|i[e.charCodeAt(f+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t),s},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(c(e,a,a+16383>s?s:a+16383));return 1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){var r=r||[];r.push(["_setAccount","UA-37952868-23"]),r.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://ssl.google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()}]);